{"version":3,"file":"631-78385300b61e4627c29a.js","mappings":"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","sources":["webpack://wiki/./node_modules/d3-array/src/max.js","webpack://wiki/./node_modules/d3-array/src/min.js","webpack://wiki/./node_modules/d3-color/src/color.js","webpack://wiki/./node_modules/d3-color/src/define.js","webpack://wiki/./node_modules/d3-color/src/math.js","webpack://wiki/./node_modules/d3-color/src/lab.js","webpack://wiki/./node_modules/d3-color/src/cubehelix.js","webpack://wiki/./node_modules/d3-dispatch/src/dispatch.js","webpack://wiki/./node_modules/d3-force/src/center.js","webpack://wiki/./node_modules/d3-force/src/constant.js","webpack://wiki/./node_modules/d3-force/src/jiggle.js","webpack://wiki/./node_modules/d3-force/src/collide.js","webpack://wiki/./node_modules/d3-force/src/link.js","webpack://wiki/./node_modules/d3-force/src/lcg.js","webpack://wiki/./node_modules/d3-force/src/simulation.js","webpack://wiki/./node_modules/d3-force/src/manyBody.js","webpack://wiki/./node_modules/d3-force/src/radial.js","webpack://wiki/./node_modules/d3-force/src/x.js","webpack://wiki/./node_modules/d3-force/src/y.js","webpack://wiki/./node_modules/d3-interpolate/src/constant.js","webpack://wiki/./node_modules/d3-interpolate/src/number.js","webpack://wiki/./node_modules/d3-interpolate/src/basis.js","webpack://wiki/./node_modules/d3-interpolate/src/color.js","webpack://wiki/./node_modules/d3-interpolate/src/rgb.js","webpack://wiki/./node_modules/d3-interpolate/src/basisClosed.js","webpack://wiki/./node_modules/d3-interpolate/src/string.js","webpack://wiki/./node_modules/d3-quadtree/src/add.js","webpack://wiki/./node_modules/d3-quadtree/src/quad.js","webpack://wiki/./node_modules/d3-quadtree/src/x.js","webpack://wiki/./node_modules/d3-quadtree/src/y.js","webpack://wiki/./node_modules/d3-quadtree/src/quadtree.js","webpack://wiki/./node_modules/d3-quadtree/src/cover.js","webpack://wiki/./node_modules/d3-quadtree/src/data.js","webpack://wiki/./node_modules/d3-quadtree/src/extent.js","webpack://wiki/./node_modules/d3-quadtree/src/find.js","webpack://wiki/./node_modules/d3-quadtree/src/remove.js","webpack://wiki/./node_modules/d3-quadtree/src/root.js","webpack://wiki/./node_modules/d3-quadtree/src/size.js","webpack://wiki/./node_modules/d3-quadtree/src/visit.js","webpack://wiki/./node_modules/d3-quadtree/src/visitAfter.js","webpack://wiki/./node_modules/d3-scale/src/band.js","webpack://wiki/./node_modules/d3-array/src/range.js","webpack://wiki/./node_modules/d3-array/src/ticks.js","webpack://wiki/./node_modules/d3-array/src/ascending.js","webpack://wiki/./node_modules/d3-array/src/descending.js","webpack://wiki/./node_modules/d3-array/src/bisector.js","webpack://wiki/./node_modules/d3-array/src/number.js","webpack://wiki/./node_modules/d3-array/src/bisect.js","webpack://wiki/./node_modules/d3-interpolate/src/array.js","webpack://wiki/./node_modules/d3-interpolate/src/date.js","webpack://wiki/./node_modules/d3-interpolate/src/object.js","webpack://wiki/./node_modules/d3-interpolate/src/numberArray.js","webpack://wiki/./node_modules/d3-interpolate/src/value.js","webpack://wiki/./node_modules/d3-interpolate/src/round.js","webpack://wiki/./node_modules/d3-scale/src/number.js","webpack://wiki/./node_modules/d3-scale/src/continuous.js","webpack://wiki/./node_modules/d3-scale/src/constant.js","webpack://wiki/./node_modules/d3-format/src/formatSpecifier.js","webpack://wiki/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://wiki/./node_modules/d3-format/src/formatDecimal.js","webpack://wiki/./node_modules/d3-format/src/exponent.js","webpack://wiki/./node_modules/d3-format/src/formatRounded.js","webpack://wiki/./node_modules/d3-format/src/formatTypes.js","webpack://wiki/./node_modules/d3-format/src/identity.js","webpack://wiki/./node_modules/d3-format/src/locale.js","webpack://wiki/./node_modules/d3-format/src/defaultLocale.js","webpack://wiki/./node_modules/d3-format/src/formatGroup.js","webpack://wiki/./node_modules/d3-format/src/formatNumerals.js","webpack://wiki/./node_modules/d3-format/src/formatTrim.js","webpack://wiki/./node_modules/d3-scale/src/tickFormat.js","webpack://wiki/./node_modules/d3-format/src/precisionPrefix.js","webpack://wiki/./node_modules/d3-format/src/precisionRound.js","webpack://wiki/./node_modules/d3-format/src/precisionFixed.js","webpack://wiki/./node_modules/d3-scale/src/linear.js","webpack://wiki/./node_modules/d3-scale/src/identity.js","webpack://wiki/./node_modules/d3-scale/src/nice.js","webpack://wiki/./node_modules/d3-scale/src/log.js","webpack://wiki/./node_modules/d3-scale/src/symlog.js","webpack://wiki/./node_modules/d3-scale/src/pow.js","webpack://wiki/./node_modules/d3-scale/src/radial.js","webpack://wiki/./node_modules/d3-array/src/sort.js","webpack://wiki/./node_modules/d3-array/src/quickselect.js","webpack://wiki/./node_modules/d3-array/src/quantile.js","webpack://wiki/./node_modules/d3-scale/src/quantile.js","webpack://wiki/./node_modules/d3-scale/src/quantize.js","webpack://wiki/./node_modules/d3-scale/src/threshold.js","webpack://wiki/./node_modules/d3-time/src/duration.js","webpack://wiki/./node_modules/d3-time/src/interval.js","webpack://wiki/./node_modules/d3-time/src/millisecond.js","webpack://wiki/./node_modules/d3-time/src/second.js","webpack://wiki/./node_modules/d3-time/src/minute.js","webpack://wiki/./node_modules/d3-time/src/hour.js","webpack://wiki/./node_modules/d3-time/src/day.js","webpack://wiki/./node_modules/d3-time/src/week.js","webpack://wiki/./node_modules/d3-time/src/month.js","webpack://wiki/./node_modules/d3-time/src/year.js","webpack://wiki/./node_modules/d3-time/src/ticks.js","webpack://wiki/./node_modules/d3-time-format/src/locale.js","webpack://wiki/./node_modules/d3-time-format/src/defaultLocale.js","webpack://wiki/./node_modules/d3-scale/src/time.js","webpack://wiki/./node_modules/d3-scale/src/utcTime.js","webpack://wiki/./node_modules/d3-scale/src/sequential.js","webpack://wiki/./node_modules/d3-scale/src/sequentialQuantile.js","webpack://wiki/./node_modules/d3-scale/src/diverging.js","webpack://wiki/./node_modules/d3-interpolate/src/piecewise.js","webpack://wiki/./node_modules/d3-scale/src/init.js","webpack://wiki/./node_modules/internmap/src/index.js","webpack://wiki/./node_modules/d3-scale/src/ordinal.js","webpack://wiki/./node_modules/d3-timer/src/timer.js","webpack://wiki/./node_modules/d3-selection/src/selector.js","webpack://wiki/./node_modules/d3-selection/src/selectorAll.js","webpack://wiki/./node_modules/d3-selection/src/selection/selectAll.js","webpack://wiki/./node_modules/d3-selection/src/array.js","webpack://wiki/./node_modules/d3-selection/src/matcher.js","webpack://wiki/./node_modules/d3-selection/src/selection/selectChild.js","webpack://wiki/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://wiki/./node_modules/d3-selection/src/selection/sparse.js","webpack://wiki/./node_modules/d3-selection/src/selection/enter.js","webpack://wiki/./node_modules/d3-selection/src/selection/data.js","webpack://wiki/./node_modules/d3-selection/src/selection/sort.js","webpack://wiki/./node_modules/d3-selection/src/namespaces.js","webpack://wiki/./node_modules/d3-selection/src/namespace.js","webpack://wiki/./node_modules/d3-selection/src/selection/attr.js","webpack://wiki/./node_modules/d3-selection/src/window.js","webpack://wiki/./node_modules/d3-selection/src/selection/style.js","webpack://wiki/./node_modules/d3-selection/src/selection/property.js","webpack://wiki/./node_modules/d3-selection/src/selection/classed.js","webpack://wiki/./node_modules/d3-selection/src/selection/text.js","webpack://wiki/./node_modules/d3-selection/src/selection/html.js","webpack://wiki/./node_modules/d3-selection/src/selection/raise.js","webpack://wiki/./node_modules/d3-selection/src/selection/lower.js","webpack://wiki/./node_modules/d3-selection/src/creator.js","webpack://wiki/./node_modules/d3-selection/src/selection/insert.js","webpack://wiki/./node_modules/d3-selection/src/selection/remove.js","webpack://wiki/./node_modules/d3-selection/src/selection/clone.js","webpack://wiki/./node_modules/d3-selection/src/selection/on.js","webpack://wiki/./node_modules/d3-selection/src/selection/dispatch.js","webpack://wiki/./node_modules/d3-selection/src/selection/index.js","webpack://wiki/./node_modules/d3-selection/src/selection/select.js","webpack://wiki/./node_modules/d3-selection/src/selection/filter.js","webpack://wiki/./node_modules/d3-selection/src/constant.js","webpack://wiki/./node_modules/d3-selection/src/selection/exit.js","webpack://wiki/./node_modules/d3-selection/src/selection/join.js","webpack://wiki/./node_modules/d3-selection/src/selection/merge.js","webpack://wiki/./node_modules/d3-selection/src/selection/order.js","webpack://wiki/./node_modules/d3-selection/src/selection/call.js","webpack://wiki/./node_modules/d3-selection/src/selection/nodes.js","webpack://wiki/./node_modules/d3-selection/src/selection/node.js","webpack://wiki/./node_modules/d3-selection/src/selection/size.js","webpack://wiki/./node_modules/d3-selection/src/selection/empty.js","webpack://wiki/./node_modules/d3-selection/src/selection/each.js","webpack://wiki/./node_modules/d3-selection/src/selection/append.js","webpack://wiki/./node_modules/d3-selection/src/selection/datum.js","webpack://wiki/./node_modules/d3-selection/src/selection/iterator.js","webpack://wiki/./node_modules/d3-selection/src/select.js","webpack://wiki/./node_modules/d3-drag/src/noevent.js","webpack://wiki/./node_modules/d3-drag/src/nodrag.js","webpack://wiki/./node_modules/d3-interpolate/src/zoom.js","webpack://wiki/./node_modules/d3-selection/src/pointer.js","webpack://wiki/./node_modules/d3-selection/src/sourceEvent.js","webpack://wiki/./node_modules/d3-timer/src/timeout.js","webpack://wiki/./node_modules/d3-transition/src/transition/schedule.js","webpack://wiki/./node_modules/d3-transition/src/interrupt.js","webpack://wiki/./node_modules/d3-interpolate/src/transform/parse.js","webpack://wiki/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://wiki/./node_modules/d3-interpolate/src/transform/index.js","webpack://wiki/./node_modules/d3-transition/src/transition/tween.js","webpack://wiki/./node_modules/d3-transition/src/transition/interpolate.js","webpack://wiki/./node_modules/d3-transition/src/transition/attr.js","webpack://wiki/./node_modules/d3-transition/src/transition/attrTween.js","webpack://wiki/./node_modules/d3-transition/src/transition/delay.js","webpack://wiki/./node_modules/d3-transition/src/transition/duration.js","webpack://wiki/./node_modules/d3-transition/src/transition/selection.js","webpack://wiki/./node_modules/d3-transition/src/transition/style.js","webpack://wiki/./node_modules/d3-transition/src/transition/index.js","webpack://wiki/./node_modules/d3-transition/src/transition/select.js","webpack://wiki/./node_modules/d3-transition/src/transition/selectAll.js","webpack://wiki/./node_modules/d3-transition/src/transition/filter.js","webpack://wiki/./node_modules/d3-transition/src/transition/merge.js","webpack://wiki/./node_modules/d3-transition/src/transition/transition.js","webpack://wiki/./node_modules/d3-transition/src/transition/on.js","webpack://wiki/./node_modules/d3-transition/src/transition/styleTween.js","webpack://wiki/./node_modules/d3-transition/src/transition/text.js","webpack://wiki/./node_modules/d3-transition/src/transition/textTween.js","webpack://wiki/./node_modules/d3-transition/src/transition/remove.js","webpack://wiki/./node_modules/d3-transition/src/transition/ease.js","webpack://wiki/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://wiki/./node_modules/d3-transition/src/transition/end.js","webpack://wiki/./node_modules/d3-transition/src/selection/transition.js","webpack://wiki/./node_modules/d3-ease/src/cubic.js","webpack://wiki/./node_modules/d3-transition/src/selection/index.js","webpack://wiki/./node_modules/d3-transition/src/selection/interrupt.js","webpack://wiki/./node_modules/d3-zoom/src/constant.js","webpack://wiki/./node_modules/d3-zoom/src/event.js","webpack://wiki/./node_modules/d3-zoom/src/transform.js","webpack://wiki/./node_modules/d3-zoom/src/noevent.js","webpack://wiki/./node_modules/d3-zoom/src/zoom.js","webpack://wiki/./node_modules/d3-drag/src/constant.js","webpack://wiki/./node_modules/d3-drag/src/event.js","webpack://wiki/./node_modules/d3-drag/src/drag.js","webpack://wiki/./node_modules/lodash-es/isObject.js","webpack://wiki/./node_modules/lodash-es/_freeGlobal.js","webpack://wiki/./node_modules/lodash-es/_root.js","webpack://wiki/./node_modules/lodash-es/now.js","webpack://wiki/./node_modules/lodash-es/_trimmedEndIndex.js","webpack://wiki/./node_modules/lodash-es/_baseTrim.js","webpack://wiki/./node_modules/lodash-es/_Symbol.js","webpack://wiki/./node_modules/lodash-es/_getRawTag.js","webpack://wiki/./node_modules/lodash-es/_objectToString.js","webpack://wiki/./node_modules/lodash-es/_baseGetTag.js","webpack://wiki/./node_modules/lodash-es/isObjectLike.js","webpack://wiki/./node_modules/lodash-es/isSymbol.js","webpack://wiki/./node_modules/lodash-es/toNumber.js","webpack://wiki/./node_modules/lodash-es/debounce.js","webpack://wiki/./node_modules/lodash-es/throttle.js","webpack://wiki/./node_modules/@tweenjs/tween.js/dist/tween.esm.js","webpack://wiki/./node_modules/kapsule/dist/kapsule.mjs","webpack://wiki/./node_modules/accessor-fn/dist/accessor-fn.mjs","webpack://wiki/./node_modules/tinycolor2/esm/tinycolor.js","webpack://wiki/./node_modules/canvas-color-tracker/dist/canvas-color-tracker.mjs","webpack://wiki/./node_modules/d3-force-3d/src/lcg.js","webpack://wiki/./node_modules/d3-force-3d/src/simulation.js","webpack://wiki/./node_modules/d3-force-3d/src/constant.js","webpack://wiki/./node_modules/d3-force-3d/src/jiggle.js","webpack://wiki/./node_modules/d3-force-3d/src/link.js","webpack://wiki/./node_modules/d3-binarytree/src/add.js","webpack://wiki/./node_modules/d3-binarytree/src/half.js","webpack://wiki/./node_modules/d3-binarytree/src/x.js","webpack://wiki/./node_modules/d3-binarytree/src/binarytree.js","webpack://wiki/./node_modules/d3-binarytree/src/cover.js","webpack://wiki/./node_modules/d3-binarytree/src/data.js","webpack://wiki/./node_modules/d3-binarytree/src/extent.js","webpack://wiki/./node_modules/d3-binarytree/src/find.js","webpack://wiki/./node_modules/d3-binarytree/src/remove.js","webpack://wiki/./node_modules/d3-binarytree/src/root.js","webpack://wiki/./node_modules/d3-binarytree/src/size.js","webpack://wiki/./node_modules/d3-binarytree/src/visit.js","webpack://wiki/./node_modules/d3-binarytree/src/visitAfter.js","webpack://wiki/./node_modules/d3-octree/src/add.js","webpack://wiki/./node_modules/d3-octree/src/octant.js","webpack://wiki/./node_modules/d3-octree/src/x.js","webpack://wiki/./node_modules/d3-octree/src/y.js","webpack://wiki/./node_modules/d3-octree/src/z.js","webpack://wiki/./node_modules/d3-octree/src/octree.js","webpack://wiki/./node_modules/d3-force-3d/src/manyBody.js","webpack://wiki/./node_modules/d3-force-3d/src/center.js","webpack://wiki/./node_modules/d3-octree/src/cover.js","webpack://wiki/./node_modules/d3-octree/src/data.js","webpack://wiki/./node_modules/d3-octree/src/extent.js","webpack://wiki/./node_modules/d3-octree/src/find.js","webpack://wiki/./node_modules/d3-octree/src/remove.js","webpack://wiki/./node_modules/d3-octree/src/root.js","webpack://wiki/./node_modules/d3-octree/src/size.js","webpack://wiki/./node_modules/d3-octree/src/visit.js","webpack://wiki/./node_modules/d3-octree/src/visitAfter.js","webpack://wiki/./node_modules/bezier-js/src/utils.js","webpack://wiki/./node_modules/bezier-js/src/poly-bezier.js","webpack://wiki/./node_modules/bezier-js/src/bezier.js","webpack://wiki/./node_modules/index-array-by/dist/index-array-by.mjs","webpack://wiki/./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://wiki/./node_modules/d3-scale-chromatic/src/colors.js","webpack://wiki/./node_modules/force-graph/dist/force-graph.mjs","webpack://wiki/./node_modules/d3-force-3d/src/radial.js","webpack://wiki/./node_modules/note-graph/dist/note-graph.umd.js","webpack://wiki/./node_modules/gatsby-theme-primer-wiki/src/use-note-graph-data.js","webpack://wiki/./node_modules/dom-helpers/esm/ownerDocument.js","webpack://wiki/./node_modules/dom-helpers/esm/activeElement.js","webpack://wiki/./node_modules/dom-helpers/esm/contains.js","webpack://wiki/./node_modules/dom-helpers/esm/canUseDOM.js","webpack://wiki/./node_modules/dom-helpers/esm/addEventListener.js","webpack://wiki/./node_modules/dom-helpers/esm/removeEventListener.js","webpack://wiki/./node_modules/dom-helpers/esm/listen.js","webpack://wiki/./node_modules/@restart/hooks/esm/useWillUnmount.js","webpack://wiki/./node_modules/@restart/hooks/esm/useUpdatedRef.js","webpack://wiki/./node_modules/@restart/hooks/esm/useCommittedRef.js","webpack://wiki/./node_modules/@restart/hooks/esm/useEventCallback.js","webpack://wiki/./node_modules/dom-helpers/esm/addClass.js","webpack://wiki/./node_modules/dom-helpers/esm/hasClass.js","webpack://wiki/./node_modules/dom-helpers/esm/removeClass.js","webpack://wiki/./node_modules/dom-helpers/esm/getComputedStyle.js","webpack://wiki/./node_modules/dom-helpers/esm/ownerWindow.js","webpack://wiki/./node_modules/dom-helpers/esm/hyphenate.js","webpack://wiki/./node_modules/dom-helpers/esm/hyphenateStyle.js","webpack://wiki/./node_modules/dom-helpers/esm/isTransform.js","webpack://wiki/./node_modules/dom-helpers/esm/css.js","webpack://wiki/./node_modules/dom-helpers/esm/scrollbarSize.js","webpack://wiki/./node_modules/dom-helpers/esm/isWindow.js","webpack://wiki/./node_modules/dom-helpers/esm/isDocument.js","webpack://wiki/./node_modules/react-overlays/esm/isOverflowing.js","webpack://wiki/./node_modules/react-overlays/esm/manageAriaHidden.js","webpack://wiki/./node_modules/react-overlays/esm/ModalManager.js","webpack://wiki/./node_modules/react-overlays/esm/Modal.js","webpack://wiki/./node_modules/react-overlays/esm/useWaitForDOMRef.js","webpack://wiki/./node_modules/@restart/hooks/esm/useMounted.js","webpack://wiki/./node_modules/@restart/hooks/esm/usePrevious.js","webpack://wiki/./node_modules/gatsby-theme-primer-wiki/src/components/graph-view.js","webpack://wiki/./node_modules/gatsby-theme-primer-wiki/src/use-window-size.js"],"sourcesContent":["export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null && (max < value || max === undefined && value >= value)) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (max < value || max === undefined && value >= value)) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null && (min > value || min === undefined && value >= value)) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (min > value || min === undefined && value >= value)) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}","import define, { extend } from \"./define.js\";\nexport function Color() {}\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n  reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n  reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n  reHex = /^#([0-9a-f]{3,8})$/,\n  reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n  reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n  reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n  reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n  reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n  reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n  : l === 3 ? new Rgb(m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n  : l === 4 ? rgba(m >> 12 & 0xf | m >> 8 & 0xf0, m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, ((m & 0xf) << 4 | m & 0xf) / 0xff) // #f000\n  : null // invalid hex\n  ) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n  : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n    g = o.g / 255,\n    b = o.b / 255,\n    min = Math.min(r, g, b),\n    max = Math.max(r, g, b),\n    h = NaN,\n    s = max - min,\n    l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n      s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n      l = this.l,\n      m2 = l + (l < 0.5 ? l : 1 - l) * s,\n      m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}","export default function (constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;","import define, { extend } from \"./define.js\";\nimport { Color, rgbConvert, Rgb } from \"./color.js\";\nimport { degrees, radians } from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n  Xn = 0.96422,\n  Yn = 1,\n  Zn = 0.82521,\n  t0 = 4 / 29,\n  t1 = 6 / 29,\n  t2 = 3 * t1 * t1,\n  t3 = t1 * t1 * t1;\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n    g = rgb2lrgb(o.g),\n    b = rgb2lrgb(o.b),\n    y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn),\n    x,\n    z;\n  if (r === g && g === b) x = z = y;else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n      x = isNaN(this.a) ? y : y + this.a / 500,\n      z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(lrgb2rgb(3.1338561 * x - 1.6168667 * y - 0.4906146 * z), lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z), lrgb2rgb(0.0719453 * x - 0.2289914 * y + 1.4052427 * z), this.opacity);\n  }\n}));\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));","import define, { extend } from \"./define.js\";\nimport { Color, rgbConvert, Rgb, darker, brighter } from \"./color.js\";\nimport { degrees, radians } from \"./math.js\";\nvar A = -0.14861,\n  B = +1.78277,\n  C = -0.29227,\n  D = -0.90649,\n  E = +1.97294,\n  ED = E * D,\n  EB = E * B,\n  BC_DA = B * C - D * A;\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n    g = o.g / 255,\n    b = o.b / 255,\n    l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n    bl = b - l,\n    k = (E * (g - l) - C * bl) / D,\n    s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)),\n    // NaN if l=0 or l=1\n    h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n      l = +this.l,\n      a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n      cosh = Math.cos(h),\n      sinh = Math.sin(h);\n    return new Rgb(255 * (l + a * (A * cosh + B * sinh)), 255 * (l + a * (C * cosh + D * sinh)), 255 * (l + a * (E * cosh)), this.opacity);\n  }\n}));","var noop = {\n  value: () => {}\n};\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\nfunction Dispatch(_) {\n  this._ = _;\n}\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n      i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {\n      type: t,\n      name: name\n    };\n  });\n}\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function (typename, callback) {\n    var _ = this._,\n      T = parseTypenames(typename + \"\", _),\n      t,\n      i = -1,\n      n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n    return this;\n  },\n  copy: function () {\n    var copy = {},\n      _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function (type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function (type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({\n    name: name,\n    value: callback\n  });\n  return type;\n}\nexport default dispatch;","export default function (x, y) {\n  var nodes,\n    strength = 1;\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  function force() {\n    var i,\n      n = nodes.length,\n      node,\n      sx = 0,\n      sy = 0;\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n  force.initialize = function (_) {\n    nodes = _;\n  };\n  force.x = function (_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n  force.y = function (_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n  return force;\n}","export default function (x) {\n  return function () {\n    return x;\n  };\n}","export default function (random) {\n  return (random() - 0.5) * 1e-6;\n}","import { quadtree } from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nfunction x(d) {\n  return d.x + d.vx;\n}\nfunction y(d) {\n  return d.y + d.vy;\n}\nexport default function (radius) {\n  var nodes,\n    radii,\n    random,\n    strength = 1,\n    iterations = 1;\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n  function force() {\n    var i,\n      n = nodes.length,\n      tree,\n      node,\n      xi,\n      yi,\n      ri,\n      ri2;\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data,\n        rj = quad.r,\n        r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n            y = yi - data.y - data.vy,\n            l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length,\n      node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n  force.initialize = function (_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n  force.iterations = function (_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n  force.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n  return force;\n}","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nfunction index(d) {\n  return d.index;\n}\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\nexport default function (links) {\n  var id = index,\n    strength = defaultStrength,\n    strengths,\n    distance = constant(30),\n    distances,\n    nodes,\n    count,\n    bias,\n    random,\n    iterations = 1;\n  if (links == null) links = [];\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length,\n      m = links.length,\n      nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n      link;\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n  function initializeStrength() {\n    if (!nodes) return;\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n  function initializeDistance() {\n    if (!nodes) return;\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n  force.initialize = function (_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n  force.links = function (_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n  force.id = function (_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n  force.iterations = function (_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n  force.distance = function (_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n  return force;\n}","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function () {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}","import { dispatch } from \"d3-dispatch\";\nimport { timer } from \"d3-timer\";\nimport lcg from \"./lcg.js\";\nexport function x(d) {\n  return d.x;\n}\nexport function y(d) {\n  return d.y;\n}\nvar initialRadius = 10,\n  initialAngle = Math.PI * (3 - Math.sqrt(5));\nexport default function (nodes) {\n  var simulation,\n    alpha = 1,\n    alphaMin = 0.001,\n    alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n    alphaTarget = 0,\n    velocityDecay = 0.6,\n    forces = new Map(),\n    stepper = timer(step),\n    event = dispatch(\"tick\", \"end\"),\n    random = lcg();\n  if (nodes == null) nodes = [];\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n  function tick(iterations) {\n    var i,\n      n = nodes.length,\n      node;\n    if (iterations === undefined) iterations = 1;\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n      forces.forEach(function (force) {\n        force(alpha);\n      });\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;else node.y = node.fy, node.vy = 0;\n      }\n    }\n    return simulation;\n  }\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i),\n          angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n  initializeNodes();\n  return simulation = {\n    tick: tick,\n    restart: function () {\n      return stepper.restart(step), simulation;\n    },\n    stop: function () {\n      return stepper.stop(), simulation;\n    },\n    nodes: function (_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n    alpha: function (_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n    alphaMin: function (_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n    alphaDecay: function (_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n    alphaTarget: function (_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n    velocityDecay: function (_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n    randomSource: function (_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n    force: function (name, _) {\n      return arguments.length > 1 ? (_ == null ? forces.delete(name) : forces.set(name, initializeForce(_)), simulation) : forces.get(name);\n    },\n    find: function (x, y, radius) {\n      var i = 0,\n        n = nodes.length,\n        dx,\n        dy,\n        d2,\n        node,\n        closest;\n      if (radius == null) radius = Infinity;else radius *= radius;\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n      return closest;\n    },\n    on: function (name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}","import { quadtree } from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport { x, y } from \"./simulation.js\";\nexport default function () {\n  var nodes,\n    node,\n    random,\n    alpha,\n    strength = constant(-30),\n    strengths,\n    distanceMin2 = 1,\n    distanceMax2 = Infinity,\n    theta2 = 0.81;\n  function force(_) {\n    var i,\n      n = nodes.length,\n      tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length,\n      node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n  function accumulate(quad) {\n    var strength = 0,\n      q,\n      c,\n      weight = 0,\n      x,\n      y,\n      i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index]; while (q = q.next);\n    }\n    quad.value = strength;\n  }\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n    var x = quad.x - node.x,\n      y = quad.y - node.y,\n      w = x2 - x1,\n      l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n  force.initialize = function (_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n  force.distanceMin = function (_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n  force.distanceMax = function (_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n  force.theta = function (_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n  return force;\n}","import constant from \"./constant.js\";\nexport default function (radius, x, y) {\n  var nodes,\n    strength = constant(0.1),\n    strengths,\n    radiuses;\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n        dx = node.x - x || 1e-6,\n        dy = node.y - y || 1e-6,\n        r = Math.sqrt(dx * dx + dy * dy),\n        k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n  force.initialize = function (_) {\n    nodes = _, initialize();\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n  force.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n  force.x = function (_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n  force.y = function (_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n  return force;\n}","import constant from \"./constant.js\";\nexport default function (x) {\n  var strength = constant(0.1),\n    nodes,\n    strengths,\n    xz;\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n  force.initialize = function (_) {\n    nodes = _;\n    initialize();\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n  force.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n  return force;\n}","import constant from \"./constant.js\";\nexport default function (y) {\n  var strength = constant(0.1),\n    nodes,\n    strengths,\n    yz;\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n  force.initialize = function (_) {\n    nodes = _;\n    initialize();\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n  force.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n  return force;\n}","export default (x => () => x);","export default function (a, b) {\n  return a = +a, b = +b, function (t) {\n    return a * (1 - t) + b * t;\n  };\n}","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1,\n    t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0 + (4 - 6 * t2 + 3 * t3) * v1 + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2 + t3 * v3) / 6;\n}\nexport default function (values) {\n  var n = values.length - 1;\n  return function (t) {\n    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n      v1 = values[i],\n      v2 = values[i + 1],\n      v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n      v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}","import constant from \"./constant.js\";\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}","import { rgb as colorRgb } from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, { gamma } from \"./color.js\";\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n      g = color(start.g, end.g),\n      b = color(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n  rgb.gamma = rgbGamma;\n  return rgb;\n})(1);\nfunction rgbSpline(spline) {\n  return function (colors) {\n    var n = colors.length,\n      r = new Array(n),\n      g = new Array(n),\n      b = new Array(n),\n      i,\n      color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function (t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);","import { basis } from \"./basis.js\";\nexport default function (values) {\n  var n = values.length;\n  return function (t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n      v0 = values[(i + n - 1) % n],\n      v1 = values[i % n],\n      v2 = values[(i + 1) % n],\n      v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}","import number from \"./number.js\";\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n  reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\nexport default function (a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n    // scan index for next number in b\n    am,\n    // current match in a\n    bm,\n    // current match in b\n    bs,\n    // string preceding current number in b, if any\n    i = -1,\n    // index in s\n    s = [],\n    // string constants and placeholders\n    q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: number(am, bm)\n      });\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n    return s.join(\"\");\n  });\n}","export default function (d) {\n  const x = +this._x.call(null, d),\n    y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n    node = tree._root,\n    leaf = {\n      data: d\n    },\n    x0 = tree._x0,\n    y0 = tree._y0,\n    x1 = tree._x1,\n    y1 = tree._y1,\n    xm,\n    ym,\n    xp,\n    yp,\n    right,\n    bottom,\n    i,\n    j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | xp >= xm));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\nexport function addAll(data) {\n  var d,\n    i,\n    n = data.length,\n    x,\n    y,\n    xz = new Array(n),\n    yz = new Array(n),\n    x0 = Infinity,\n    y0 = Infinity,\n    x1 = -Infinity,\n    y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n  return this;\n}","export default function (node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}","export function defaultX(d) {\n  return d[0];\n}\nexport default function (_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}","export function defaultY(d) {\n  return d[1];\n}\nexport default function (_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}","import tree_add, { addAll as tree_addAll } from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, { removeAll as tree_removeAll } from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, { defaultX } from \"./x.js\";\nimport tree_y, { defaultY } from \"./y.js\";\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\nfunction leaf_copy(leaf) {\n  var copy = {\n      data: leaf.data\n    },\n    next = copy;\n  while (leaf = leaf.next) next = next.next = {\n    data: leaf.data\n  };\n  return copy;\n}\nvar treeProto = quadtree.prototype = Quadtree.prototype;\ntreeProto.copy = function () {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n    node = this._root,\n    nodes,\n    child;\n  if (!node) return copy;\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n  nodes = [{\n    source: node,\n    target: copy._root = new Array(4)\n  }];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({\n          source: child,\n          target: node.target[i] = new Array(4)\n        });else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n  return copy;\n};\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;","export default function (x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n    y0 = this._y0,\n    x1 = this._x1,\n    y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n      node = this._root,\n      parent,\n      i;\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | x < x0;\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0:\n          x1 = x0 + z, y1 = y0 + z;\n          break;\n        case 1:\n          x0 = x1 - z, y1 = y0 + z;\n          break;\n        case 2:\n          x1 = x0 + z, y0 = y1 - z;\n          break;\n        case 3:\n          x0 = x1 - z, y0 = y1 - z;\n          break;\n      }\n    }\n    if (this._root && this._root.length) this._root = node;\n  }\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}","export default function () {\n  var data = [];\n  this.visit(function (node) {\n    if (!node.length) do data.push(node.data); while (node = node.next);\n  });\n  return data;\n}","export default function (_) {\n  return arguments.length ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1]) : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}","import Quad from \"./quad.js\";\nexport default function (x, y, radius) {\n  var data,\n    x0 = this._x0,\n    y0 = this._y0,\n    x1,\n    y1,\n    x2,\n    y2,\n    x3 = this._x1,\n    y3 = this._y1,\n    quads = [],\n    node = this._root,\n    q,\n    i;\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n  while (q = quads.pop()) {\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node) || (x1 = q.x0) > x3 || (y1 = q.y0) > y3 || (x2 = q.x1) < x0 || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n        ym = (y1 + y2) / 2;\n      quads.push(new Quad(node[3], xm, ym, x2, y2), new Quad(node[2], x1, ym, xm, y2), new Quad(node[1], xm, y1, x2, ym), new Quad(node[0], x1, y1, xm, ym));\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | x >= xm) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n        dy = y - +this._y.call(null, node.data),\n        d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n  return data;\n}","export default function (d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n    node = this._root,\n    retainer,\n    previous,\n    next,\n    x0 = this._x0,\n    y0 = this._y0,\n    x1 = this._x1,\n    y1 = this._y1,\n    x,\n    y,\n    xm,\n    ym,\n    right,\n    bottom,\n    i,\n    j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[i + 1 & 3] || parent[i + 2 & 3] || parent[i + 3 & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return next ? previous.next = next : delete previous.next, this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3]) && node === (parent[3] || parent[2] || parent[1] || parent[0]) && !node.length) {\n    if (retainer) retainer[j] = node;else this._root = node;\n  }\n  return this;\n}\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}","export default function () {\n  return this._root;\n}","export default function () {\n  var size = 0;\n  this.visit(function (node) {\n    if (!node.length) do ++size; while (node = node.next);\n  });\n  return size;\n}","import Quad from \"./quad.js\";\nexport default function (callback) {\n  var quads = [],\n    q,\n    node = this._root,\n    child,\n    x0,\n    y0,\n    x1,\n    y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2,\n        ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}","import Quad from \"./quad.js\";\nexport default function (callback) {\n  var quads = [],\n    next = [],\n    q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child,\n        x0 = q.x0,\n        y0 = q.y0,\n        x1 = q.x1,\n        y1 = q.y1,\n        xm = (x0 + x1) / 2,\n        ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}","import { range as sequence } from \"d3-array\";\nimport { initRange } from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n    domain = scale.domain,\n    ordinalRange = scale.range,\n    r0 = 0,\n    r1 = 1,\n    step,\n    bandwidth,\n    round = false,\n    paddingInner = 0,\n    paddingOuter = 0,\n    align = 0.5;\n  delete scale.unknown;\n  function rescale() {\n    var n = domain().length,\n      reverse = r1 < r0,\n      start = reverse ? r1 : r0,\n      stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function (i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n  scale.range = function (_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n  scale.rangeRound = function (_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n  scale.bandwidth = function () {\n    return bandwidth;\n  };\n  scale.step = function () {\n    return step;\n  };\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n  scale.padding = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n  scale.paddingInner = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n  scale.paddingOuter = function (_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n  scale.align = function (_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n  scale.copy = function () {\n    return band(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n  return initRange.apply(rescale(), arguments);\n}\nfunction pointish(scale) {\n  var copy = scale.copy;\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n  scale.copy = function () {\n    return pointish(copy());\n  };\n  return scale;\n}\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n    n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n    range = new Array(n);\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n  return range;\n}","const e10 = Math.sqrt(50),\n  e5 = Math.sqrt(10),\n  e2 = Math.sqrt(2);\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n    power = Math.floor(Math.log10(step)),\n    error = step / Math.pow(10, power),\n    factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start,\n    [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1,\n    ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start,\n    inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","export default function descending(a, b) {\n  return a == null || b == null ? NaN : b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n  function left(a, x) {\n    let lo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let hi = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : a.length;\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = lo + hi >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n  function right(a, x) {\n    let lo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let hi = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : a.length;\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = lo + hi >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n  function center(a, x) {\n    let lo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    let hi = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n  return {\n    left,\n    center,\n    right\n  };\n}\nfunction zero() {\n  return 0;\n}","export default function number(x) {\n  return x === null ? NaN : +x;\n}\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;","import value from \"./value.js\";\nimport numberArray, { isNumberArray } from \"./numberArray.js\";\nexport default function (a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n    na = a ? Math.min(nb, a.length) : 0,\n    x = new Array(na),\n    c = new Array(nb),\n    i;\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n  return function (t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}","export default function (a, b) {\n  var d = new Date();\n  return a = +a, b = +b, function (t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}","import value from \"./value.js\";\nexport default function (a, b) {\n  var i = {},\n    c = {},\n    k;\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n  return function (t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}","export default function (a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n    c = b.slice(),\n    i;\n  return function (t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}","import { color } from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport { genericArray } from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, { isNumberArray } from \"./numberArray.js\";\nexport default function (a, b) {\n  var t = typeof b,\n    c;\n  return b == null || t === \"boolean\" ? constant(b) : (t === \"number\" ? number : t === \"string\" ? (c = color(b)) ? (b = c, rgb) : string : b instanceof color ? rgb : b instanceof Date ? date : isNumberArray(b) ? numberArray : Array.isArray(b) ? genericArray : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : number)(a, b);\n}","export default function (a, b) {\n  return a = +a, b = +b, function (t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}","export default function number(x) {\n  return +x;\n}","import { bisect } from \"d3-array\";\nimport { interpolate as interpolateValue, interpolateNumber, interpolateRound } from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\nvar unit = [0, 1];\nexport function identity(x) {\n  return x;\n}\nfunction normalize(a, b) {\n  return (b -= a = +a) ? function (x) {\n    return (x - a) / b;\n  } : constant(isNaN(b) ? NaN : 0.5);\n}\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function (x) {\n    return Math.max(a, Math.min(b, x));\n  };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n    d1 = domain[1],\n    r0 = range[0],\n    r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function (x) {\n    return r0(d0(x));\n  };\n}\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n    d = new Array(j),\n    r = new Array(j),\n    i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n  return function (x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\nexport function copy(source, target) {\n  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());\n}\nexport function transformer() {\n  var domain = unit,\n    range = unit,\n    interpolate = interpolateValue,\n    transform,\n    untransform,\n    unknown,\n    clamp = identity,\n    piecewise,\n    output,\n    input;\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n  scale.invert = function (y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n  scale.rangeRound = function (_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n  scale.interpolate = function (_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  return function (t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\nexport default function continuous() {\n  return transformer()(identity, identity);\n}","export default function constants(x) {\n  return function () {\n    return x;\n  };\n}","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\nFormatSpecifier.prototype.toString = function () {\n  return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width === undefined ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0)) + (this.trim ? \"~\" : \"\") + this.type;\n};","import { formatDecimalParts } from \"./formatDecimal.js\";\nexport var prefixExponent;\nexport default function (x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n    exponent = d[1],\n    i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n    n = coefficient.length;\n  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}","export default function (x) {\n  return Math.abs(x = Math.round(x)) >= 1e21 ? x.toLocaleString(\"en\").replace(/,/g, \"\") : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i,\n    coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n}","import { formatDecimalParts } from \"./formatDecimal.js\";\nexport default function (x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}","import { formatDecimalParts } from \"./formatDecimal.js\";\nexport default function (x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n    exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": x => Math.round(x).toString(2),\n  \"c\": x => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": x => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": x => Math.round(x).toString(16).toUpperCase(),\n  \"x\": x => Math.round(x).toString(16)\n};","export default function (x) {\n  return x;\n}","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport { prefixExponent } from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\nvar map = Array.prototype.map,\n  prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\nexport default function (locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n    currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n    currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n    decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n    numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n    percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n    minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n    nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n    var fill = specifier.fill,\n      align = specifier.align,\n      sign = specifier.sign,\n      symbol = specifier.symbol,\n      zero = specifier.zero,\n      width = specifier.width,\n      comma = specifier.comma,\n      precision = specifier.precision,\n      trim = specifier.trim,\n      type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n      suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n      maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n    function format(value) {\n      var valuePrefix = prefix,\n        valueSuffix = suffix,\n        i,\n        n,\n        c;\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? sign === \"(\" ? sign : minus : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n        padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\":\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n        case \"=\":\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n        case \"^\":\n          value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          break;\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n      return numerals(value);\n    }\n    format.toString = function () {\n      return specifier + \"\";\n    };\n    return format;\n  }\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n      e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n      k = Math.pow(10, -e),\n      prefix = prefixes[8 + e / 3];\n    return function (value) {\n      return f(k * value) + prefix;\n    };\n  }\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}","import formatLocale from \"./locale.js\";\nvar locale;\nexport var format;\nexport var formatPrefix;\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}","export default function (grouping, thousands) {\n  return function (value, width) {\n    var i = value.length,\n      t = [],\n      j = 0,\n      g = grouping[0],\n      length = 0;\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n    return t.reverse().join(thousands);\n  };\n}","export default function (numerals) {\n  return function (value) {\n    return value.replace(/[0-9]/g, function (i) {\n      return numerals[+i];\n    });\n  };\n}","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function (s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\":\n        i0 = i1 = i;\n        break;\n      case \"0\":\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n      default:\n        if (!+s[i]) break out;\n        if (i0 > 0) i0 = 0;\n        break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}","import { tickStep } from \"d3-array\";\nimport { format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound } from \"d3-format\";\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n    precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\":\n      {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return formatPrefix(specifier, value);\n      }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n    case \"f\":\n    case \"%\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n  }\n  return format(specifier);\n}","import exponent from \"./exponent.js\";\nexport default function (step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}","import exponent from \"./exponent.js\";\nexport default function (step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}","import exponent from \"./exponent.js\";\nexport default function (step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}","import { ticks, tickIncrement } from \"d3-array\";\nimport continuous, { copy } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\nexport function linearish(scale) {\n  var domain = scale.domain;\n  scale.ticks = function (count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n  scale.tickFormat = function (count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n  scale.nice = function (count) {\n    if (count == null) count = 10;\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n    return scale;\n  };\n  return scale;\n}\nexport default function linear() {\n  var scale = continuous();\n  scale.copy = function () {\n    return copy(scale, linear());\n  };\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}","import { linearish } from \"./linear.js\";\nimport number from \"./number.js\";\nexport default function identity(domain) {\n  var unknown;\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n  scale.invert = scale;\n  scale.domain = scale.range = function (_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  scale.copy = function () {\n    return identity(domain).unknown(unknown);\n  };\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n  return linearish(scale);\n}","export default function nice(domain, interval) {\n  domain = domain.slice();\n  var i0 = 0,\n    i1 = domain.length - 1,\n    x0 = domain[i0],\n    x1 = domain[i1],\n    t;\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}","import { ticks } from \"d3-array\";\nimport { format, formatSpecifier } from \"d3-format\";\nimport nice from \"./nice.js\";\nimport { copy, transformer } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\nfunction transformLog(x) {\n  return Math.log(x);\n}\nfunction transformExp(x) {\n  return Math.exp(x);\n}\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\nfunction powp(base) {\n  return base === 10 ? pow10 : base === Math.E ? Math.exp : x => Math.pow(base, x);\n}\nfunction logp(base) {\n  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), x => Math.log(x) / base);\n}\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n    if (r) [u, v] = [v, u];\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n  return scale;\n}\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}","import { linearish } from \"./linear.js\";\nimport { copy, transformer } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\nfunction transformSymlog(c) {\n  return function (x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\nfunction transformSymexp(c) {\n  return function (x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\nexport function symlogish(transform) {\n  var c = 1,\n    scale = transform(transformSymlog(c), transformSymexp(c));\n  scale.constant = function (_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n  return linearish(scale);\n}\nexport default function symlog() {\n  var scale = symlogish(transformer());\n  scale.copy = function () {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n  return initRange.apply(scale, arguments);\n}","import { linearish } from \"./linear.js\";\nimport { copy, identity, transformer } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\nfunction transformPow(exponent) {\n  return function (x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n    exponent = 1;\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity) : exponent === 0.5 ? transform(transformSqrt, transformSquare) : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n  scale.exponent = function (_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n  return linearish(scale);\n}\nexport default function pow() {\n  var scale = powish(transformer());\n  scale.copy = function () {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n  initRange.apply(scale, arguments);\n  return scale;\n}\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}","import continuous from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\nimport { linearish } from \"./linear.js\";\nimport number from \"./number.js\";\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\nexport default function radial() {\n  var squared = continuous(),\n    range = [0, 1],\n    round = false,\n    unknown;\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n  scale.invert = function (y) {\n    return squared.invert(square(y));\n  };\n  scale.domain = function (_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n  scale.range = function (_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n  scale.rangeRound = function (_) {\n    return scale.range(_).round(true);\n  };\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n  scale.clamp = function (_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  scale.copy = function () {\n    return radial(squared.domain(), range).round(round).clamp(squared.clamp()).unknown(unknown);\n  };\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\nexport default function sort(values) {\n  for (var _len = arguments.length, F = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    F[_key - 1] = arguments[_key];\n  }\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if (f && f.length !== 2 || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\nexport function compareDefined() {\n  let compare = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ascending;\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}","import { ascendingDefined, compareDefined } from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k) {\n  let left = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  let right = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Infinity;\n  let compare = arguments.length > 4 ? arguments[4] : undefined;\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n  if (!(left <= k && k <= right)) return array;\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n    const t = array[k];\n    let i = left;\n    let j = right;\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n    if (compare(array[left], t) === 0) swap(array, left, j);else ++j, swap(array, j, right);\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}","import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, { numbers } from \"./number.js\";\nimport { ascendingDefined } from \"./sort.js\";\nimport greatest from \"./greatest.js\";\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n    i = (n - 1) * p,\n    i0 = Math.floor(i),\n    value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n    value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\nexport function quantileSorted(values, p) {\n  let valueof = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : number;\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n    i = (n - 1) * p,\n    i0 = Math.floor(i),\n    value0 = +valueof(values[i0], i0, values),\n    value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\nexport function quantileIndex(values, p) {\n  let valueof = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : number;\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n    index = Uint32Array.from(values, (_, i) => i),\n    j = numbers.length - 1,\n    i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), i => numbers[i]);\n  return i >= 0 ? i : -1;\n}","import { ascending, bisect, quantileSorted as threshold } from \"d3-array\";\nimport { initRange } from \"./init.js\";\nexport default function quantile() {\n  var domain = [],\n    range = [],\n    thresholds = [],\n    unknown;\n  function rescale() {\n    var i = 0,\n      n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n  scale.invertExtent = function (y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [i > 0 ? thresholds[i - 1] : domain[0], i < thresholds.length ? thresholds[i] : domain[domain.length - 1]];\n  };\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  scale.quantiles = function () {\n    return thresholds.slice();\n  };\n  scale.copy = function () {\n    return quantile().domain(domain).range(range).unknown(unknown);\n  };\n  return initRange.apply(scale, arguments);\n}","import { bisect } from \"d3-array\";\nimport { linearish } from \"./linear.js\";\nimport { initRange } from \"./init.js\";\nexport default function quantize() {\n  var x0 = 0,\n    x1 = 1,\n    n = 1,\n    domain = [0.5],\n    range = [0, 1],\n    unknown;\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n  scale.domain = function (_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n  scale.range = function (_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n  scale.invertExtent = function (y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : i < 1 ? [x0, domain[0]] : i >= n ? [domain[n - 1], x1] : [domain[i - 1], domain[i]];\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n  scale.thresholds = function () {\n    return domain.slice();\n  };\n  scale.copy = function () {\n    return quantize().domain([x0, x1]).range(range).unknown(unknown);\n  };\n  return initRange.apply(linearish(scale), arguments);\n}","import { bisect } from \"d3-array\";\nimport { initRange } from \"./init.js\";\nexport default function threshold() {\n  var domain = [0.5],\n    range = [0, 1],\n    unknown,\n    n = 1;\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n  scale.invertExtent = function (y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  scale.copy = function () {\n    return threshold().domain(domain).range(range).unknown(unknown);\n  };\n  return initRange.apply(scale, arguments);\n}","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;","const t0 = new Date(),\n  t1 = new Date();\nexport function timeInterval(floori, offseti, count, field) {\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date() : new Date(+date)), date;\n  }\n  interval.floor = date => {\n    return floori(date = new Date(+date)), date;\n  };\n  interval.ceil = date => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n  interval.round = date => {\n    const d0 = interval(date),\n      d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start); while (previous < start && start < stop);\n    return range;\n  };\n  interval.filter = test => {\n    return timeInterval(date => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n    interval.every = step => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval : interval.filter(field ? d => field(d) % step === 0 : d => interval.count(0, d) % step === 0);\n    };\n  }\n  return interval;\n}","import { timeInterval } from \"./interval.js\";\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = k => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval(date => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\nexport const milliseconds = millisecond.range;","import { timeInterval } from \"./interval.js\";\nimport { durationSecond } from \"./duration.js\";\nexport const second = timeInterval(date => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, date => {\n  return date.getUTCSeconds();\n});\nexport const seconds = second.range;","import { timeInterval } from \"./interval.js\";\nimport { durationMinute, durationSecond } from \"./duration.js\";\nexport const timeMinute = timeInterval(date => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, date => {\n  return date.getMinutes();\n});\nexport const timeMinutes = timeMinute.range;\nexport const utcMinute = timeInterval(date => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, date => {\n  return date.getUTCMinutes();\n});\nexport const utcMinutes = utcMinute.range;","import { timeInterval } from \"./interval.js\";\nimport { durationHour, durationMinute, durationSecond } from \"./duration.js\";\nexport const timeHour = timeInterval(date => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, date => {\n  return date.getHours();\n});\nexport const timeHours = timeHour.range;\nexport const utcHour = timeInterval(date => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, date => {\n  return date.getUTCHours();\n});\nexport const utcHours = utcHour.range;","import { timeInterval } from \"./interval.js\";\nimport { durationDay, durationMinute } from \"./duration.js\";\nexport const timeDay = timeInterval(date => date.setHours(0, 0, 0, 0), (date, step) => date.setDate(date.getDate() + step), (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay, date => date.getDate() - 1);\nexport const timeDays = timeDay.range;\nexport const utcDay = timeInterval(date => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, date => {\n  return date.getUTCDate() - 1;\n});\nexport const utcDays = utcDay.range;\nexport const unixDay = timeInterval(date => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, date => {\n  return Math.floor(date / durationDay);\n});\nexport const unixDays = unixDay.range;","import { timeInterval } from \"./interval.js\";\nimport { durationMinute, durationWeek } from \"./duration.js\";\nfunction timeWeekday(i) {\n  return timeInterval(date => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\nfunction utcWeekday(i) {\n  return timeInterval(date => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;","import { timeInterval } from \"./interval.js\";\nexport const timeMonth = timeInterval(date => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, date => {\n  return date.getMonth();\n});\nexport const timeMonths = timeMonth.range;\nexport const utcMonth = timeInterval(date => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, date => {\n  return date.getUTCMonth();\n});\nexport const utcMonths = utcMonth.range;","import { timeInterval } from \"./interval.js\";\nexport const timeYear = timeInterval(date => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, date => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = k => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval(date => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\nexport const timeYears = timeYear.range;\nexport const utcYear = timeInterval(date => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, date => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = k => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval(date => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\nexport const utcYears = utcYear.range;","import { bisector, tickStep } from \"d3-array\";\nimport { durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear } from \"./duration.js\";\nimport { millisecond } from \"./millisecond.js\";\nimport { second } from \"./second.js\";\nimport { timeMinute, utcMinute } from \"./minute.js\";\nimport { timeHour, utcHour } from \"./hour.js\";\nimport { timeDay, unixDay } from \"./day.js\";\nimport { timeSunday, utcSunday } from \"./week.js\";\nimport { timeMonth, utcMonth } from \"./month.js\";\nimport { timeYear, utcYear } from \"./year.js\";\nfunction ticker(year, month, week, day, hour, minute) {\n  const tickIntervals = [[second, 1, durationSecond], [second, 5, 5 * durationSecond], [second, 15, 15 * durationSecond], [second, 30, 30 * durationSecond], [minute, 1, durationMinute], [minute, 5, 5 * durationMinute], [minute, 15, 15 * durationMinute], [minute, 30, 30 * durationMinute], [hour, 1, durationHour], [hour, 3, 3 * durationHour], [hour, 6, 6 * durationHour], [hour, 12, 12 * durationHour], [day, 1, durationDay], [day, 2, 2 * durationDay], [week, 1, durationWeek], [month, 1, durationMonth], [month, 3, 3 * durationMonth], [year, 1, durationYear]];\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(_ref => {\n      let [,, step] = _ref;\n      return step;\n    }).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n  return [ticks, tickInterval];\n}\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\nexport { utcTicks, utcTickInterval, timeTicks, timeTickInterval };","import { timeDay, timeSunday, timeMonday, timeThursday, timeYear, utcDay, utcSunday, utcMonday, utcThursday, utcYear } from \"d3-time\";\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\nfunction newDate(y, m, d) {\n  return {\n    y: y,\n    m: m,\n    d: d,\n    H: 0,\n    M: 0,\n    S: 0,\n    L: 0\n  };\n}\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n    locale_date = locale.date,\n    locale_time = locale.time,\n    locale_periods = locale.periods,\n    locale_weekdays = locale.days,\n    locale_shortWeekdays = locale.shortDays,\n    locale_months = locale.months,\n    locale_shortMonths = locale.shortMonths;\n  var periodRe = formatRe(locale_periods),\n    periodLookup = formatLookup(locale_periods),\n    weekdayRe = formatRe(locale_weekdays),\n    weekdayLookup = formatLookup(locale_weekdays),\n    shortWeekdayRe = formatRe(locale_shortWeekdays),\n    shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n    monthRe = formatRe(locale_months),\n    monthLookup = formatLookup(locale_months),\n    shortMonthRe = formatRe(locale_shortMonths),\n    shortMonthLookup = formatLookup(locale_shortMonths);\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n  function newFormat(specifier, formats) {\n    return function (date) {\n      var string = [],\n        i = -1,\n        j = 0,\n        n = specifier.length,\n        c,\n        pad,\n        format;\n      if (!(date instanceof Date)) date = new Date(+date);\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n  function newParse(specifier, Z) {\n    return function (string) {\n      var d = newDate(1900, undefined, 1),\n        i = parseSpecifier(d, specifier, string += \"\", 0),\n        week,\n        day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n      n = specifier.length,\n      m = string.length,\n      c,\n      parse;\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n    return j;\n  }\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n  return {\n    format: function (specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function () {\n        return specifier;\n      };\n      return f;\n    },\n    parse: function (specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function () {\n        return specifier;\n      };\n      return p;\n    },\n    utcFormat: function (specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function () {\n        return specifier;\n      };\n      return f;\n    },\n    utcParse: function (specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function () {\n        return specifier;\n      };\n      return p;\n    }\n  };\n}\nvar pads = {\n    \"-\": \"\",\n    \"_\": \" \",\n    \"0\": \"0\"\n  },\n  numberRe = /^\\s*\\d+/,\n  // note: ignores next directive\n  percentRe = /^%/,\n  requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n    string = (sign ? -value : value) + \"\",\n    length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\nfunction dISO(d) {\n  var day = d.getDay();\n  return day >= 4 || day === 0 ? timeThursday(d) : timeThursday.ceil(d);\n}\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = day >= 4 || day === 0 ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\")) + pad(z / 60 | 0, \"0\", 2) + pad(z % 60, \"0\", 2);\n}\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n}\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\nfunction formatUTCZone() {\n  return \"+0000\";\n}\nfunction formatLiteralPercent() {\n  return \"%\";\n}\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}","import formatLocale from \"./locale.js\";\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}","import { timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval } from \"d3-time\";\nimport { timeFormat } from \"d3-time-format\";\nimport continuous, { copy } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\nimport nice from \"./nice.js\";\nfunction date(t) {\n  return new Date(t);\n}\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n    invert = scale.invert,\n    domain = scale.domain;\n  var formatMillisecond = format(\".%L\"),\n    formatSecond = format(\":%S\"),\n    formatMinute = format(\"%I:%M\"),\n    formatHour = format(\"%I %p\"),\n    formatDay = format(\"%a %d\"),\n    formatWeek = format(\"%b %d\"),\n    formatMonth = format(\"%B\"),\n    formatYear = format(\"%Y\");\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond : minute(date) < date ? formatSecond : hour(date) < date ? formatMinute : day(date) < date ? formatHour : month(date) < date ? week(date) < date ? formatDay : formatWeek : year(date) < date ? formatMonth : formatYear)(date);\n  }\n  scale.invert = function (y) {\n    return new Date(invert(y));\n  };\n  scale.domain = function (_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n  scale.ticks = function (interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n  scale.tickFormat = function (count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n  scale.nice = function (interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n  scale.copy = function () {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n  return scale;\n}\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}","import { utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval } from \"d3-time\";\nimport { utcFormat } from \"d3-time-format\";\nimport { calendar } from \"./time.js\";\nimport { initRange } from \"./init.js\";\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}","import { interpolate, interpolateRound } from \"d3-interpolate\";\nimport { identity } from \"./continuous.js\";\nimport { initInterpolator } from \"./init.js\";\nimport { linearish } from \"./linear.js\";\nimport { loggish } from \"./log.js\";\nimport { symlogish } from \"./symlog.js\";\nimport { powish } from \"./pow.js\";\nfunction transformer() {\n  var x0 = 0,\n    x1 = 1,\n    t0,\n    t1,\n    k10,\n    transform,\n    interpolator = identity,\n    clamp = false,\n    unknown;\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n  scale.domain = function (_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n  scale.interpolator = function (_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n  function range(interpolate) {\n    return function (_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n  scale.range = range(interpolate);\n  scale.rangeRound = range(interpolateRound);\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  return function (t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\nexport function copy(source, target) {\n  return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown());\n}\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n  scale.copy = function () {\n    return copy(scale, sequential());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = function () {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n  scale.copy = function () {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nexport function sequentialPow() {\n  var scale = powish(transformer());\n  scale.copy = function () {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}","import { ascending, bisect, quantile } from \"d3-array\";\nimport { identity } from \"./continuous.js\";\nimport { initInterpolator } from \"./init.js\";\nexport default function sequentialQuantile() {\n  var domain = [],\n    interpolator = identity;\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n  scale.interpolator = function (_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n  scale.range = function () {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n  scale.quantiles = function (n) {\n    return Array.from({\n      length: n + 1\n    }, (_, i) => quantile(domain, i / n));\n  };\n  scale.copy = function () {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n  return initInterpolator.apply(scale, arguments);\n}","import { interpolate, interpolateRound, piecewise } from \"d3-interpolate\";\nimport { identity } from \"./continuous.js\";\nimport { initInterpolator } from \"./init.js\";\nimport { linearish } from \"./linear.js\";\nimport { loggish } from \"./log.js\";\nimport { copy } from \"./sequential.js\";\nimport { symlogish } from \"./symlog.js\";\nimport { powish } from \"./pow.js\";\nfunction transformer() {\n  var x0 = 0,\n    x1 = 0.5,\n    x2 = 1,\n    s = 1,\n    t0,\n    t1,\n    t2,\n    k10,\n    k21,\n    interpolator = identity,\n    transform,\n    clamp = false,\n    unknown;\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n  scale.domain = function (_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n  scale.interpolator = function (_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n  function range(interpolate) {\n    return function (_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n  scale.range = range(interpolate);\n  scale.rangeRound = range(interpolateRound);\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  return function (t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n  scale.copy = function () {\n    return copy(scale, diverging());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n  scale.copy = function () {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n  scale.copy = function () {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nexport function divergingPow() {\n  var scale = powish(transformer());\n  scale.copy = function () {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}","import { default as value } from \"./value.js\";\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0,\n    n = values.length - 1,\n    v = values[0],\n    I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function (t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n    case 1:\n      this.range(domain);\n      break;\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n  return this;\n}\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0:\n      break;\n    case 1:\n      {\n        if (typeof domain === \"function\") this.interpolator(domain);else this.range(domain);\n        break;\n      }\n    default:\n      {\n        this.domain(domain);\n        if (typeof interpolator === \"function\") this.interpolator(interpolator);else this.range(interpolator);\n        break;\n      }\n  }\n  return this;\n}","export class InternMap extends Map {\n  constructor(entries) {\n    let key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : keyof;\n    super();\n    Object.defineProperties(this, {\n      _intern: {\n        value: new Map()\n      },\n      _key: {\n        value: key\n      }\n    });\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\nexport class InternSet extends Set {\n  constructor(values) {\n    let key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : keyof;\n    super();\n    Object.defineProperties(this, {\n      _intern: {\n        value: new Map()\n      },\n      _key: {\n        value: key\n      }\n    });\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\nfunction intern_get(_ref, value) {\n  let {\n    _intern,\n    _key\n  } = _ref;\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\nfunction intern_set(_ref2, value) {\n  let {\n    _intern,\n    _key\n  } = _ref2;\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\nfunction intern_delete(_ref3, value) {\n  let {\n    _intern,\n    _key\n  } = _ref3;\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}","import { InternMap } from \"d3-array\";\nimport { initRange } from \"./init.js\";\nexport const implicit = Symbol(\"implicit\");\nexport default function ordinal() {\n  var index = new InternMap(),\n    domain = [],\n    range = [],\n    unknown = implicit;\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n  initRange.apply(scale, arguments);\n  return scale;\n}","var frame = 0,\n  // is an animation frame pending?\n  timeout = 0,\n  // is a timeout pending?\n  interval = 0,\n  // are any timers active?\n  pokeDelay = 1000,\n  // how frequently we check for clock skew\n  taskHead,\n  taskTail,\n  clockLast = 0,\n  clockNow = 0,\n  clockSkew = 0,\n  clock = typeof performance === \"object\" && performance.now ? performance : Date,\n  setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (f) {\n    setTimeout(f, 17);\n  };\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n  clockNow = 0;\n}\nexport function Timer() {\n  this._call = this._time = this._next = null;\n}\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function (callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function () {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\nexport function timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead,\n    e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\nfunction poke() {\n  var now = clock.now(),\n    delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\nfunction nap() {\n  var t0,\n    t1 = taskHead,\n    t2,\n    time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}","function none() {}\nexport default function (selector) {\n  return selector == null ? none : function () {\n    return this.querySelector(selector);\n  };\n}","function empty() {\n  return [];\n}\nexport default function (selector) {\n  return selector == null ? empty : function () {\n    return this.querySelectorAll(selector);\n  };\n}","import { Selection } from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\nfunction arrayAll(select) {\n  return function () {\n    return array(select.apply(this, arguments));\n  };\n}\nexport default function (select) {\n  if (typeof select === \"function\") select = arrayAll(select);else select = selectorAll(select);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n  return new Selection(subgroups, parents);\n}","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}","export default function (selector) {\n  return function () {\n    return this.matches(selector);\n  };\n}\nexport function childMatcher(selector) {\n  return function (node) {\n    return node.matches(selector);\n  };\n}","import { childMatcher } from \"../matcher.js\";\nvar find = Array.prototype.find;\nfunction childFind(match) {\n  return function () {\n    return find.call(this.children, match);\n  };\n}\nfunction childFirst() {\n  return this.firstElementChild;\n}\nexport default function (match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}","import { childMatcher } from \"../matcher.js\";\nvar filter = Array.prototype.filter;\nfunction children() {\n  return Array.from(this.children);\n}\nfunction childrenFilter(match) {\n  return function () {\n    return filter.call(this.children, match);\n  };\n}\nexport default function (match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}","export default function (update) {\n  return new Array(update.length);\n}","import sparse from \"./sparse.js\";\nimport { Selection } from \"./index.js\";\nexport default function () {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function (child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function (child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function (selector) {\n    return this._parent.querySelector(selector);\n  },\n  querySelectorAll: function (selector) {\n    return this._parent.querySelectorAll(selector);\n  }\n};","import { Selection } from \"./index.js\";\nimport { EnterNode } from \"./enter.js\";\nimport constant from \"../constant.js\";\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n    node,\n    groupLength = group.length,\n    dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n    node,\n    nodeByKeyValue = new Map(),\n    groupLength = group.length,\n    dataLength = data.length,\n    keyValues = new Array(groupLength),\n    keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\nfunction datum(node) {\n  return node.__data__;\n}\nexport default function (value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex,\n    parents = this._parents,\n    groups = this._groups;\n  if (typeof value !== \"function\") value = constant(value);\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n      group = groups[j],\n      groupLength = group.length,\n      data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n      dataLength = data.length,\n      enterGroup = enter[j] = new Array(dataLength),\n      updateGroup = update[j] = new Array(dataLength),\n      exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data // Array, TypedArray, NodeList, array-like\n  : Array.from(data); // Map, Set, iterable, string, or anything else\n}","import { Selection } from \"./index.js\";\nexport default function (compare) {\n  if (!compare) compare = ascending;\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n  return new Selection(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","export var xhtml = \"http://www.w3.org/1999/xhtml\";\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};","import namespaces from \"./namespaces.js\";\nexport default function (name) {\n  var prefix = name += \"\",\n    i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {\n    space: namespaces[prefix],\n    local: name\n  } : name; // eslint-disable-line no-prototype-builtins\n}","import namespace from \"../namespace.js\";\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, value) {\n  return function () {\n    this.setAttribute(name, value);\n  };\n}\nfunction attrConstantNS(fullname, value) {\n  return function () {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\nfunction attrFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);else this.setAttribute(name, v);\n  };\n}\nfunction attrFunctionNS(fullname, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\nexport default function (name, value) {\n  var fullname = namespace(name);\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n  return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === \"function\" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));\n}","export default function (node) {\n  return node.ownerDocument && node.ownerDocument.defaultView // node is a Node\n  || node.document && node // node is a Window\n  || node.defaultView; // node is a Document\n}","import defaultView from \"../window.js\";\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, value, priority) {\n  return function () {\n    this.style.setProperty(name, value, priority);\n  };\n}\nfunction styleFunction(name, value, priority) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);else this.style.setProperty(name, v, priority);\n  };\n}\nexport default function (name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === \"function\" ? styleFunction : styleConstant)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}","function propertyRemove(name) {\n  return function () {\n    delete this[name];\n  };\n}\nfunction propertyConstant(name, value) {\n  return function () {\n    this[name] = value;\n  };\n}\nfunction propertyFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];else this[name] = v;\n  };\n}\nexport default function (name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n  add: function (name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function (name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function (name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\nfunction classedAdd(node, names) {\n  var list = classList(node),\n    i = -1,\n    n = names.length;\n  while (++i < n) list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n  var list = classList(node),\n    i = -1,\n    n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\nfunction classedTrue(names) {\n  return function () {\n    classedAdd(this, names);\n  };\n}\nfunction classedFalse(names) {\n  return function () {\n    classedRemove(this, names);\n  };\n}\nfunction classedFunction(names, value) {\n  return function () {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\nexport default function (name, value) {\n  var names = classArray(name + \"\");\n  if (arguments.length < 2) {\n    var list = classList(this.node()),\n      i = -1,\n      n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}","function textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\nexport default function (value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction : textConstant)(value)) : this.node().textContent;\n}","function htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n  return function () {\n    this.innerHTML = value;\n  };\n}\nfunction htmlFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\nexport default function (value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\nexport default function () {\n  return this.each(raise);\n}","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nexport default function () {\n  return this.each(lower);\n}","import namespace from \"./namespace.js\";\nimport { xhtml } from \"./namespaces.js\";\nfunction creatorInherit(name) {\n  return function () {\n    var document = this.ownerDocument,\n      uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml ? document.createElement(name) : document.createElementNS(uri, name);\n  };\n}\nfunction creatorFixed(fullname) {\n  return function () {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\nexport default function (name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\nfunction constantNull() {\n  return null;\n}\nexport default function (name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n    select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function () {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\nexport default function () {\n  return this.each(remove);\n}","function selection_cloneShallow() {\n  var clone = this.cloneNode(false),\n    parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true),\n    parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nexport default function (deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}","function contextListener(listener) {\n  return function (event) {\n    listener.call(this, event, this.__data__);\n  };\n}\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n      i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {\n      type: t,\n      name: name\n    };\n  });\n}\nfunction onRemove(typename) {\n  return function () {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;else delete this.__on;\n  };\n}\nfunction onAdd(typename, value, options) {\n  return function () {\n    var on = this.__on,\n      o,\n      listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {\n      type: typename.type,\n      name: typename.name,\n      value: value,\n      listener: listener,\n      options: options\n    };\n    if (!on) this.__on = [o];else on.push(o);\n  };\n}\nexport default function (typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"),\n    i,\n    n = typenames.length,\n    t;\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}","import defaultView from \"../window.js\";\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n    event = window.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;else event.initEvent(type, false, false);\n  }\n  node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params);\n  };\n}\nfunction dispatchFunction(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\nexport default function (type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\nexport var root = [null];\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\nfunction selection_selection() {\n  return this;\n}\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\nexport default selection;","import { Selection } from \"./index.js\";\nimport selector from \"../selector.js\";\nexport default function (select) {\n  if (typeof select !== \"function\") select = selector(select);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n  return new Selection(subgroups, this._parents);\n}","import { Selection } from \"./index.js\";\nimport matcher from \"../matcher.js\";\nexport default function (match) {\n  if (typeof match !== \"function\") match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Selection(subgroups, this._parents);\n}","export default function (x) {\n  return function () {\n    return x;\n  };\n}","import sparse from \"./sparse.js\";\nimport { Selection } from \"./index.js\";\nexport default function () {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}","export default function (onenter, onupdate, onexit) {\n  var enter = this.enter(),\n    update = this,\n    exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove();else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}","import { Selection } from \"./index.js\";\nexport default function (context) {\n  var selection = context.selection ? context.selection() : context;\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Selection(merges, this._parents);\n}","export default function () {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n}","export default function () {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}","export default function () {\n  return Array.from(this);\n}","export default function () {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n  return null;\n}","export default function () {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}","export default function () {\n  return !this.node();\n}","export default function (callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n  return this;\n}","import creator from \"../creator.js\";\nexport default function (name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function () {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}","export default function (value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}","export default function* () {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}","import { Selection, root } from \"./selection/index.js\";\nexport default function (selector) {\n  return typeof selector === \"string\" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root);\n}","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {\n  passive: false\n};\nexport const nonpassivecapture = {\n  capture: true,\n  passive: false\n};\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\nexport default function (event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}","import { select } from \"d3-selection\";\nimport noevent, { nonpassivecapture } from \"./noevent.js\";\nexport default function (view) {\n  var root = view.document.documentElement,\n    selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n    selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function () {\n      selection.on(\"click.drag\", null);\n    }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}","var epsilon2 = 1e-12;\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\nexport default (function zoomRho(rho, rho2, rho4) {\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0],\n      uy0 = p0[1],\n      w0 = p0[2],\n      ux1 = p1[0],\n      uy1 = p1[1],\n      w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function (t) {\n        return [ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(rho * t * S)];\n      };\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function (t) {\n        var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / cosh(rho * s + r0)];\n      };\n    }\n    i.duration = S * 1000 * rho / Math.SQRT2;\n    return i;\n  }\n  zoom.rho = function (_) {\n    var _1 = Math.max(1e-3, +_),\n      _2 = _1 * _1,\n      _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n  return zoom;\n})(Math.SQRT2, 2, 4);","import sourceEvent from \"./sourceEvent.js\";\nexport default function (event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}","export default function (event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}","import { Timer } from \"./timer.js\";\nexport default function (callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}","import { dispatch } from \"d3-dispatch\";\nimport { timer, timeout } from \"d3-timer\";\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\nexport default function (node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index,\n    // For context during callback.\n    group: group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n    tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function () {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n      i = -1,\n      n = tween.length;\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}","import { STARTING, ENDING, ENDED } from \"./transition/schedule.js\";\nexport default function (node, name) {\n  var schedules = node.__transition,\n    schedule,\n    active,\n    empty = true,\n    i;\n  if (!schedules) return;\n  name = name == null ? null : name + \"\";\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) {\n      empty = false;\n      continue;\n    }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n  if (empty) delete node.__transition;\n}","import decompose, { identity } from \"./decompose.js\";\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}","var degrees = 180 / Math.PI;\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nexport default function (a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}","import number from \"../number.js\";\nimport { parseCss, parseSvg } from \"./parse.js\";\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({\n        i: i - 4,\n        x: number(xa, xb)\n      }, {\n        i: i - 2,\n        x: number(ya, yb)\n      });\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360;else if (b - a > 180) a += 360; // shortest path\n      q.push({\n        i: s.push(pop(s) + \"rotate(\", null, degParen) - 2,\n        x: number(a, b)\n      });\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({\n        i: s.push(pop(s) + \"skewX(\", null, degParen) - 2,\n        x: number(a, b)\n      });\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: number(xa, xb)\n      }, {\n        i: i - 2,\n        x: number(ya, yb)\n      });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n  return function (a, b) {\n    var s = [],\n      // string constants and placeholders\n      q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function (t) {\n      var i = -1,\n        n = q.length,\n        o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");","import { get, set } from \"./schedule.js\";\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function () {\n    var schedule = set(this, id),\n      tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n    schedule.tween = tween1;\n  };\n}\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    var schedule = set(this, id),\n      tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {\n          name: name,\n          value: value\n        }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n    schedule.tween = tween1;\n  };\n}\nexport default function (name, value) {\n  var id = this._id;\n  name += \"\";\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n  transition.each(function () {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function (node) {\n    return get(node, id).value[name];\n  };\n}","import { color } from \"d3-color\";\nimport { interpolateNumber, interpolateRgb, interpolateString } from \"d3-interpolate\";\nexport default function (a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}","import { interpolateTransformSvg as interpolateTransform } from \"d3-interpolate\";\nimport { namespace } from \"d3-selection\";\nimport { tweenValue } from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n    string1 = value1 + \"\",\n    interpolate0;\n  return function () {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n    string1 = value1 + \"\",\n    interpolate0;\n  return function () {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\nfunction attrFunction(name, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n      value1 = value(this),\n      string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n      value1 = value(this),\n      string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\nexport default function (name, value) {\n  var fullname = namespace(name),\n    i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}","import { namespace } from \"d3-selection\";\nfunction attrInterpolate(name, i) {\n  return function (t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\nfunction attrInterpolateNS(fullname, i) {\n  return function (t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nexport default function (name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}","import { get, init } from \"./schedule.js\";\nfunction delayFunction(id, value) {\n  return function () {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\nfunction delayConstant(id, value) {\n  return value = +value, function () {\n    init(this, id).delay = value;\n  };\n}\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id, value)) : get(this.node(), id).delay;\n}","import { get, set } from \"./schedule.js\";\nfunction durationFunction(id, value) {\n  return function () {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\nfunction durationConstant(id, value) {\n  return value = +value, function () {\n    set(this, id).duration = value;\n  };\n}\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id, value)) : get(this.node(), id).duration;\n}","import { selection } from \"d3-selection\";\nvar Selection = selection.prototype.constructor;\nexport default function () {\n  return new Selection(this._groups, this._parents);\n}","import { interpolateTransformCss as interpolateTransform } from \"d3-interpolate\";\nimport { style } from \"d3-selection\";\nimport { set } from \"./schedule.js\";\nimport { tweenValue } from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\nfunction styleNull(name, interpolate) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = style(this, name),\n      string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n    string1 = value1 + \"\",\n    interpolate0;\n  return function () {\n    var string0 = style(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\nfunction styleFunction(name, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = style(this, name),\n      value1 = value(this),\n      string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\nfunction styleMaybeRemove(id, name) {\n  var on0,\n    on1,\n    listener0,\n    key = \"style.\" + name,\n    event = \"end.\" + key,\n    remove;\n  return function () {\n    var schedule = set(this, id),\n      on = schedule.on,\n      listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule.on = on1;\n  };\n}\nexport default function (name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}","import { selection } from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\nvar id = 0;\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\nexport default function transition(name) {\n  return selection().transition(name);\n}\nexport function newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};","import { selector } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function (select) {\n  var name = this._name,\n    id = this._id;\n  if (typeof select !== \"function\") select = selector(select);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, name, id);\n}","import { selectorAll } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function (select) {\n  var name = this._name,\n    id = this._id;\n  if (typeof select !== \"function\") select = selectorAll(select);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, parents, name, id);\n}","import { matcher } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nexport default function (match) {\n  if (typeof match !== \"function\") match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}","import { Transition } from \"./index.js\";\nexport default function (transition) {\n  if (transition._id !== this._id) throw new Error();\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Transition(merges, this._parents, this._name, this._id);\n}","import { Transition, newId } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function () {\n  var name = this._name,\n    id0 = this._id,\n    id1 = newId();\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id1);\n}","import { get, set, init } from \"./schedule.js\";\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function (t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\nfunction onFunction(id, name, listener) {\n  var on0,\n    on1,\n    sit = start(name) ? init : set;\n  return function () {\n    var schedule = sit(this, id),\n      on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n    schedule.on = on1;\n  };\n}\nexport default function (name, listener) {\n  var id = this._id;\n  return arguments.length < 2 ? get(this.node(), id).on.on(name) : this.each(onFunction(id, name, listener));\n}","function styleInterpolate(name, i, priority) {\n  return function (t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\nexport default function (name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}","import { tweenValue } from \"./tween.js\";\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function () {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\nexport default function (value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}","function textInterpolate(i) {\n  return function (t) {\n    this.textContent = i.call(this, t);\n  };\n}\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nexport default function (value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, textTween(value));\n}","function removeFunction(id) {\n  return function () {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\nexport default function () {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}","import { get, set } from \"./schedule.js\";\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    set(this, id).ease = value;\n  };\n}\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each(easeConstant(id, value)) : get(this.node(), id).ease;\n}","import { set } from \"./schedule.js\";\nfunction easeVarying(id, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error();\n    set(this, id).ease = v;\n  };\n}\nexport default function (value) {\n  if (typeof value !== \"function\") throw new Error();\n  return this.each(easeVarying(this._id, value));\n}","import { set } from \"./schedule.js\";\nexport default function () {\n  var on0,\n    on1,\n    that = this,\n    id = that._id,\n    size = that.size();\n  return new Promise(function (resolve, reject) {\n    var cancel = {\n        value: reject\n      },\n      end = {\n        value: function () {\n          if (--size === 0) resolve();\n        }\n      };\n    that.each(function () {\n      var schedule = set(this, id),\n        on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}","import { Transition, newId } from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport { easeCubicInOut } from \"d3-ease\";\nimport { now } from \"d3-timer\";\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\nexport default function (name) {\n  var id, timing;\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id);\n}","export function cubicIn(t) {\n  return t * t * t;\n}\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}","import { selection } from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;","import interrupt from \"../interrupt.js\";\nexport default function (name) {\n  return this.each(function () {\n    interrupt(this, name);\n  });\n}","export default (x => () => x);","export default function ZoomEvent(type, _ref) {\n  let {\n    sourceEvent,\n    target,\n    transform,\n    dispatch\n  } = _ref;\n  Object.defineProperties(this, {\n    type: {\n      value: type,\n      enumerable: true,\n      configurable: true\n    },\n    sourceEvent: {\n      value: sourceEvent,\n      enumerable: true,\n      configurable: true\n    },\n    target: {\n      value: target,\n      enumerable: true,\n      configurable: true\n    },\n    transform: {\n      value: transform,\n      enumerable: true,\n      configurable: true\n    },\n    _: {\n      value: dispatch\n    }\n  });\n}","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\nTransform.prototype = {\n  constructor: Transform,\n  scale: function (k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function (x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function (point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function (x) {\n    return x * this.k + this.x;\n  },\n  applyY: function (y) {\n    return y * this.k + this.y;\n  },\n  invert: function (location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function (x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function (y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function (x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function (y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function () {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nexport var identity = new Transform(1, 0, 0);\ntransform.prototype = Transform.prototype;\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\nexport default function (event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}","import { dispatch } from \"d3-dispatch\";\nimport { dragDisable, dragEnable } from \"d3-drag\";\nimport { interpolateZoom } from \"d3-interpolate\";\nimport { select, pointer } from \"d3-selection\";\nimport { interrupt } from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport { Transform, identity } from \"./transform.js\";\nimport noevent, { nopropagation } from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n    dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n    dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n    dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1), dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1));\n}\nexport default function () {\n  var filter = defaultFilter,\n    extent = defaultExtent,\n    constrain = defaultConstrain,\n    wheelDelta = defaultWheelDelta,\n    touchable = defaultTouchable,\n    scaleExtent = [0, Infinity],\n    translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n    duration = 250,\n    interpolate = interpolateZoom,\n    listeners = dispatch(\"start\", \"zoom\", \"end\"),\n    touchstarting,\n    touchfirst,\n    touchending,\n    touchDelay = 500,\n    wheelDelay = 150,\n    clickDistance2 = 0,\n    tapDistance = 10;\n  function zoom(selection) {\n    selection.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled, {\n      passive: false\n    }).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  zoom.transform = function (collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function () {\n        gesture(this, arguments).event(event).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n  zoom.scaleBy = function (selection, k, p, event) {\n    zoom.scaleTo(selection, function () {\n      var k0 = this.__zoom.k,\n        k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n  zoom.scaleTo = function (selection, k, p, event) {\n    zoom.transform(selection, function () {\n      var e = extent.apply(this, arguments),\n        t0 = this.__zoom,\n        p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n        p1 = t0.invert(p0),\n        k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n  zoom.translateBy = function (selection, x, y, event) {\n    zoom.transform(selection, function () {\n      return constrain(this.__zoom.translate(typeof x === \"function\" ? x.apply(this, arguments) : x, typeof y === \"function\" ? y.apply(this, arguments) : y), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n  zoom.translateTo = function (selection, x, y, p, event) {\n    zoom.transform(selection, function () {\n      var e = extent.apply(this, arguments),\n        t = this.__zoom,\n        p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(typeof x === \"function\" ? -x.apply(this, arguments) : -x, typeof y === \"function\" ? -y.apply(this, arguments) : -y), e, translateExtent);\n    }, p, event);\n  };\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k,\n      y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n  function schedule(transition, transform, point, event) {\n    transition.on(\"start.zoom\", function () {\n      gesture(this, arguments).event(event).start();\n    }).on(\"interrupt.zoom end.zoom\", function () {\n      gesture(this, arguments).event(event).end();\n    }).tween(\"zoom\", function () {\n      var that = this,\n        args = arguments,\n        g = gesture(that, args).event(event),\n        e = extent.apply(that, args),\n        p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n        w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n        a = that.__zoom,\n        b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n        i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function (t) {\n        if (t === 1) t = b; // Avoid rounding error on end.\n        else {\n          var l = i(t),\n            k = w / l[2];\n          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n        }\n        g.zoom(null, t);\n      };\n    });\n  }\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n  Gesture.prototype = {\n    event: function (event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function () {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function (key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function () {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function (type) {\n      var d = select(this.that).datum();\n      listeners.call(type, this.that, new ZoomEvent(type, {\n        sourceEvent: this.sourceEvent,\n        target: zoom,\n        type,\n        transform: this.that.__zoom,\n        dispatch: listeners\n      }), d);\n    }\n  };\n  function wheeled(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n      t = this.__zoom,\n      k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n      p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n  function mousedowned(event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n      g = gesture(this, args, true).event(event),\n      v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n      p = pointer(event, currentTarget),\n      x0 = event.clientX,\n      y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0,\n          dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event).zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n  function dblclicked(event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n      p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n      p1 = t0.invert(p0),\n      k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n      t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);else select(this).call(zoom.transform, t1, p0, event);\n  }\n  function touchstarted(event) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n      n = touches.length,\n      g = gesture(this, args, event.changedTouches.length === n).event(event),\n      started,\n      i,\n      t,\n      p;\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function () {\n        touchstarting = null;\n      }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n  function touchmoved(event) {\n    if (!this.__zooming) return;\n    for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n      args[_key5 - 1] = arguments[_key5];\n    }\n    var g = gesture(this, args).event(event),\n      touches = event.changedTouches,\n      n = touches.length,\n      i,\n      t,\n      p,\n      l;\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0],\n        l0 = g.touch0[1],\n        p1 = g.touch1[0],\n        l1 = g.touch1[1],\n        dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n        dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0) p = g.touch0[0], l = g.touch0[1];else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n  function touchended(event) {\n    for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n      args[_key6 - 1] = arguments[_key6];\n    }\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n      touches = event.changedTouches,\n      n = touches.length,\n      i,\n      t;\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function () {\n      touchending = null;\n    }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n  zoom.wheelDelta = function (_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n  zoom.filter = function (_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n  zoom.touchable = function (_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n  zoom.extent = function (_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n  zoom.scaleExtent = function (_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n  zoom.translateExtent = function (_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n  zoom.constrain = function (_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n  zoom.duration = function (_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n  zoom.interpolate = function (_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n  zoom.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n  zoom.clickDistance = function (_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n  zoom.tapDistance = function (_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n  return zoom;\n}","export default (x => () => x);","export default function DragEvent(type, _ref) {\n  let {\n    sourceEvent,\n    subject,\n    target,\n    identifier,\n    active,\n    x,\n    y,\n    dx,\n    dy,\n    dispatch\n  } = _ref;\n  Object.defineProperties(this, {\n    type: {\n      value: type,\n      enumerable: true,\n      configurable: true\n    },\n    sourceEvent: {\n      value: sourceEvent,\n      enumerable: true,\n      configurable: true\n    },\n    subject: {\n      value: subject,\n      enumerable: true,\n      configurable: true\n    },\n    target: {\n      value: target,\n      enumerable: true,\n      configurable: true\n    },\n    identifier: {\n      value: identifier,\n      enumerable: true,\n      configurable: true\n    },\n    active: {\n      value: active,\n      enumerable: true,\n      configurable: true\n    },\n    x: {\n      value: x,\n      enumerable: true,\n      configurable: true\n    },\n    y: {\n      value: y,\n      enumerable: true,\n      configurable: true\n    },\n    dx: {\n      value: dx,\n      enumerable: true,\n      configurable: true\n    },\n    dy: {\n      value: dy,\n      enumerable: true,\n      configurable: true\n    },\n    _: {\n      value: dispatch\n    }\n  });\n}\nDragEvent.prototype.on = function () {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};","import { dispatch } from \"d3-dispatch\";\nimport { select, pointer } from \"d3-selection\";\nimport nodrag, { yesdrag } from \"./nodrag.js\";\nimport noevent, { nonpassive, nonpassivecapture, nopropagation } from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\nfunction defaultContainer() {\n  return this.parentNode;\n}\nfunction defaultSubject(event, d) {\n  return d == null ? {\n    x: event.x,\n    y: event.y\n  } : d;\n}\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nexport default function () {\n  var filter = defaultFilter,\n    container = defaultContainer,\n    subject = defaultSubject,\n    touchable = defaultTouchable,\n    gestures = {},\n    listeners = dispatch(\"start\", \"drag\", \"end\"),\n    active = 0,\n    mousedownx,\n    mousedowny,\n    mousemoving,\n    touchending,\n    clickDistance2 = 0;\n  function drag(selection) {\n    selection.on(\"mousedown.drag\", mousedowned).filter(touchable).on(\"touchstart.drag\", touchstarted).on(\"touchmove.drag\", touchmoved, nonpassive).on(\"touchend.drag touchcancel.drag\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, nonpassivecapture).on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx,\n        dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n      c = container.call(this, event, d),\n      n = touches.length,\n      i,\n      gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n      n = touches.length,\n      i,\n      gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n  function touchended(event) {\n    var touches = event.changedTouches,\n      n = touches.length,\n      i,\n      gesture;\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function () {\n      touchending = null;\n    }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n      p = pointer(touch || event, container),\n      dx,\n      dy,\n      s;\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n      sourceEvent: event,\n      target: drag,\n      identifier,\n      active,\n      x: p[0],\n      y: p[1],\n      dx: 0,\n      dy: 0,\n      dispatch\n    }), d)) == null) return;\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n    return function gesture(type, event, touch) {\n      var p0 = p,\n        n;\n      switch (type) {\n        case \"start\":\n          gestures[identifier] = gesture, n = active++;\n          break;\n        case \"end\":\n          delete gestures[identifier], --active;\n        // falls through\n        case \"drag\":\n          p = pointer(touch || event, container), n = active;\n          break;\n      }\n      dispatch.call(type, that, new DragEvent(type, {\n        sourceEvent: event,\n        subject: s,\n        target: drag,\n        identifier,\n        active: n,\n        x: p[0] + dx,\n        y: p[1] + dy,\n        dx: p[0] - p0[0],\n        dy: p[1] - p0[1],\n        dispatch\n      }), d);\n    };\n  }\n  drag.filter = function (_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n  drag.container = function (_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n  drag.subject = function (_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n  drag.touchable = function (_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n  drag.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n  drag.clickDistance = function (_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n  return drag;\n}","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\nexport default isObject;","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\nexport default freeGlobal;","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\nexport default root;","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function () {\n  return root.Date.now();\n};\nexport default now;","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\nexport default trimmedEndIndex;","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '') : string;\n}\nexport default baseTrim;","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\nexport default Symbol;","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n    tag = value[symToStringTag];\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\nexport default getRawTag;","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\nexport default objectToString;","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n  undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\nexport default baseGetTag;","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\nexport default isObjectLike;","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\nexport default isSymbol;","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\nexport default toNumber;","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n  nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n    lastThis,\n    maxWait,\n    result,\n    timerId,\n    lastCallTime,\n    lastInvokeTime = 0,\n    leading = false,\n    maxing = false,\n    trailing = true;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs,\n      thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n      timeSinceLastInvoke = time - lastInvokeTime,\n      timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n      timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n  function debounced() {\n    var time = now(),\n      isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\nexport default debounce;","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n    trailing = true;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\nexport default throttle;","/**\n * The Ease class provides a collection of easing functions for use with tween.js.\n */\nvar Easing = Object.freeze({\n  Linear: Object.freeze({\n    None: function (amount) {\n      return amount;\n    },\n    In: function (amount) {\n      return this.None(amount);\n    },\n    Out: function (amount) {\n      return this.None(amount);\n    },\n    InOut: function (amount) {\n      return this.None(amount);\n    }\n  }),\n  Quadratic: Object.freeze({\n    In: function (amount) {\n      return amount * amount;\n    },\n    Out: function (amount) {\n      return amount * (2 - amount);\n    },\n    InOut: function (amount) {\n      if ((amount *= 2) < 1) {\n        return 0.5 * amount * amount;\n      }\n      return -0.5 * (--amount * (amount - 2) - 1);\n    }\n  }),\n  Cubic: Object.freeze({\n    In: function (amount) {\n      return amount * amount * amount;\n    },\n    Out: function (amount) {\n      return --amount * amount * amount + 1;\n    },\n    InOut: function (amount) {\n      if ((amount *= 2) < 1) {\n        return 0.5 * amount * amount * amount;\n      }\n      return 0.5 * ((amount -= 2) * amount * amount + 2);\n    }\n  }),\n  Quartic: Object.freeze({\n    In: function (amount) {\n      return amount * amount * amount * amount;\n    },\n    Out: function (amount) {\n      return 1 - --amount * amount * amount * amount;\n    },\n    InOut: function (amount) {\n      if ((amount *= 2) < 1) {\n        return 0.5 * amount * amount * amount * amount;\n      }\n      return -0.5 * ((amount -= 2) * amount * amount * amount - 2);\n    }\n  }),\n  Quintic: Object.freeze({\n    In: function (amount) {\n      return amount * amount * amount * amount * amount;\n    },\n    Out: function (amount) {\n      return --amount * amount * amount * amount * amount + 1;\n    },\n    InOut: function (amount) {\n      if ((amount *= 2) < 1) {\n        return 0.5 * amount * amount * amount * amount * amount;\n      }\n      return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\n    }\n  }),\n  Sinusoidal: Object.freeze({\n    In: function (amount) {\n      return 1 - Math.sin((1.0 - amount) * Math.PI / 2);\n    },\n    Out: function (amount) {\n      return Math.sin(amount * Math.PI / 2);\n    },\n    InOut: function (amount) {\n      return 0.5 * (1 - Math.sin(Math.PI * (0.5 - amount)));\n    }\n  }),\n  Exponential: Object.freeze({\n    In: function (amount) {\n      return amount === 0 ? 0 : Math.pow(1024, amount - 1);\n    },\n    Out: function (amount) {\n      return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount);\n    },\n    InOut: function (amount) {\n      if (amount === 0) {\n        return 0;\n      }\n      if (amount === 1) {\n        return 1;\n      }\n      if ((amount *= 2) < 1) {\n        return 0.5 * Math.pow(1024, amount - 1);\n      }\n      return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\n    }\n  }),\n  Circular: Object.freeze({\n    In: function (amount) {\n      return 1 - Math.sqrt(1 - amount * amount);\n    },\n    Out: function (amount) {\n      return Math.sqrt(1 - --amount * amount);\n    },\n    InOut: function (amount) {\n      if ((amount *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - amount * amount) - 1);\n      }\n      return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\n    }\n  }),\n  Elastic: Object.freeze({\n    In: function (amount) {\n      if (amount === 0) {\n        return 0;\n      }\n      if (amount === 1) {\n        return 1;\n      }\n      return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n    },\n    Out: function (amount) {\n      if (amount === 0) {\n        return 0;\n      }\n      if (amount === 1) {\n        return 1;\n      }\n      return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\n    },\n    InOut: function (amount) {\n      if (amount === 0) {\n        return 0;\n      }\n      if (amount === 1) {\n        return 1;\n      }\n      amount *= 2;\n      if (amount < 1) {\n        return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n      }\n      return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\n    }\n  }),\n  Back: Object.freeze({\n    In: function (amount) {\n      var s = 1.70158;\n      return amount === 1 ? 1 : amount * amount * ((s + 1) * amount - s);\n    },\n    Out: function (amount) {\n      var s = 1.70158;\n      return amount === 0 ? 0 : --amount * amount * ((s + 1) * amount + s) + 1;\n    },\n    InOut: function (amount) {\n      var s = 1.70158 * 1.525;\n      if ((amount *= 2) < 1) {\n        return 0.5 * (amount * amount * ((s + 1) * amount - s));\n      }\n      return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\n    }\n  }),\n  Bounce: Object.freeze({\n    In: function (amount) {\n      return 1 - Easing.Bounce.Out(1 - amount);\n    },\n    Out: function (amount) {\n      if (amount < 1 / 2.75) {\n        return 7.5625 * amount * amount;\n      } else if (amount < 2 / 2.75) {\n        return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\n      } else if (amount < 2.5 / 2.75) {\n        return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\n      } else {\n        return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\n      }\n    },\n    InOut: function (amount) {\n      if (amount < 0.5) {\n        return Easing.Bounce.In(amount * 2) * 0.5;\n      }\n      return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\n    }\n  }),\n  generatePow: function (power) {\n    if (power === void 0) {\n      power = 4;\n    }\n    power = power < Number.EPSILON ? Number.EPSILON : power;\n    power = power > 10000 ? 10000 : power;\n    return {\n      In: function (amount) {\n        return Math.pow(amount, power);\n      },\n      Out: function (amount) {\n        return 1 - Math.pow(1 - amount, power);\n      },\n      InOut: function (amount) {\n        if (amount < 0.5) {\n          return Math.pow(amount * 2, power) / 2;\n        }\n        return (1 - Math.pow(2 - amount * 2, power)) / 2 + 0.5;\n      }\n    };\n  }\n});\nvar now = function () {\n  return performance.now();\n};\n\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tween\n */\nvar Group = /** @class */function () {\n  function Group() {\n    this._tweens = {};\n    this._tweensAddedDuringUpdate = {};\n  }\n  Group.prototype.getAll = function () {\n    var _this = this;\n    return Object.keys(this._tweens).map(function (tweenId) {\n      return _this._tweens[tweenId];\n    });\n  };\n  Group.prototype.removeAll = function () {\n    this._tweens = {};\n  };\n  Group.prototype.add = function (tween) {\n    this._tweens[tween.getId()] = tween;\n    this._tweensAddedDuringUpdate[tween.getId()] = tween;\n  };\n  Group.prototype.remove = function (tween) {\n    delete this._tweens[tween.getId()];\n    delete this._tweensAddedDuringUpdate[tween.getId()];\n  };\n  Group.prototype.update = function (time, preserve) {\n    if (time === void 0) {\n      time = now();\n    }\n    if (preserve === void 0) {\n      preserve = false;\n    }\n    var tweenIds = Object.keys(this._tweens);\n    if (tweenIds.length === 0) {\n      return false;\n    }\n    // Tweens are updated in \"batches\". If you add a new tween during an\n    // update, then the new tween will be updated in the next batch.\n    // If you remove a tween during an update, it may or may not be updated.\n    // However, if the removed tween was added during the current batch,\n    // then it will not be updated.\n    while (tweenIds.length > 0) {\n      this._tweensAddedDuringUpdate = {};\n      for (var i = 0; i < tweenIds.length; i++) {\n        var tween = this._tweens[tweenIds[i]];\n        var autoStart = !preserve;\n        if (tween && tween.update(time, autoStart) === false && !preserve) {\n          delete this._tweens[tweenIds[i]];\n        }\n      }\n      tweenIds = Object.keys(this._tweensAddedDuringUpdate);\n    }\n    return true;\n  };\n  return Group;\n}();\n\n/**\n *\n */\nvar Interpolation = {\n  Linear: function (v, k) {\n    var m = v.length - 1;\n    var f = m * k;\n    var i = Math.floor(f);\n    var fn = Interpolation.Utils.Linear;\n    if (k < 0) {\n      return fn(v[0], v[1], f);\n    }\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f);\n    }\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n  },\n  Bezier: function (v, k) {\n    var b = 0;\n    var n = v.length - 1;\n    var pw = Math.pow;\n    var bn = Interpolation.Utils.Bernstein;\n    for (var i = 0; i <= n; i++) {\n      b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n    }\n    return b;\n  },\n  CatmullRom: function (v, k) {\n    var m = v.length - 1;\n    var f = m * k;\n    var i = Math.floor(f);\n    var fn = Interpolation.Utils.CatmullRom;\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor(f = m * (1 + k));\n      }\n      return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n    } else {\n      if (k < 0) {\n        return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n      }\n      if (k > 1) {\n        return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n      }\n      return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n    }\n  },\n  Utils: {\n    Linear: function (p0, p1, t) {\n      return (p1 - p0) * t + p0;\n    },\n    Bernstein: function (n, i) {\n      var fc = Interpolation.Utils.Factorial;\n      return fc(n) / fc(i) / fc(n - i);\n    },\n    Factorial: function () {\n      var a = [1];\n      return function (n) {\n        var s = 1;\n        if (a[n]) {\n          return a[n];\n        }\n        for (var i = n; i > 1; i--) {\n          s *= i;\n        }\n        a[n] = s;\n        return s;\n      };\n    }(),\n    CatmullRom: function (p0, p1, p2, p3, t) {\n      var v0 = (p2 - p0) * 0.5;\n      var v1 = (p3 - p1) * 0.5;\n      var t2 = t * t;\n      var t3 = t * t2;\n      return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n    }\n  }\n};\n\n/**\n * Utils\n */\nvar Sequence = /** @class */function () {\n  function Sequence() {}\n  Sequence.nextId = function () {\n    return Sequence._nextId++;\n  };\n  Sequence._nextId = 0;\n  return Sequence;\n}();\nvar mainGroup = new Group();\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar Tween = /** @class */function () {\n  function Tween(_object, _group) {\n    if (_group === void 0) {\n      _group = mainGroup;\n    }\n    this._object = _object;\n    this._group = _group;\n    this._isPaused = false;\n    this._pauseStart = 0;\n    this._valuesStart = {};\n    this._valuesEnd = {};\n    this._valuesStartRepeat = {};\n    this._duration = 1000;\n    this._isDynamic = false;\n    this._initialRepeat = 0;\n    this._repeat = 0;\n    this._yoyo = false;\n    this._isPlaying = false;\n    this._reversed = false;\n    this._delayTime = 0;\n    this._startTime = 0;\n    this._easingFunction = Easing.Linear.None;\n    this._interpolationFunction = Interpolation.Linear;\n    // eslint-disable-next-line\n    this._chainedTweens = [];\n    this._onStartCallbackFired = false;\n    this._onEveryStartCallbackFired = false;\n    this._id = Sequence.nextId();\n    this._isChainStopped = false;\n    this._propertiesAreSetUp = false;\n    this._goToEnd = false;\n  }\n  Tween.prototype.getId = function () {\n    return this._id;\n  };\n  Tween.prototype.isPlaying = function () {\n    return this._isPlaying;\n  };\n  Tween.prototype.isPaused = function () {\n    return this._isPaused;\n  };\n  Tween.prototype.to = function (target, duration) {\n    if (duration === void 0) {\n      duration = 1000;\n    }\n    if (this._isPlaying) throw new Error('Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.');\n    this._valuesEnd = target;\n    this._propertiesAreSetUp = false;\n    this._duration = duration;\n    return this;\n  };\n  Tween.prototype.duration = function (duration) {\n    if (duration === void 0) {\n      duration = 1000;\n    }\n    this._duration = duration;\n    return this;\n  };\n  Tween.prototype.dynamic = function (dynamic) {\n    if (dynamic === void 0) {\n      dynamic = false;\n    }\n    this._isDynamic = dynamic;\n    return this;\n  };\n  Tween.prototype.start = function (time, overrideStartingValues) {\n    if (time === void 0) {\n      time = now();\n    }\n    if (overrideStartingValues === void 0) {\n      overrideStartingValues = false;\n    }\n    if (this._isPlaying) {\n      return this;\n    }\n    // eslint-disable-next-line\n    this._group && this._group.add(this);\n    this._repeat = this._initialRepeat;\n    if (this._reversed) {\n      // If we were reversed (f.e. using the yoyo feature) then we need to\n      // flip the tween direction back to forward.\n      this._reversed = false;\n      for (var property in this._valuesStartRepeat) {\n        this._swapEndStartRepeatValues(property);\n        this._valuesStart[property] = this._valuesStartRepeat[property];\n      }\n    }\n    this._isPlaying = true;\n    this._isPaused = false;\n    this._onStartCallbackFired = false;\n    this._onEveryStartCallbackFired = false;\n    this._isChainStopped = false;\n    this._startTime = time;\n    this._startTime += this._delayTime;\n    if (!this._propertiesAreSetUp || overrideStartingValues) {\n      this._propertiesAreSetUp = true;\n      // If dynamic is not enabled, clone the end values instead of using the passed-in end values.\n      if (!this._isDynamic) {\n        var tmp = {};\n        for (var prop in this._valuesEnd) tmp[prop] = this._valuesEnd[prop];\n        this._valuesEnd = tmp;\n      }\n      this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat, overrideStartingValues);\n    }\n    return this;\n  };\n  Tween.prototype.startFromCurrentValues = function (time) {\n    return this.start(time, true);\n  };\n  Tween.prototype._setupProperties = function (_object, _valuesStart, _valuesEnd, _valuesStartRepeat, overrideStartingValues) {\n    for (var property in _valuesEnd) {\n      var startValue = _object[property];\n      var startValueIsArray = Array.isArray(startValue);\n      var propType = startValueIsArray ? 'array' : typeof startValue;\n      var isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]);\n      // If `to()` specifies a property that doesn't exist in the source object,\n      // we should not set that property in the object\n      if (propType === 'undefined' || propType === 'function') {\n        continue;\n      }\n      // Check if an Array was provided as property value\n      if (isInterpolationList) {\n        var endValues = _valuesEnd[property];\n        if (endValues.length === 0) {\n          continue;\n        }\n        // Handle an array of relative values.\n        // Creates a local copy of the Array with the start value at the front\n        var temp = [startValue];\n        for (var i = 0, l = endValues.length; i < l; i += 1) {\n          var value = this._handleRelativeValue(startValue, endValues[i]);\n          if (isNaN(value)) {\n            isInterpolationList = false;\n            console.warn('Found invalid interpolation list. Skipping.');\n            break;\n          }\n          temp.push(value);\n        }\n        if (isInterpolationList) {\n          // if (_valuesStart[property] === undefined) { // handle end values only the first time. NOT NEEDED? setupProperties is now guarded by _propertiesAreSetUp.\n          _valuesEnd[property] = temp;\n          // }\n        }\n      }\n      // handle the deepness of the values\n      if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\n        _valuesStart[property] = startValueIsArray ? [] : {};\n        var nestedObject = startValue;\n        for (var prop in nestedObject) {\n          _valuesStart[property][prop] = nestedObject[prop];\n        }\n        // TODO? repeat nested values? And yoyo? And array values?\n        _valuesStartRepeat[property] = startValueIsArray ? [] : {};\n        var endValues = _valuesEnd[property];\n        // If dynamic is not enabled, clone the end values instead of using the passed-in end values.\n        if (!this._isDynamic) {\n          var tmp = {};\n          for (var prop in endValues) tmp[prop] = endValues[prop];\n          _valuesEnd[property] = endValues = tmp;\n        }\n        this._setupProperties(nestedObject, _valuesStart[property], endValues, _valuesStartRepeat[property], overrideStartingValues);\n      } else {\n        // Save the starting value, but only once unless override is requested.\n        if (typeof _valuesStart[property] === 'undefined' || overrideStartingValues) {\n          _valuesStart[property] = startValue;\n        }\n        if (!startValueIsArray) {\n          // eslint-disable-next-line\n          // @ts-ignore FIXME?\n          _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n        }\n        if (isInterpolationList) {\n          // eslint-disable-next-line\n          // @ts-ignore FIXME?\n          _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse();\n        } else {\n          _valuesStartRepeat[property] = _valuesStart[property] || 0;\n        }\n      }\n    }\n  };\n  Tween.prototype.stop = function () {\n    if (!this._isChainStopped) {\n      this._isChainStopped = true;\n      this.stopChainedTweens();\n    }\n    if (!this._isPlaying) {\n      return this;\n    }\n    // eslint-disable-next-line\n    this._group && this._group.remove(this);\n    this._isPlaying = false;\n    this._isPaused = false;\n    if (this._onStopCallback) {\n      this._onStopCallback(this._object);\n    }\n    return this;\n  };\n  Tween.prototype.end = function () {\n    this._goToEnd = true;\n    this.update(Infinity);\n    return this;\n  };\n  Tween.prototype.pause = function (time) {\n    if (time === void 0) {\n      time = now();\n    }\n    if (this._isPaused || !this._isPlaying) {\n      return this;\n    }\n    this._isPaused = true;\n    this._pauseStart = time;\n    // eslint-disable-next-line\n    this._group && this._group.remove(this);\n    return this;\n  };\n  Tween.prototype.resume = function (time) {\n    if (time === void 0) {\n      time = now();\n    }\n    if (!this._isPaused || !this._isPlaying) {\n      return this;\n    }\n    this._isPaused = false;\n    this._startTime += time - this._pauseStart;\n    this._pauseStart = 0;\n    // eslint-disable-next-line\n    this._group && this._group.add(this);\n    return this;\n  };\n  Tween.prototype.stopChainedTweens = function () {\n    for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n      this._chainedTweens[i].stop();\n    }\n    return this;\n  };\n  Tween.prototype.group = function (group) {\n    if (group === void 0) {\n      group = mainGroup;\n    }\n    this._group = group;\n    return this;\n  };\n  Tween.prototype.delay = function (amount) {\n    if (amount === void 0) {\n      amount = 0;\n    }\n    this._delayTime = amount;\n    return this;\n  };\n  Tween.prototype.repeat = function (times) {\n    if (times === void 0) {\n      times = 0;\n    }\n    this._initialRepeat = times;\n    this._repeat = times;\n    return this;\n  };\n  Tween.prototype.repeatDelay = function (amount) {\n    this._repeatDelayTime = amount;\n    return this;\n  };\n  Tween.prototype.yoyo = function (yoyo) {\n    if (yoyo === void 0) {\n      yoyo = false;\n    }\n    this._yoyo = yoyo;\n    return this;\n  };\n  Tween.prototype.easing = function (easingFunction) {\n    if (easingFunction === void 0) {\n      easingFunction = Easing.Linear.None;\n    }\n    this._easingFunction = easingFunction;\n    return this;\n  };\n  Tween.prototype.interpolation = function (interpolationFunction) {\n    if (interpolationFunction === void 0) {\n      interpolationFunction = Interpolation.Linear;\n    }\n    this._interpolationFunction = interpolationFunction;\n    return this;\n  };\n  // eslint-disable-next-line\n  Tween.prototype.chain = function () {\n    var tweens = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      tweens[_i] = arguments[_i];\n    }\n    this._chainedTweens = tweens;\n    return this;\n  };\n  Tween.prototype.onStart = function (callback) {\n    this._onStartCallback = callback;\n    return this;\n  };\n  Tween.prototype.onEveryStart = function (callback) {\n    this._onEveryStartCallback = callback;\n    return this;\n  };\n  Tween.prototype.onUpdate = function (callback) {\n    this._onUpdateCallback = callback;\n    return this;\n  };\n  Tween.prototype.onRepeat = function (callback) {\n    this._onRepeatCallback = callback;\n    return this;\n  };\n  Tween.prototype.onComplete = function (callback) {\n    this._onCompleteCallback = callback;\n    return this;\n  };\n  Tween.prototype.onStop = function (callback) {\n    this._onStopCallback = callback;\n    return this;\n  };\n  /**\n   * @returns true if the tween is still playing after the update, false\n   * otherwise (calling update on a paused tween still returns true because\n   * it is still playing, just paused).\n   */\n  Tween.prototype.update = function (time, autoStart) {\n    if (time === void 0) {\n      time = now();\n    }\n    if (autoStart === void 0) {\n      autoStart = true;\n    }\n    if (this._isPaused) return true;\n    var property;\n    var elapsed;\n    var endTime = this._startTime + this._duration;\n    if (!this._goToEnd && !this._isPlaying) {\n      if (time > endTime) return false;\n      if (autoStart) this.start(time, true);\n    }\n    this._goToEnd = false;\n    if (time < this._startTime) {\n      return true;\n    }\n    if (this._onStartCallbackFired === false) {\n      if (this._onStartCallback) {\n        this._onStartCallback(this._object);\n      }\n      this._onStartCallbackFired = true;\n    }\n    if (this._onEveryStartCallbackFired === false) {\n      if (this._onEveryStartCallback) {\n        this._onEveryStartCallback(this._object);\n      }\n      this._onEveryStartCallbackFired = true;\n    }\n    elapsed = (time - this._startTime) / this._duration;\n    elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed;\n    var value = this._easingFunction(elapsed);\n    // properties transformations\n    this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n    if (this._onUpdateCallback) {\n      this._onUpdateCallback(this._object, elapsed);\n    }\n    if (elapsed === 1) {\n      if (this._repeat > 0) {\n        if (isFinite(this._repeat)) {\n          this._repeat--;\n        }\n        // Reassign starting values, restart by making startTime = now\n        for (property in this._valuesStartRepeat) {\n          if (!this._yoyo && typeof this._valuesEnd[property] === 'string') {\n            this._valuesStartRepeat[property] =\n            // eslint-disable-next-line\n            // @ts-ignore FIXME?\n            this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n          }\n          if (this._yoyo) {\n            this._swapEndStartRepeatValues(property);\n          }\n          this._valuesStart[property] = this._valuesStartRepeat[property];\n        }\n        if (this._yoyo) {\n          this._reversed = !this._reversed;\n        }\n        if (this._repeatDelayTime !== undefined) {\n          this._startTime = time + this._repeatDelayTime;\n        } else {\n          this._startTime = time + this._delayTime;\n        }\n        if (this._onRepeatCallback) {\n          this._onRepeatCallback(this._object);\n        }\n        this._onEveryStartCallbackFired = false;\n        return true;\n      } else {\n        if (this._onCompleteCallback) {\n          this._onCompleteCallback(this._object);\n        }\n        for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n          // Make the chained tweens start exactly at the time they should,\n          // even if the `update()` method was called way past the duration of the tween\n          this._chainedTweens[i].start(this._startTime + this._duration, false);\n        }\n        this._isPlaying = false;\n        return false;\n      }\n    }\n    return true;\n  };\n  Tween.prototype._updateProperties = function (_object, _valuesStart, _valuesEnd, value) {\n    for (var property in _valuesEnd) {\n      // Don't update properties that do not exist in the source object\n      if (_valuesStart[property] === undefined) {\n        continue;\n      }\n      var start = _valuesStart[property] || 0;\n      var end = _valuesEnd[property];\n      var startIsArray = Array.isArray(_object[property]);\n      var endIsArray = Array.isArray(end);\n      var isInterpolationList = !startIsArray && endIsArray;\n      if (isInterpolationList) {\n        _object[property] = this._interpolationFunction(end, value);\n      } else if (typeof end === 'object' && end) {\n        // eslint-disable-next-line\n        // @ts-ignore FIXME?\n        this._updateProperties(_object[property], start, end, value);\n      } else {\n        // Parses relative end values with start as base (e.g.: +10, -3)\n        end = this._handleRelativeValue(start, end);\n        // Protect against non numeric properties.\n        if (typeof end === 'number') {\n          // eslint-disable-next-line\n          // @ts-ignore FIXME?\n          _object[property] = start + (end - start) * value;\n        }\n      }\n    }\n  };\n  Tween.prototype._handleRelativeValue = function (start, end) {\n    if (typeof end !== 'string') {\n      return end;\n    }\n    if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n      return start + parseFloat(end);\n    }\n    return parseFloat(end);\n  };\n  Tween.prototype._swapEndStartRepeatValues = function (property) {\n    var tmp = this._valuesStartRepeat[property];\n    var endValue = this._valuesEnd[property];\n    if (typeof endValue === 'string') {\n      this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue);\n    } else {\n      this._valuesStartRepeat[property] = this._valuesEnd[property];\n    }\n    this._valuesEnd[property] = tmp;\n  };\n  return Tween;\n}();\nvar VERSION = '21.0.0';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar nextId = Sequence.nextId;\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tweens.\n */\nvar TWEEN = mainGroup;\n// This is the best way to export things in a way that's compatible with both ES\n// Modules and CommonJS, without build hacks, and so as not to break the\n// existing API.\n// https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\nvar getAll = TWEEN.getAll.bind(TWEEN);\nvar removeAll = TWEEN.removeAll.bind(TWEEN);\nvar add = TWEEN.add.bind(TWEEN);\nvar remove = TWEEN.remove.bind(TWEEN);\nvar update = TWEEN.update.bind(TWEEN);\nvar exports = {\n  Easing: Easing,\n  Group: Group,\n  Interpolation: Interpolation,\n  now: now,\n  Sequence: Sequence,\n  nextId: nextId,\n  Tween: Tween,\n  VERSION: VERSION,\n  getAll: getAll,\n  removeAll: removeAll,\n  add: add,\n  remove: remove,\n  update: update\n};\nexport { Easing, Group, Interpolation, Sequence, Tween, VERSION, add, exports as default, getAll, nextId, now, remove, removeAll, update };","import debounce from 'lodash-es/debounce.js';\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nvar Prop = /*#__PURE__*/_createClass(function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n    defaultVal = _ref$default === void 0 ? null : _ref$default,\n    _ref$triggerUpdate = _ref.triggerUpdate,\n    triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n    _ref$onChange = _ref.onChange,\n    onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n  _classCallCheck(this, Prop);\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n});\nfunction index(_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n    stateInit = _ref2$stateInit === void 0 ? function () {\n      return {};\n    } : _ref2$stateInit,\n    _ref2$props = _ref2.props,\n    rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n    _ref2$methods = _ref2.methods,\n    methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n    _ref2$aliases = _ref2.aliases,\n    aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n    _ref2$init = _ref2.init,\n    initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n    _ref2$update = _ref2.update,\n    updateFn = _ref2$update === void 0 ? function () {} : _ref2$update;\n  // Parse props into Prop instances\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Holds component state\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit,\n    // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    });\n\n    // keeps track of which props triggered an update\n    var changedProps = {};\n\n    // Component constructor\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1);\n\n    // Getter/setter methods\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n          _ref3$triggerUpdate = _ref3.triggerUpdate,\n          redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n          _ref3$onChange = _ref3.onChange,\n          onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n          _ref3$defaultVal = _ref3.defaultVal,\n          defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal);\n\n          // track changed props\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n          if (redigest) {\n            digest();\n          }\n          return comp;\n        };\n      }\n    });\n\n    // Other methods\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    });\n\n    // Link aliases\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n        alias = _ref5[0],\n        target = _ref5[1];\n      return comp[alias] = comp[target];\n    });\n\n    // Reset all component props to their default value\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    };\n\n    //\n\n    comp.resetProps(); // Apply all prop defaults\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\nexport { index as default };","var index = function (p) {\n  return typeof p === 'function' ? p // fn\n  : typeof p === 'string' ? function (obj) {\n    return obj[p];\n  } // property name\n  : function (obj) {\n    return p;\n  };\n}; // constant\n\nexport { index as default };","// This file is autogenerated. It's used to publish ESM to npm.\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\nvar trimLeft = /^\\s+/;\nvar trimRight = /\\s+$/;\nfunction tinycolor(color, opts) {\n  color = color ? color : \"\";\n  opts = opts || {};\n\n  // If input is already a tinycolor, return itself\n  if (color instanceof tinycolor) {\n    return color;\n  }\n  // If we are called as a function, call using new instead\n  if (!(this instanceof tinycolor)) {\n    return new tinycolor(color, opts);\n  }\n  var rgb = inputToRGB(color);\n  this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = Math.round(100 * this._a) / 100, this._format = opts.format || rgb.format;\n  this._gradientType = opts.gradientType;\n\n  // Don't let the range of [0,255] come back in [0,1].\n  // Potentially lose a little bit of precision here, but will fix issues where\n  // .5 gets interpreted as half of the total, instead of half of 1\n  // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n  if (this._r < 1) this._r = Math.round(this._r);\n  if (this._g < 1) this._g = Math.round(this._g);\n  if (this._b < 1) this._b = Math.round(this._b);\n  this._ok = rgb.ok;\n}\ntinycolor.prototype = {\n  isDark: function isDark() {\n    return this.getBrightness() < 128;\n  },\n  isLight: function isLight() {\n    return !this.isDark();\n  },\n  isValid: function isValid() {\n    return this._ok;\n  },\n  getOriginalInput: function getOriginalInput() {\n    return this._originalInput;\n  },\n  getFormat: function getFormat() {\n    return this._format;\n  },\n  getAlpha: function getAlpha() {\n    return this._a;\n  },\n  getBrightness: function getBrightness() {\n    //http://www.w3.org/TR/AERT#color-contrast\n    var rgb = this.toRgb();\n    return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n  },\n  getLuminance: function getLuminance() {\n    //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    var rgb = this.toRgb();\n    var RsRGB, GsRGB, BsRGB, R, G, B;\n    RsRGB = rgb.r / 255;\n    GsRGB = rgb.g / 255;\n    BsRGB = rgb.b / 255;\n    if (RsRGB <= 0.03928) R = RsRGB / 12.92;else R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n    if (GsRGB <= 0.03928) G = GsRGB / 12.92;else G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n    if (BsRGB <= 0.03928) B = BsRGB / 12.92;else B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n  },\n  setAlpha: function setAlpha(value) {\n    this._a = boundAlpha(value);\n    this._roundA = Math.round(100 * this._a) / 100;\n    return this;\n  },\n  toHsv: function toHsv() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    return {\n      h: hsv.h * 360,\n      s: hsv.s,\n      v: hsv.v,\n      a: this._a\n    };\n  },\n  toHsvString: function toHsvString() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    var h = Math.round(hsv.h * 360),\n      s = Math.round(hsv.s * 100),\n      v = Math.round(hsv.v * 100);\n    return this._a == 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this._roundA + \")\";\n  },\n  toHsl: function toHsl() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    return {\n      h: hsl.h * 360,\n      s: hsl.s,\n      l: hsl.l,\n      a: this._a\n    };\n  },\n  toHslString: function toHslString() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    var h = Math.round(hsl.h * 360),\n      s = Math.round(hsl.s * 100),\n      l = Math.round(hsl.l * 100);\n    return this._a == 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this._roundA + \")\";\n  },\n  toHex: function toHex(allow3Char) {\n    return rgbToHex(this._r, this._g, this._b, allow3Char);\n  },\n  toHexString: function toHexString(allow3Char) {\n    return \"#\" + this.toHex(allow3Char);\n  },\n  toHex8: function toHex8(allow4Char) {\n    return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n  },\n  toHex8String: function toHex8String(allow4Char) {\n    return \"#\" + this.toHex8(allow4Char);\n  },\n  toRgb: function toRgb() {\n    return {\n      r: Math.round(this._r),\n      g: Math.round(this._g),\n      b: Math.round(this._b),\n      a: this._a\n    };\n  },\n  toRgbString: function toRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \")\" : \"rgba(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \", \" + this._roundA + \")\";\n  },\n  toPercentageRgb: function toPercentageRgb() {\n    return {\n      r: Math.round(bound01(this._r, 255) * 100) + \"%\",\n      g: Math.round(bound01(this._g, 255) * 100) + \"%\",\n      b: Math.round(bound01(this._b, 255) * 100) + \"%\",\n      a: this._a\n    };\n  },\n  toPercentageRgbString: function toPercentageRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%)\" : \"rgba(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n  },\n  toName: function toName() {\n    if (this._a === 0) {\n      return \"transparent\";\n    }\n    if (this._a < 1) {\n      return false;\n    }\n    return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n  },\n  toFilter: function toFilter(secondColor) {\n    var hex8String = \"#\" + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n    var secondHex8String = hex8String;\n    var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n    if (secondColor) {\n      var s = tinycolor(secondColor);\n      secondHex8String = \"#\" + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n    }\n    return \"progid:DXImageTransform.Microsoft.gradient(\" + gradientType + \"startColorstr=\" + hex8String + \",endColorstr=\" + secondHex8String + \")\";\n  },\n  toString: function toString(format) {\n    var formatSet = !!format;\n    format = format || this._format;\n    var formattedString = false;\n    var hasAlpha = this._a < 1 && this._a >= 0;\n    var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n    if (needsAlphaFormat) {\n      // Special case for \"transparent\", all other non-alpha formats\n      // will return rgba when there is transparency.\n      if (format === \"name\" && this._a === 0) {\n        return this.toName();\n      }\n      return this.toRgbString();\n    }\n    if (format === \"rgb\") {\n      formattedString = this.toRgbString();\n    }\n    if (format === \"prgb\") {\n      formattedString = this.toPercentageRgbString();\n    }\n    if (format === \"hex\" || format === \"hex6\") {\n      formattedString = this.toHexString();\n    }\n    if (format === \"hex3\") {\n      formattedString = this.toHexString(true);\n    }\n    if (format === \"hex4\") {\n      formattedString = this.toHex8String(true);\n    }\n    if (format === \"hex8\") {\n      formattedString = this.toHex8String();\n    }\n    if (format === \"name\") {\n      formattedString = this.toName();\n    }\n    if (format === \"hsl\") {\n      formattedString = this.toHslString();\n    }\n    if (format === \"hsv\") {\n      formattedString = this.toHsvString();\n    }\n    return formattedString || this.toHexString();\n  },\n  clone: function clone() {\n    return tinycolor(this.toString());\n  },\n  _applyModification: function _applyModification(fn, args) {\n    var color = fn.apply(null, [this].concat([].slice.call(args)));\n    this._r = color._r;\n    this._g = color._g;\n    this._b = color._b;\n    this.setAlpha(color._a);\n    return this;\n  },\n  lighten: function lighten() {\n    return this._applyModification(_lighten, arguments);\n  },\n  brighten: function brighten() {\n    return this._applyModification(_brighten, arguments);\n  },\n  darken: function darken() {\n    return this._applyModification(_darken, arguments);\n  },\n  desaturate: function desaturate() {\n    return this._applyModification(_desaturate, arguments);\n  },\n  saturate: function saturate() {\n    return this._applyModification(_saturate, arguments);\n  },\n  greyscale: function greyscale() {\n    return this._applyModification(_greyscale, arguments);\n  },\n  spin: function spin() {\n    return this._applyModification(_spin, arguments);\n  },\n  _applyCombination: function _applyCombination(fn, args) {\n    return fn.apply(null, [this].concat([].slice.call(args)));\n  },\n  analogous: function analogous() {\n    return this._applyCombination(_analogous, arguments);\n  },\n  complement: function complement() {\n    return this._applyCombination(_complement, arguments);\n  },\n  monochromatic: function monochromatic() {\n    return this._applyCombination(_monochromatic, arguments);\n  },\n  splitcomplement: function splitcomplement() {\n    return this._applyCombination(_splitcomplement, arguments);\n  },\n  // Disabled until https://github.com/bgrins/TinyColor/issues/254\n  // polyad: function (number) {\n  //   return this._applyCombination(polyad, [number]);\n  // },\n  triad: function triad() {\n    return this._applyCombination(polyad, [3]);\n  },\n  tetrad: function tetrad() {\n    return this._applyCombination(polyad, [4]);\n  }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function (color, opts) {\n  if (_typeof(color) == \"object\") {\n    var newColor = {};\n    for (var i in color) {\n      if (color.hasOwnProperty(i)) {\n        if (i === \"a\") {\n          newColor[i] = color[i];\n        } else {\n          newColor[i] = convertToPercentage(color[i]);\n        }\n      }\n    }\n    color = newColor;\n  }\n  return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n  var rgb = {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n  var a = 1;\n  var s = null;\n  var v = null;\n  var l = null;\n  var ok = false;\n  var format = false;\n  if (typeof color == \"string\") {\n    color = stringInputToObject(color);\n  }\n  if (_typeof(color) == \"object\") {\n    if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n      rgb = rgbToRgb(color.r, color.g, color.b);\n      ok = true;\n      format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n      s = convertToPercentage(color.s);\n      v = convertToPercentage(color.v);\n      rgb = hsvToRgb(color.h, s, v);\n      ok = true;\n      format = \"hsv\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n      s = convertToPercentage(color.s);\n      l = convertToPercentage(color.l);\n      rgb = hslToRgb(color.h, s, l);\n      ok = true;\n      format = \"hsl\";\n    }\n    if (color.hasOwnProperty(\"a\")) {\n      a = color.a;\n    }\n  }\n  a = boundAlpha(a);\n  return {\n    ok: ok,\n    format: color.format || format,\n    r: Math.min(255, Math.max(rgb.r, 0)),\n    g: Math.min(255, Math.max(rgb.g, 0)),\n    b: Math.min(255, Math.max(rgb.b, 0)),\n    a: a\n  };\n}\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b) {\n  return {\n    r: bound01(r, 255) * 255,\n    g: bound01(g, 255) * 255,\n    b: bound01(b, 255) * 255\n  };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    l: l\n  };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n  var r, g, b;\n  h = bound01(h, 360);\n  s = bound01(s, 100);\n  l = bound01(l, 100);\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    v = max;\n  var d = max - min;\n  s = max === 0 ? 0 : d / max;\n  if (max == min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    v: v\n  };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hsvToRgb(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n  var i = Math.floor(h),\n    f = h - i,\n    p = v * (1 - s),\n    q = v * (1 - f * s),\n    t = v * (1 - (1 - f) * s),\n    mod = i % 6,\n    r = [v, q, p, p, t, v][mod],\n    g = [t, v, v, q, p, p][mod],\n    b = [p, p, t, v, v, q][mod];\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n\n  // Return a 3 character hex if possible\n  if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16)), pad2(convertDecimalToHex(a))];\n\n  // Return a 4 character hex if possible\n  if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n  var hex = [pad2(convertDecimalToHex(a)), pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n  return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n  if (!color1 || !color2) return false;\n  return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\ntinycolor.random = function () {\n  return tinycolor.fromRatio({\n    r: Math.random(),\n    g: Math.random(),\n    b: Math.random()\n  });\n};\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction _desaturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s -= amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _saturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s += amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _greyscale(color) {\n  return tinycolor(color).desaturate(100);\n}\nfunction _lighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l += amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\nfunction _brighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var rgb = tinycolor(color).toRgb();\n  rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n  rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n  rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n  return tinycolor(rgb);\n}\nfunction _darken(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l -= amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction _spin(color, amount) {\n  var hsl = tinycolor(color).toHsl();\n  var hue = (hsl.h + amount) % 360;\n  hsl.h = hue < 0 ? 360 + hue : hue;\n  return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction _complement(color) {\n  var hsl = tinycolor(color).toHsl();\n  hsl.h = (hsl.h + 180) % 360;\n  return tinycolor(hsl);\n}\nfunction polyad(color, number) {\n  if (isNaN(number) || number <= 0) {\n    throw new Error(\"Argument to polyad must be a positive number\");\n  }\n  var hsl = tinycolor(color).toHsl();\n  var result = [tinycolor(color)];\n  var step = 360 / number;\n  for (var i = 1; i < number; i++) {\n    result.push(tinycolor({\n      h: (hsl.h + i * step) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }));\n  }\n  return result;\n}\nfunction _splitcomplement(color) {\n  var hsl = tinycolor(color).toHsl();\n  var h = hsl.h;\n  return [tinycolor(color), tinycolor({\n    h: (h + 72) % 360,\n    s: hsl.s,\n    l: hsl.l\n  }), tinycolor({\n    h: (h + 216) % 360,\n    s: hsl.s,\n    l: hsl.l\n  })];\n}\nfunction _analogous(color, results, slices) {\n  results = results || 6;\n  slices = slices || 30;\n  var hsl = tinycolor(color).toHsl();\n  var part = 360 / slices;\n  var ret = [tinycolor(color)];\n  for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results;) {\n    hsl.h = (hsl.h + part) % 360;\n    ret.push(tinycolor(hsl));\n  }\n  return ret;\n}\nfunction _monochromatic(color, results) {\n  results = results || 6;\n  var hsv = tinycolor(color).toHsv();\n  var h = hsv.h,\n    s = hsv.s,\n    v = hsv.v;\n  var ret = [];\n  var modification = 1 / results;\n  while (results--) {\n    ret.push(tinycolor({\n      h: h,\n      s: s,\n      v: v\n    }));\n    v = (v + modification) % 1;\n  }\n  return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function (color1, color2, amount) {\n  amount = amount === 0 ? 0 : amount || 50;\n  var rgb1 = tinycolor(color1).toRgb();\n  var rgb2 = tinycolor(color2).toRgb();\n  var p = amount / 100;\n  var rgba = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b,\n    a: (rgb2.a - rgb1.a) * p + rgb1.a\n  };\n  return tinycolor(rgba);\n};\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function (color1, color2) {\n  var c1 = tinycolor(color1);\n  var c2 = tinycolor(color2);\n  return (Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) / (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function (color1, color2, wcag2) {\n  var readability = tinycolor.readability(color1, color2);\n  var wcag2Parms, out;\n  out = false;\n  wcag2Parms = validateWCAG2Parms(wcag2);\n  switch (wcag2Parms.level + wcag2Parms.size) {\n    case \"AAsmall\":\n    case \"AAAlarge\":\n      out = readability >= 4.5;\n      break;\n    case \"AAlarge\":\n      out = readability >= 3;\n      break;\n    case \"AAAsmall\":\n      out = readability >= 7;\n      break;\n  }\n  return out;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function (baseColor, colorList, args) {\n  var bestColor = null;\n  var bestScore = 0;\n  var readability;\n  var includeFallbackColors, level, size;\n  args = args || {};\n  includeFallbackColors = args.includeFallbackColors;\n  level = args.level;\n  size = args.size;\n  for (var i = 0; i < colorList.length; i++) {\n    readability = tinycolor.readability(baseColor, colorList[i]);\n    if (readability > bestScore) {\n      bestScore = readability;\n      bestColor = tinycolor(colorList[i]);\n    }\n  }\n  if (tinycolor.isReadable(baseColor, bestColor, {\n    level: level,\n    size: size\n  }) || !includeFallbackColors) {\n    return bestColor;\n  } else {\n    args.includeFallbackColors = false;\n    return tinycolor.mostReadable(baseColor, [\"#fff\", \"#000\"], args);\n  }\n};\n\n// Big List of Colors\n// ------------------\n// <https://www.w3.org/TR/css-color-4/#named-colors>\nvar names = tinycolor.names = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"0ff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"00f\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  burntsienna: \"ea7e5d\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"0ff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"f0f\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"663399\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n  var flipped = {};\n  for (var i in o) {\n    if (o.hasOwnProperty(i)) {\n      flipped[o[i]] = i;\n    }\n  }\n  return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n  a = parseFloat(a);\n  if (isNaN(a) || a < 0 || a > 1) {\n    a = 1;\n  }\n  return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n  if (isOnePointZero(n)) n = \"100%\";\n  var processPercent = isPercentage(n);\n  n = Math.min(max, Math.max(0, parseFloat(n)));\n\n  // Automatically convert percentage into number\n  if (processPercent) {\n    n = parseInt(n * max, 10) / 100;\n  }\n\n  // Handle floating point rounding errors\n  if (Math.abs(n - max) < 0.000001) {\n    return 1;\n  }\n\n  // Convert into [0, 1] range if it isn't already\n  return n % max / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n  return Math.min(1, Math.max(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n  return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n  return typeof n == \"string\" && n.indexOf(\".\") != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n  return typeof n === \"string\" && n.indexOf(\"%\") != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n  return c.length == 1 ? \"0\" + c : \"\" + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n  if (n <= 1) {\n    n = n * 100 + \"%\";\n  }\n  return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n  return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n  return parseIntFromHex(h) / 255;\n}\nvar matchers = function () {\n  // <http://www.w3.org/TR/css3-values/#integers>\n  var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n  // <http://www.w3.org/TR/css3-values/#number-value>\n  var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n  // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n  var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n  // Actual matching.\n  // Parentheses and commas are optional, but not required.\n  // Whitespace can take the place of commas or opening paren\n  var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  return {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n    rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n    hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n    hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n    hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n    hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n  };\n}();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n  return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n  color = color.replace(trimLeft, \"\").replace(trimRight, \"\").toLowerCase();\n  var named = false;\n  if (names[color]) {\n    color = names[color];\n    named = true;\n  } else if (color == \"transparent\") {\n    return {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 0,\n      format: \"name\"\n    };\n  }\n\n  // Try to match string input using regular expressions.\n  // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n  // Just return an object and let the conversion functions handle that.\n  // This way the result will be the same whether the tinycolor is initialized with string or object.\n  var match;\n  if (match = matchers.rgb.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3]\n    };\n  }\n  if (match = matchers.rgba.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsl.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3]\n    };\n  }\n  if (match = matchers.hsla.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsv.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3]\n    };\n  }\n  if (match = matchers.hsva.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hex8.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      a: convertHexToDecimal(match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex6.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  if (match = matchers.hex4.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      a: convertHexToDecimal(match[4] + \"\" + match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex3.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  return false;\n}\nfunction validateWCAG2Parms(parms) {\n  // return valid WCAG2 parms for isReadable.\n  // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n  var level, size;\n  parms = parms || {\n    level: \"AA\",\n    size: \"small\"\n  };\n  level = (parms.level || \"AA\").toUpperCase();\n  size = (parms.size || \"small\").toLowerCase();\n  if (level !== \"AA\" && level !== \"AAA\") {\n    level = \"AA\";\n  }\n  if (size !== \"small\" && size !== \"large\") {\n    size = \"small\";\n  }\n  return {\n    level: level,\n    size: size\n  };\n}\nexport { tinycolor as default };","import tinyColor from 'tinycolor2';\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nvar ENTROPY = 123; // Raise numbers to prevent collisions in lower indexes\n\nvar int2HexColor = function int2HexColor(num) {\n  return \"#\".concat(Math.min(num, Math.pow(2, 24)).toString(16).padStart(6, '0'));\n};\nvar rgb2Int = function rgb2Int(r, g, b) {\n  return (r << 16) + (g << 8) + b;\n};\nvar colorStr2Int = function colorStr2Int(str) {\n  var _tinyColor$toRgb = tinyColor(str).toRgb(),\n    r = _tinyColor$toRgb.r,\n    g = _tinyColor$toRgb.g,\n    b = _tinyColor$toRgb.b;\n  return rgb2Int(r, g, b);\n};\nvar checksum = function checksum(n, csBits) {\n  return n * ENTROPY % Math.pow(2, csBits);\n};\nvar _default = /*#__PURE__*/function () {\n  function _default() {\n    var csBits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 6;\n    _classCallCheck(this, _default);\n    this.csBits = csBits; // How many bits to reserve for checksum. Will eat away into the usable size of the registry.\n    this.registry = ['__reserved for background__']; // indexed objects for rgb lookup;\n  }\n  _createClass(_default, [{\n    key: \"register\",\n    value: function register(obj) {\n      if (this.registry.length >= Math.pow(2, 24 - this.csBits)) {\n        // color has 24 bits (-checksum)\n        return null; // Registry is full\n      }\n      var idx = this.registry.length;\n      var cs = checksum(idx, this.csBits);\n      var color = int2HexColor(idx + (cs << 24 - this.csBits));\n      this.registry.push(obj);\n      return color;\n    }\n  }, {\n    key: \"lookup\",\n    value: function lookup(color) {\n      var n = typeof color === 'string' ? colorStr2Int(color) : rgb2Int.apply(void 0, _toConsumableArray(color));\n      if (!n) return null; // 0 index is reserved for background\n\n      var idx = n & Math.pow(2, 24 - this.csBits) - 1; // registry index\n      var cs = n >> 24 - this.csBits & Math.pow(2, this.csBits) - 1; // extract bits reserved for checksum\n\n      if (checksum(idx, this.csBits) !== cs || idx >= this.registry.length) return null; // failed checksum or registry out of bounds\n\n      return this.registry[idx];\n    }\n  }]);\n  return _default;\n}();\nexport { _default as default };","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function () {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}","import { dispatch } from \"d3-dispatch\";\nimport { timer } from \"d3-timer\";\nimport lcg from \"./lcg.js\";\nvar MAX_DIMENSIONS = 3;\nexport function x(d) {\n  return d.x;\n}\nexport function y(d) {\n  return d.y;\n}\nexport function z(d) {\n  return d.z;\n}\nvar initialRadius = 10,\n  initialAngleRoll = Math.PI * (3 - Math.sqrt(5)),\n  // Golden ratio angle\n  initialAngleYaw = Math.PI * 20 / (9 + Math.sqrt(221)); // Markov irrational number\n\nexport default function (nodes, numDimensions) {\n  numDimensions = numDimensions || 2;\n  var nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(numDimensions))),\n    simulation,\n    alpha = 1,\n    alphaMin = 0.001,\n    alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n    alphaTarget = 0,\n    velocityDecay = 0.6,\n    forces = new Map(),\n    stepper = timer(step),\n    event = dispatch(\"tick\", \"end\"),\n    random = lcg();\n  if (nodes == null) nodes = [];\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n  function tick(iterations) {\n    var i,\n      n = nodes.length,\n      node;\n    if (iterations === undefined) iterations = 1;\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n      forces.forEach(function (force) {\n        force(alpha);\n      });\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;else node.x = node.fx, node.vx = 0;\n        if (nDim > 1) {\n          if (node.fy == null) node.y += node.vy *= velocityDecay;else node.y = node.fy, node.vy = 0;\n        }\n        if (nDim > 2) {\n          if (node.fz == null) node.z += node.vz *= velocityDecay;else node.z = node.fz, node.vz = 0;\n        }\n      }\n    }\n    return simulation;\n  }\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (node.fz != null) node.z = node.fz;\n      if (isNaN(node.x) || nDim > 1 && isNaN(node.y) || nDim > 2 && isNaN(node.z)) {\n        var radius = initialRadius * (nDim > 2 ? Math.cbrt(0.5 + i) : nDim > 1 ? Math.sqrt(0.5 + i) : i),\n          rollAngle = i * initialAngleRoll,\n          yawAngle = i * initialAngleYaw;\n        if (nDim === 1) {\n          node.x = radius;\n        } else if (nDim === 2) {\n          node.x = radius * Math.cos(rollAngle);\n          node.y = radius * Math.sin(rollAngle);\n        } else {\n          // 3 dimensions: use spherical distribution along 2 irrational number angles\n          node.x = radius * Math.sin(rollAngle) * Math.cos(yawAngle);\n          node.y = radius * Math.cos(rollAngle);\n          node.z = radius * Math.sin(rollAngle) * Math.sin(yawAngle);\n        }\n      }\n      if (isNaN(node.vx) || nDim > 1 && isNaN(node.vy) || nDim > 2 && isNaN(node.vz)) {\n        node.vx = 0;\n        if (nDim > 1) {\n          node.vy = 0;\n        }\n        if (nDim > 2) {\n          node.vz = 0;\n        }\n      }\n    }\n  }\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random, nDim);\n    return force;\n  }\n  initializeNodes();\n  return simulation = {\n    tick: tick,\n    restart: function () {\n      return stepper.restart(step), simulation;\n    },\n    stop: function () {\n      return stepper.stop(), simulation;\n    },\n    numDimensions: function (_) {\n      return arguments.length ? (nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(_))), forces.forEach(initializeForce), simulation) : nDim;\n    },\n    nodes: function (_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n    alpha: function (_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n    alphaMin: function (_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n    alphaDecay: function (_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n    alphaTarget: function (_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n    velocityDecay: function (_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n    randomSource: function (_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n    force: function (name, _) {\n      return arguments.length > 1 ? (_ == null ? forces.delete(name) : forces.set(name, initializeForce(_)), simulation) : forces.get(name);\n    },\n    find: function () {\n      var args = Array.prototype.slice.call(arguments);\n      var x = args.shift() || 0,\n        y = (nDim > 1 ? args.shift() : null) || 0,\n        z = (nDim > 2 ? args.shift() : null) || 0,\n        radius = args.shift() || Infinity;\n      var i = 0,\n        n = nodes.length,\n        dx,\n        dy,\n        dz,\n        d2,\n        node,\n        closest;\n      radius *= radius;\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - (node.y || 0);\n        dz = z - (node.z || 0);\n        d2 = dx * dx + dy * dy + dz * dz;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n      return closest;\n    },\n    on: function (name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}","export default function (x) {\n  return function () {\n    return x;\n  };\n}","export default function (random) {\n  return (random() - 0.5) * 1e-6;\n}","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nfunction index(d) {\n  return d.index;\n}\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\nexport default function (links) {\n  var id = index,\n    strength = defaultStrength,\n    strengths,\n    distance = constant(30),\n    distances,\n    nodes,\n    nDim,\n    count,\n    bias,\n    random,\n    iterations = 1;\n  if (links == null) links = [];\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x = 0, y = 0, z = 0, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        if (nDim > 1) {\n          y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        }\n        if (nDim > 2) {\n          z = target.z + target.vz - source.z - source.vz || jiggle(random);\n        }\n        l = Math.sqrt(x * x + y * y + z * z);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l, z *= l;\n        target.vx -= x * (b = bias[i]);\n        if (nDim > 1) {\n          target.vy -= y * b;\n        }\n        if (nDim > 2) {\n          target.vz -= z * b;\n        }\n        source.vx += x * (b = 1 - b);\n        if (nDim > 1) {\n          source.vy += y * b;\n        }\n        if (nDim > 2) {\n          source.vz += z * b;\n        }\n      }\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length,\n      m = links.length,\n      nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n      link;\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n  function initializeStrength() {\n    if (!nodes) return;\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n  function initializeDistance() {\n    if (!nodes) return;\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n  force.initialize = function (_nodes) {\n    nodes = _nodes;\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n  force.links = function (_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n  force.id = function (_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n  force.iterations = function (_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n  force.distance = function (_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n  return force;\n}","export default function (d) {\n  const x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n    node = tree._root,\n    leaf = {\n      data: d\n    },\n    x0 = tree._x0,\n    x1 = tree._x1,\n    xm,\n    xp,\n    right,\n    i,\n    j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\nexport function addAll(data) {\n  if (!Array.isArray(data)) data = Array.from(data);\n  const n = data.length;\n  const xz = new Float64Array(n);\n  let x0 = Infinity,\n    x1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (let i = 0, x; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0).cover(x1);\n\n  // Add the new points.\n  for (let i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n  return this;\n}","export default function (node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}","export function defaultX(d) {\n  return d[0];\n}\nexport default function (_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}","import tree_add, { addAll as tree_addAll } from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, { removeAll as tree_removeAll } from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, { defaultX } from \"./x.js\";\nexport default function binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\nfunction leaf_copy(leaf) {\n  var copy = {\n      data: leaf.data\n    },\n    next = copy;\n  while (leaf = leaf.next) next = next.next = {\n    data: leaf.data\n  };\n  return copy;\n}\nvar treeProto = binarytree.prototype = Binarytree.prototype;\ntreeProto.copy = function () {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n    node = this._root,\n    nodes,\n    child;\n  if (!node) return copy;\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n  nodes = [{\n    source: node,\n    target: copy._root = new Array(2)\n  }];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({\n          source: child,\n          target: node.target[i] = new Array(2)\n        });else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n  return copy;\n};\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;","export default function (x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n    x1 = this._x1;\n\n  // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n      node = this._root,\n      parent,\n      i;\n    while (x0 > x || x >= x1) {\n      i = +(x < x0);\n      parent = new Array(2), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0:\n          x1 = x0 + z;\n          break;\n        case 1:\n          x0 = x1 - z;\n          break;\n      }\n    }\n    if (this._root && this._root.length) this._root = node;\n  }\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}","export default function () {\n  var data = [];\n  this.visit(function (node) {\n    if (!node.length) do data.push(node.data); while (node = node.next);\n  });\n  return data;\n}","export default function (_) {\n  return arguments.length ? this.cover(+_[0][0]).cover(+_[1][0]) : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}","import Half from \"./half.js\";\nexport default function (x, radius) {\n  var data,\n    x0 = this._x0,\n    x1,\n    x2,\n    x3 = this._x1,\n    halves = [],\n    node = this._root,\n    q,\n    i;\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n  while (q = halves.pop()) {\n    // Stop searching if this half can’t contain a closer node.\n    if (!(node = q.node) || (x1 = q.x0) > x3 || (x2 = q.x1) < x0) continue;\n\n    // Bisect the current half.\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n      halves.push(new Half(node[1], xm, x2), new Half(node[0], x1, xm));\n\n      // Visit the closest half first.\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var d = Math.abs(x - +this._x.call(null, node.data));\n      if (d < radius) {\n        radius = d;\n        x0 = x - d;\n        x3 = x + d;\n        data = node.data;\n      }\n    }\n  }\n  return data;\n}","export default function (d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n    node = this._root,\n    retainer,\n    previous,\n    next,\n    x0 = this._x0,\n    x1 = this._x1,\n    x,\n    xm,\n    right,\n    i,\n    j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[i + 1 & 1]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return next ? previous.next = next : delete previous.next, this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1]) && node === (parent[1] || parent[0]) && !node.length) {\n    if (retainer) retainer[j] = node;else this._root = node;\n  }\n  return this;\n}\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}","export default function () {\n  return this._root;\n}","export default function () {\n  var size = 0;\n  this.visit(function (node) {\n    if (!node.length) do ++size; while (node = node.next);\n  });\n  return size;\n}","import Half from \"./half.js\";\nexport default function (callback) {\n  var halves = [],\n    q,\n    node = this._root,\n    child,\n    x0,\n    x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n  return this;\n}","import Half from \"./half.js\";\nexport default function (callback) {\n  var halves = [],\n    next = [],\n    q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n  while (q = halves.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child,\n        x0 = q.x0,\n        x1 = q.x1,\n        xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n  return this;\n}","export default function (d) {\n  const x = +this._x.call(null, d),\n    y = +this._y.call(null, d),\n    z = +this._z.call(null, d);\n  return add(this.cover(x, y, z), x, y, z, d);\n}\nfunction add(tree, x, y, z, d) {\n  if (isNaN(x) || isNaN(y) || isNaN(z)) return tree; // ignore invalid points\n\n  var parent,\n    node = tree._root,\n    leaf = {\n      data: d\n    },\n    x0 = tree._x0,\n    y0 = tree._y0,\n    z0 = tree._z0,\n    x1 = tree._x1,\n    y1 = tree._y1,\n    z1 = tree._z1,\n    xm,\n    ym,\n    zm,\n    xp,\n    yp,\n    zp,\n    right,\n    bottom,\n    deep,\n    i,\n    j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm;else z1 = zm;\n    if (parent = node, !(node = node[i = deep << 2 | bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  zp = +tree._z.call(null, node.data);\n  if (x === xp && y === yp && z === zp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(8) : tree._root = new Array(8);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm;else z1 = zm;\n  } while ((i = deep << 2 | bottom << 1 | right) === (j = (zp >= zm) << 2 | (yp >= ym) << 1 | xp >= xm));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\nexport function addAll(data) {\n  if (!Array.isArray(data)) data = Array.from(data);\n  const n = data.length;\n  const xz = new Float64Array(n);\n  const yz = new Float64Array(n);\n  const zz = new Float64Array(n);\n  let x0 = Infinity,\n    y0 = Infinity,\n    z0 = Infinity,\n    x1 = -Infinity,\n    y1 = -Infinity,\n    z1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (let i = 0, d, x, y, z; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    zz[i] = z;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n    if (z < z0) z0 = z;\n    if (z > z1) z1 = z;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1 || z0 > z1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0, z0).cover(x1, y1, z1);\n\n  // Add the new points.\n  for (let i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], zz[i], data[i]);\n  }\n  return this;\n}","export default function (node, x0, y0, z0, x1, y1, z1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.z0 = z0;\n  this.x1 = x1;\n  this.y1 = y1;\n  this.z1 = z1;\n}","export function defaultX(d) {\n  return d[0];\n}\nexport default function (_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}","export function defaultY(d) {\n  return d[1];\n}\nexport default function (_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}","export function defaultZ(d) {\n  return d[2];\n}\nexport default function (_) {\n  return arguments.length ? (this._z = _, this) : this._z;\n}","import tree_add, { addAll as tree_addAll } from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, { removeAll as tree_removeAll } from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, { defaultX } from \"./x.js\";\nimport tree_y, { defaultY } from \"./y.js\";\nimport tree_z, { defaultZ } from \"./z.js\";\nexport default function octree(nodes, x, y, z) {\n  var tree = new Octree(x == null ? defaultX : x, y == null ? defaultY : y, z == null ? defaultZ : z, NaN, NaN, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\nfunction Octree(x, y, z, x0, y0, z0, x1, y1, z1) {\n  this._x = x;\n  this._y = y;\n  this._z = z;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  this._root = undefined;\n}\nfunction leaf_copy(leaf) {\n  var copy = {\n      data: leaf.data\n    },\n    next = copy;\n  while (leaf = leaf.next) next = next.next = {\n    data: leaf.data\n  };\n  return copy;\n}\nvar treeProto = octree.prototype = Octree.prototype;\ntreeProto.copy = function () {\n  var copy = new Octree(this._x, this._y, this._z, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1),\n    node = this._root,\n    nodes,\n    child;\n  if (!node) return copy;\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n  nodes = [{\n    source: node,\n    target: copy._root = new Array(8)\n  }];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 8; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({\n          source: child,\n          target: node.target[i] = new Array(8)\n        });else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n  return copy;\n};\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\ntreeProto.z = tree_z;","import { binarytree } from \"d3-binarytree\";\nimport { quadtree } from \"d3-quadtree\";\nimport { octree } from \"d3-octree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport { x, y, z } from \"./simulation.js\";\nexport default function () {\n  var nodes,\n    nDim,\n    node,\n    random,\n    alpha,\n    strength = constant(-30),\n    strengths,\n    distanceMin2 = 1,\n    distanceMax2 = Infinity,\n    theta2 = 0.81;\n  function force(_) {\n    var i,\n      n = nodes.length,\n      tree = (nDim === 1 ? binarytree(nodes, x) : nDim === 2 ? quadtree(nodes, x, y) : nDim === 3 ? octree(nodes, x, y, z) : null).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length,\n      node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n  function accumulate(treeNode) {\n    var strength = 0,\n      q,\n      c,\n      weight = 0,\n      x,\n      y,\n      z,\n      i;\n    var numChildren = treeNode.length;\n\n    // For internal nodes, accumulate forces from children.\n    if (numChildren) {\n      for (x = y = z = i = 0; i < numChildren; ++i) {\n        if ((q = treeNode[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * (q.x || 0), y += c * (q.y || 0), z += c * (q.z || 0);\n        }\n      }\n      strength *= Math.sqrt(4 / numChildren); // scale accumulated strength according to number of dimensions\n\n      treeNode.x = x / weight;\n      if (nDim > 1) {\n        treeNode.y = y / weight;\n      }\n      if (nDim > 2) {\n        treeNode.z = z / weight;\n      }\n    }\n\n    // For leaf nodes, accumulate forces from coincident nodes.\n    else {\n      q = treeNode;\n      q.x = q.data.x;\n      if (nDim > 1) {\n        q.y = q.data.y;\n      }\n      if (nDim > 2) {\n        q.z = q.data.z;\n      }\n      do strength += strengths[q.data.index]; while (q = q.next);\n    }\n    treeNode.value = strength;\n  }\n  function apply(treeNode, x1, arg1, arg2, arg3) {\n    if (!treeNode.value) return true;\n    var x2 = [arg1, arg2, arg3][nDim - 1];\n    var x = treeNode.x - node.x,\n      y = nDim > 1 ? treeNode.y - node.y : 0,\n      z = nDim > 2 ? treeNode.z - node.z : 0,\n      w = x2 - x1,\n      l = x * x + y * y + z * z;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n        if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * treeNode.value * alpha / l;\n        if (nDim > 1) {\n          node.vy += y * treeNode.value * alpha / l;\n        }\n        if (nDim > 2) {\n          node.vz += z * treeNode.value * alpha / l;\n        }\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (treeNode.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (treeNode.data !== node || treeNode.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n      if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n    do if (treeNode.data !== node) {\n      w = strengths[treeNode.data.index] * alpha / l;\n      node.vx += x * w;\n      if (nDim > 1) {\n        node.vy += y * w;\n      }\n      if (nDim > 2) {\n        node.vz += z * w;\n      }\n    } while (treeNode = treeNode.next);\n  }\n  force.initialize = function (_nodes) {\n    nodes = _nodes;\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n  force.distanceMin = function (_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n  force.distanceMax = function (_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n  force.theta = function (_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n  return force;\n}","export default function (x, y, z) {\n  var nodes,\n    strength = 1;\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n  function force() {\n    var i,\n      n = nodes.length,\n      node,\n      sx = 0,\n      sy = 0,\n      sz = 0;\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x || 0, sy += node.y || 0, sz += node.z || 0;\n    }\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, sz = (sz / n - z) * strength, i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (sx) {\n        node.x -= sx;\n      }\n      if (sy) {\n        node.y -= sy;\n      }\n      if (sz) {\n        node.z -= sz;\n      }\n    }\n  }\n  force.initialize = function (_) {\n    nodes = _;\n  };\n  force.x = function (_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n  force.y = function (_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n  force.z = function (_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n  return force;\n}","export default function (x, y, z) {\n  if (isNaN(x = +x) || isNaN(y = +y) || isNaN(z = +z)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n    y0 = this._y0,\n    z0 = this._z0,\n    x1 = this._x1,\n    y1 = this._y1,\n    z1 = this._z1;\n\n  // If the octree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing octant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n    z1 = (z0 = Math.floor(z)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var t = x1 - x0 || 1,\n      node = this._root,\n      parent,\n      i;\n    while (x0 > x || x >= x1 || y0 > y || y >= y1 || z0 > z || z >= z1) {\n      i = (z < z0) << 2 | (y < y0) << 1 | x < x0;\n      parent = new Array(8), parent[i] = node, node = parent, t *= 2;\n      switch (i) {\n        case 0:\n          x1 = x0 + t, y1 = y0 + t, z1 = z0 + t;\n          break;\n        case 1:\n          x0 = x1 - t, y1 = y0 + t, z1 = z0 + t;\n          break;\n        case 2:\n          x1 = x0 + t, y0 = y1 - t, z1 = z0 + t;\n          break;\n        case 3:\n          x0 = x1 - t, y0 = y1 - t, z1 = z0 + t;\n          break;\n        case 4:\n          x1 = x0 + t, y1 = y0 + t, z0 = z1 - t;\n          break;\n        case 5:\n          x0 = x1 - t, y1 = y0 + t, z0 = z1 - t;\n          break;\n        case 6:\n          x1 = x0 + t, y0 = y1 - t, z0 = z1 - t;\n          break;\n        case 7:\n          x0 = x1 - t, y0 = y1 - t, z0 = z1 - t;\n          break;\n      }\n    }\n    if (this._root && this._root.length) this._root = node;\n  }\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  return this;\n}","export default function () {\n  var data = [];\n  this.visit(function (node) {\n    if (!node.length) do data.push(node.data); while (node = node.next);\n  });\n  return data;\n}","export default function (_) {\n  return arguments.length ? this.cover(+_[0][0], +_[0][1], +_[0][2]).cover(+_[1][0], +_[1][1], +_[1][2]) : isNaN(this._x0) ? undefined : [[this._x0, this._y0, this._z0], [this._x1, this._y1, this._z1]];\n}","import Octant from \"./octant.js\";\nexport default function (x, y, z, radius) {\n  var data,\n    x0 = this._x0,\n    y0 = this._y0,\n    z0 = this._z0,\n    x1,\n    y1,\n    z1,\n    x2,\n    y2,\n    z2,\n    x3 = this._x1,\n    y3 = this._y1,\n    z3 = this._z1,\n    octs = [],\n    node = this._root,\n    q,\n    i;\n  if (node) octs.push(new Octant(node, x0, y0, z0, x3, y3, z3));\n  if (radius == null) radius = Infinity;else {\n    x0 = x - radius, y0 = y - radius, z0 = z - radius;\n    x3 = x + radius, y3 = y + radius, z3 = z + radius;\n    radius *= radius;\n  }\n  while (q = octs.pop()) {\n    // Stop searching if this octant can’t contain a closer node.\n    if (!(node = q.node) || (x1 = q.x0) > x3 || (y1 = q.y0) > y3 || (z1 = q.z0) > z3 || (x2 = q.x1) < x0 || (y2 = q.y1) < y0 || (z2 = q.z1) < z0) continue;\n\n    // Bisect the current octant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n        ym = (y1 + y2) / 2,\n        zm = (z1 + z2) / 2;\n      octs.push(new Octant(node[7], xm, ym, zm, x2, y2, z2), new Octant(node[6], x1, ym, zm, xm, y2, z2), new Octant(node[5], xm, y1, zm, x2, ym, z2), new Octant(node[4], x1, y1, zm, xm, ym, z2), new Octant(node[3], xm, ym, z1, x2, y2, zm), new Octant(node[2], x1, ym, z1, xm, y2, zm), new Octant(node[1], xm, y1, z1, x2, ym, zm), new Octant(node[0], x1, y1, z1, xm, ym, zm));\n\n      // Visit the closest octant first.\n      if (i = (z >= zm) << 2 | (y >= ym) << 1 | x >= xm) {\n        q = octs[octs.length - 1];\n        octs[octs.length - 1] = octs[octs.length - 1 - i];\n        octs[octs.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n        dy = y - +this._y.call(null, node.data),\n        dz = z - +this._z.call(null, node.data),\n        d2 = dx * dx + dy * dy + dz * dz;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d, z0 = z - d;\n        x3 = x + d, y3 = y + d, z3 = z + d;\n        data = node.data;\n      }\n    }\n  }\n  return data;\n}","export default function (d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n    node = this._root,\n    retainer,\n    previous,\n    next,\n    x0 = this._x0,\n    y0 = this._y0,\n    z0 = this._z0,\n    x1 = this._x1,\n    y1 = this._y1,\n    z1 = this._z1,\n    x,\n    y,\n    z,\n    xm,\n    ym,\n    zm,\n    right,\n    bottom,\n    deep,\n    i,\n    j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm;else z1 = zm;\n    if (!(parent = node, node = node[i = deep << 2 | bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[i + 1 & 7] || parent[i + 2 & 7] || parent[i + 3 & 7] || parent[i + 4 & 7] || parent[i + 5 & 7] || parent[i + 6 & 7] || parent[i + 7 & 7]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return next ? previous.next = next : delete previous.next, this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3] || parent[4] || parent[5] || parent[6] || parent[7]) && node === (parent[7] || parent[6] || parent[5] || parent[4] || parent[3] || parent[2] || parent[1] || parent[0]) && !node.length) {\n    if (retainer) retainer[j] = node;else this._root = node;\n  }\n  return this;\n}\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}","export default function () {\n  return this._root;\n}","export default function () {\n  var size = 0;\n  this.visit(function (node) {\n    if (!node.length) do ++size; while (node = node.next);\n  });\n  return size;\n}","import Octant from \"./octant.js\";\nexport default function (callback) {\n  var octs = [],\n    q,\n    node = this._root,\n    child,\n    x0,\n    y0,\n    z0,\n    x1,\n    y1,\n    z1;\n  if (node) octs.push(new Octant(node, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1) && node.length) {\n      var xm = (x0 + x1) / 2,\n        ym = (y0 + y1) / 2,\n        zm = (z0 + z1) / 2;\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n    }\n  }\n  return this;\n}","import Octant from \"./octant.js\";\nexport default function (callback) {\n  var octs = [],\n    next = [],\n    q;\n  if (this._root) octs.push(new Octant(this._root, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child,\n        x0 = q.x0,\n        y0 = q.y0,\n        z0 = q.z0,\n        x1 = q.x1,\n        y1 = q.y1,\n        z1 = q.z1,\n        xm = (x0 + x1) / 2,\n        ym = (y0 + y1) / 2,\n        zm = (z0 + z1) / 2;\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.z0, q.x1, q.y1, q.z1);\n  }\n  return this;\n}","import { Bezier } from \"./bezier.js\";\n\n// math-inlining.\nconst {\n  abs,\n  cos,\n  sin,\n  acos,\n  atan2,\n  sqrt,\n  pow\n} = Math;\n\n// cube root function yielding real roots\nfunction crt(v) {\n  return v < 0 ? -pow(-v, 1 / 3) : pow(v, 1 / 3);\n}\n\n// trig constants\nconst pi = Math.PI,\n  tau = 2 * pi,\n  quart = pi / 2,\n  // float precision significant decimal\n  epsilon = 0.000001,\n  // extremas used in bbox calculation and similar algorithms\n  nMax = Number.MAX_SAFE_INTEGER || 9007199254740991,\n  nMin = Number.MIN_SAFE_INTEGER || -9007199254740991,\n  // a zero coordinate, which is surprisingly useful\n  ZERO = {\n    x: 0,\n    y: 0,\n    z: 0\n  };\n\n// Bezier utility functions\nconst utils = {\n  // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n  Tvalues: [-0.0640568928626056260850430826247450385909, 0.0640568928626056260850430826247450385909, -0.1911188674736163091586398207570696318404, 0.1911188674736163091586398207570696318404, -0.3150426796961633743867932913198102407864, 0.3150426796961633743867932913198102407864, -0.4337935076260451384870842319133497124524, 0.4337935076260451384870842319133497124524, -0.5454214713888395356583756172183723700107, 0.5454214713888395356583756172183723700107, -0.6480936519369755692524957869107476266696, 0.6480936519369755692524957869107476266696, -0.7401241915785543642438281030999784255232, 0.7401241915785543642438281030999784255232, -0.8200019859739029219539498726697452080761, 0.8200019859739029219539498726697452080761, -0.8864155270044010342131543419821967550873, 0.8864155270044010342131543419821967550873, -0.9382745520027327585236490017087214496548, 0.9382745520027327585236490017087214496548, -0.9747285559713094981983919930081690617411, 0.9747285559713094981983919930081690617411, -0.9951872199970213601799974097007368118745, 0.9951872199970213601799974097007368118745],\n  // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n  Cvalues: [0.1279381953467521569740561652246953718517, 0.1279381953467521569740561652246953718517, 0.1258374563468282961213753825111836887264, 0.1258374563468282961213753825111836887264, 0.121670472927803391204463153476262425607, 0.121670472927803391204463153476262425607, 0.1155056680537256013533444839067835598622, 0.1155056680537256013533444839067835598622, 0.1074442701159656347825773424466062227946, 0.1074442701159656347825773424466062227946, 0.0976186521041138882698806644642471544279, 0.0976186521041138882698806644642471544279, 0.086190161531953275917185202983742667185, 0.086190161531953275917185202983742667185, 0.0733464814110803057340336152531165181193, 0.0733464814110803057340336152531165181193, 0.0592985849154367807463677585001085845412, 0.0592985849154367807463677585001085845412, 0.0442774388174198061686027482113382288593, 0.0442774388174198061686027482113382288593, 0.0285313886289336631813078159518782864491, 0.0285313886289336631813078159518782864491, 0.0123412297999871995468056670700372915759, 0.0123412297999871995468056670700372915759],\n  arcfn: function (t, derivativeFn) {\n    const d = derivativeFn(t);\n    let l = d.x * d.x + d.y * d.y;\n    if (typeof d.z !== \"undefined\") {\n      l += d.z * d.z;\n    }\n    return sqrt(l);\n  },\n  compute: function (t, points, _3d) {\n    // shortcuts\n    if (t === 0) {\n      points[0].t = 0;\n      return points[0];\n    }\n    const order = points.length - 1;\n    if (t === 1) {\n      points[order].t = 1;\n      return points[order];\n    }\n    const mt = 1 - t;\n    let p = points;\n\n    // constant?\n    if (order === 0) {\n      points[0].t = t;\n      return points[0];\n    }\n\n    // linear?\n    if (order === 1) {\n      const ret = {\n        x: mt * p[0].x + t * p[1].x,\n        y: mt * p[0].y + t * p[1].y,\n        t: t\n      };\n      if (_3d) {\n        ret.z = mt * p[0].z + t * p[1].z;\n      }\n      return ret;\n    }\n\n    // quadratic/cubic curve?\n    if (order < 4) {\n      let mt2 = mt * mt,\n        t2 = t * t,\n        a,\n        b,\n        c,\n        d = 0;\n      if (order === 2) {\n        p = [p[0], p[1], p[2], ZERO];\n        a = mt2;\n        b = mt * t * 2;\n        c = t2;\n      } else if (order === 3) {\n        a = mt2 * mt;\n        b = mt2 * t * 3;\n        c = mt * t2 * 3;\n        d = t * t2;\n      }\n      const ret = {\n        x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n        y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y,\n        t: t\n      };\n      if (_3d) {\n        ret.z = a * p[0].z + b * p[1].z + c * p[2].z + d * p[3].z;\n      }\n      return ret;\n    }\n\n    // higher order curves: use de Casteljau's computation\n    const dCpts = JSON.parse(JSON.stringify(points));\n    while (dCpts.length > 1) {\n      for (let i = 0; i < dCpts.length - 1; i++) {\n        dCpts[i] = {\n          x: dCpts[i].x + (dCpts[i + 1].x - dCpts[i].x) * t,\n          y: dCpts[i].y + (dCpts[i + 1].y - dCpts[i].y) * t\n        };\n        if (typeof dCpts[i].z !== \"undefined\") {\n          dCpts[i].z = dCpts[i].z + (dCpts[i + 1].z - dCpts[i].z) * t;\n        }\n      }\n      dCpts.splice(dCpts.length - 1, 1);\n    }\n    dCpts[0].t = t;\n    return dCpts[0];\n  },\n  computeWithRatios: function (t, points, ratios, _3d) {\n    const mt = 1 - t,\n      r = ratios,\n      p = points;\n    let f1 = r[0],\n      f2 = r[1],\n      f3 = r[2],\n      f4 = r[3],\n      d;\n\n    // spec for linear\n    f1 *= mt;\n    f2 *= t;\n    if (p.length === 2) {\n      d = f1 + f2;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z) / d,\n        t: t\n      };\n    }\n\n    // upgrade to quadratic\n    f1 *= mt;\n    f2 *= 2 * mt;\n    f3 *= t * t;\n    if (p.length === 3) {\n      d = f1 + f2 + f3;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z) / d,\n        t: t\n      };\n    }\n\n    // upgrade to cubic\n    f1 *= mt;\n    f2 *= 1.5 * mt;\n    f3 *= 3 * mt;\n    f4 *= t * t * t;\n    if (p.length === 4) {\n      d = f1 + f2 + f3 + f4;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x + f4 * p[3].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y + f4 * p[3].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z + f4 * p[3].z) / d,\n        t: t\n      };\n    }\n  },\n  derive: function (points, _3d) {\n    const dpoints = [];\n    for (let p = points, d = p.length, c = d - 1; d > 1; d--, c--) {\n      const list = [];\n      for (let j = 0, dpt; j < c; j++) {\n        dpt = {\n          x: c * (p[j + 1].x - p[j].x),\n          y: c * (p[j + 1].y - p[j].y)\n        };\n        if (_3d) {\n          dpt.z = c * (p[j + 1].z - p[j].z);\n        }\n        list.push(dpt);\n      }\n      dpoints.push(list);\n      p = list;\n    }\n    return dpoints;\n  },\n  between: function (v, m, M) {\n    return m <= v && v <= M || utils.approximately(v, m) || utils.approximately(v, M);\n  },\n  approximately: function (a, b, precision) {\n    return abs(a - b) <= (precision || epsilon);\n  },\n  length: function (derivativeFn) {\n    const z = 0.5,\n      len = utils.Tvalues.length;\n    let sum = 0;\n    for (let i = 0, t; i < len; i++) {\n      t = z * utils.Tvalues[i] + z;\n      sum += utils.Cvalues[i] * utils.arcfn(t, derivativeFn);\n    }\n    return z * sum;\n  },\n  map: function (v, ds, de, ts, te) {\n    const d1 = de - ds,\n      d2 = te - ts,\n      v2 = v - ds,\n      r = v2 / d1;\n    return ts + d2 * r;\n  },\n  lerp: function (r, v1, v2) {\n    const ret = {\n      x: v1.x + r * (v2.x - v1.x),\n      y: v1.y + r * (v2.y - v1.y)\n    };\n    if (v1.z !== undefined && v2.z !== undefined) {\n      ret.z = v1.z + r * (v2.z - v1.z);\n    }\n    return ret;\n  },\n  pointToString: function (p) {\n    let s = p.x + \"/\" + p.y;\n    if (typeof p.z !== \"undefined\") {\n      s += \"/\" + p.z;\n    }\n    return s;\n  },\n  pointsToString: function (points) {\n    return \"[\" + points.map(utils.pointToString).join(\", \") + \"]\";\n  },\n  copy: function (obj) {\n    return JSON.parse(JSON.stringify(obj));\n  },\n  angle: function (o, v1, v2) {\n    const dx1 = v1.x - o.x,\n      dy1 = v1.y - o.y,\n      dx2 = v2.x - o.x,\n      dy2 = v2.y - o.y,\n      cross = dx1 * dy2 - dy1 * dx2,\n      dot = dx1 * dx2 + dy1 * dy2;\n    return atan2(cross, dot);\n  },\n  // round as string, to avoid rounding errors\n  round: function (v, d) {\n    const s = \"\" + v;\n    const pos = s.indexOf(\".\");\n    return parseFloat(s.substring(0, pos + 1 + d));\n  },\n  dist: function (p1, p2) {\n    const dx = p1.x - p2.x,\n      dy = p1.y - p2.y;\n    return sqrt(dx * dx + dy * dy);\n  },\n  closest: function (LUT, point) {\n    let mdist = pow(2, 63),\n      mpos,\n      d;\n    LUT.forEach(function (p, idx) {\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        mpos = idx;\n      }\n    });\n    return {\n      mdist: mdist,\n      mpos: mpos\n    };\n  },\n  abcratio: function (t, n) {\n    // see ratio(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const bottom = pow(t, n) + pow(1 - t, n),\n      top = bottom - 1;\n    return abs(top / bottom);\n  },\n  projectionratio: function (t, n) {\n    // see u(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const top = pow(1 - t, n),\n      bottom = pow(t, n) + top;\n    return top / bottom;\n  },\n  lli8: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    const nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (d == 0) {\n      return false;\n    }\n    return {\n      x: nx / d,\n      y: ny / d\n    };\n  },\n  lli4: function (p1, p2, p3, p4) {\n    const x1 = p1.x,\n      y1 = p1.y,\n      x2 = p2.x,\n      y2 = p2.y,\n      x3 = p3.x,\n      y3 = p3.y,\n      x4 = p4.x,\n      y4 = p4.y;\n    return utils.lli8(x1, y1, x2, y2, x3, y3, x4, y4);\n  },\n  lli: function (v1, v2) {\n    return utils.lli4(v1, v1.c, v2, v2.c);\n  },\n  makeline: function (p1, p2) {\n    return new Bezier(p1.x, p1.y, (p1.x + p2.x) / 2, (p1.y + p2.y) / 2, p2.x, p2.y);\n  },\n  findbbox: function (sections) {\n    let mx = nMax,\n      my = nMax,\n      MX = nMin,\n      MY = nMin;\n    sections.forEach(function (s) {\n      const bbox = s.bbox();\n      if (mx > bbox.x.min) mx = bbox.x.min;\n      if (my > bbox.y.min) my = bbox.y.min;\n      if (MX < bbox.x.max) MX = bbox.x.max;\n      if (MY < bbox.y.max) MY = bbox.y.max;\n    });\n    return {\n      x: {\n        min: mx,\n        mid: (mx + MX) / 2,\n        max: MX,\n        size: MX - mx\n      },\n      y: {\n        min: my,\n        mid: (my + MY) / 2,\n        max: MY,\n        size: MY - my\n      }\n    };\n  },\n  shapeintersections: function (s1, bbox1, s2, bbox2, curveIntersectionThreshold) {\n    if (!utils.bboxoverlap(bbox1, bbox2)) return [];\n    const intersections = [];\n    const a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n    const a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n    a1.forEach(function (l1) {\n      if (l1.virtual) return;\n      a2.forEach(function (l2) {\n        if (l2.virtual) return;\n        const iss = l1.intersects(l2, curveIntersectionThreshold);\n        if (iss.length > 0) {\n          iss.c1 = l1;\n          iss.c2 = l2;\n          iss.s1 = s1;\n          iss.s2 = s2;\n          intersections.push(iss);\n        }\n      });\n    });\n    return intersections;\n  },\n  makeshape: function (forward, back, curveIntersectionThreshold) {\n    const bpl = back.points.length;\n    const fpl = forward.points.length;\n    const start = utils.makeline(back.points[bpl - 1], forward.points[0]);\n    const end = utils.makeline(forward.points[fpl - 1], back.points[0]);\n    const shape = {\n      startcap: start,\n      forward: forward,\n      back: back,\n      endcap: end,\n      bbox: utils.findbbox([start, forward, back, end])\n    };\n    shape.intersections = function (s2) {\n      return utils.shapeintersections(shape, shape.bbox, s2, s2.bbox, curveIntersectionThreshold);\n    };\n    return shape;\n  },\n  getminmax: function (curve, d, list) {\n    if (!list) return {\n      min: 0,\n      max: 0\n    };\n    let min = nMax,\n      max = nMin,\n      t,\n      c;\n    if (list.indexOf(0) === -1) {\n      list = [0].concat(list);\n    }\n    if (list.indexOf(1) === -1) {\n      list.push(1);\n    }\n    for (let i = 0, len = list.length; i < len; i++) {\n      t = list[i];\n      c = curve.get(t);\n      if (c[d] < min) {\n        min = c[d];\n      }\n      if (c[d] > max) {\n        max = c[d];\n      }\n    }\n    return {\n      min: min,\n      mid: (min + max) / 2,\n      max: max,\n      size: max - min\n    };\n  },\n  align: function (points, line) {\n    const tx = line.p1.x,\n      ty = line.p1.y,\n      a = -atan2(line.p2.y - ty, line.p2.x - tx),\n      d = function (v) {\n        return {\n          x: (v.x - tx) * cos(a) - (v.y - ty) * sin(a),\n          y: (v.x - tx) * sin(a) + (v.y - ty) * cos(a)\n        };\n      };\n    return points.map(d);\n  },\n  roots: function (points, line) {\n    line = line || {\n      p1: {\n        x: 0,\n        y: 0\n      },\n      p2: {\n        x: 1,\n        y: 0\n      }\n    };\n    const order = points.length - 1;\n    const aligned = utils.align(points, line);\n    const reduce = function (t) {\n      return 0 <= t && t <= 1;\n    };\n    if (order === 2) {\n      const a = aligned[0].y,\n        b = aligned[1].y,\n        c = aligned[2].y,\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2].filter(reduce);\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * b - 2 * c)].filter(reduce);\n      }\n      return [];\n    }\n\n    // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n    const pa = aligned[0].y,\n      pb = aligned[1].y,\n      pc = aligned[2].y,\n      pd = aligned[3].y;\n    let d = -pa + 3 * pb - 3 * pc + pd,\n      a = 3 * pa - 6 * pb + 3 * pc,\n      b = -3 * pa + 3 * pb,\n      c = pa;\n    if (utils.approximately(d, 0)) {\n      // this is not a cubic curve.\n      if (utils.approximately(a, 0)) {\n        // in fact, this is not a quadratic curve either.\n        if (utils.approximately(b, 0)) {\n          // in fact in fact, there are no solutions.\n          return [];\n        }\n        // linear solution:\n        return [-c / b].filter(reduce);\n      }\n      // quadratic solution:\n      const q = sqrt(b * b - 4 * a * c),\n        a2 = 2 * a;\n      return [(q - b) / a2, (-b - q) / a2].filter(reduce);\n    }\n\n    // at this point, we know we need a cubic solution:\n\n    a /= d;\n    b /= d;\n    c /= d;\n    const p = (3 * b - a * a) / 3,\n      p3 = p / 3,\n      q = (2 * a * a * a - 9 * a * b + 27 * c) / 27,\n      q2 = q / 2,\n      discriminant = q2 * q2 + p3 * p3 * p3;\n    let u1, v1, x1, x2, x3;\n    if (discriminant < 0) {\n      const mp3 = -p / 3,\n        mp33 = mp3 * mp3 * mp3,\n        r = sqrt(mp33),\n        t = -q / (2 * r),\n        cosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n        phi = acos(cosphi),\n        crtr = crt(r),\n        t1 = 2 * crtr;\n      x1 = t1 * cos(phi / 3) - a / 3;\n      x2 = t1 * cos((phi + tau) / 3) - a / 3;\n      x3 = t1 * cos((phi + 2 * tau) / 3) - a / 3;\n      return [x1, x2, x3].filter(reduce);\n    } else if (discriminant === 0) {\n      u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n      x1 = 2 * u1 - a / 3;\n      x2 = -u1 - a / 3;\n      return [x1, x2].filter(reduce);\n    } else {\n      const sd = sqrt(discriminant);\n      u1 = crt(-q2 + sd);\n      v1 = crt(q2 + sd);\n      return [u1 - v1 - a / 3].filter(reduce);\n    }\n  },\n  droots: function (p) {\n    // quadratic roots are easy\n    if (p.length === 3) {\n      const a = p[0],\n        b = p[1],\n        c = p[2],\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2];\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * (b - c))];\n      }\n      return [];\n    }\n\n    // linear roots are even easier\n    if (p.length === 2) {\n      const a = p[0],\n        b = p[1];\n      if (a !== b) {\n        return [a / (a - b)];\n      }\n      return [];\n    }\n    return [];\n  },\n  curvature: function (t, d1, d2, _3d, kOnly) {\n    let num,\n      dnm,\n      adk,\n      dk,\n      k = 0,\n      r = 0;\n\n    //\n    // We're using the following formula for curvature:\n    //\n    //              x'y\" - y'x\"\n    //   k(t) = ------------------\n    //           (x'² + y'²)^(3/2)\n    //\n    // from https://en.wikipedia.org/wiki/Radius_of_curvature#Definition\n    //\n    // With it corresponding 3D counterpart:\n    //\n    //          sqrt( (y'z\" - y\"z')² + (z'x\" - z\"x')² + (x'y\" - x\"y')²)\n    //   k(t) = -------------------------------------------------------\n    //                     (x'² + y'² + z'²)^(3/2)\n    //\n\n    const d = utils.compute(t, d1);\n    const dd = utils.compute(t, d2);\n    const qdsum = d.x * d.x + d.y * d.y;\n    if (_3d) {\n      num = sqrt(pow(d.y * dd.z - dd.y * d.z, 2) + pow(d.z * dd.x - dd.z * d.x, 2) + pow(d.x * dd.y - dd.x * d.y, 2));\n      dnm = pow(qdsum + d.z * d.z, 3 / 2);\n    } else {\n      num = d.x * dd.y - d.y * dd.x;\n      dnm = pow(qdsum, 3 / 2);\n    }\n    if (num === 0 || dnm === 0) {\n      return {\n        k: 0,\n        r: 0\n      };\n    }\n    k = num / dnm;\n    r = dnm / num;\n\n    // We're also computing the derivative of kappa, because\n    // there is value in knowing the rate of change for the\n    // curvature along the curve. And we're just going to\n    // ballpark it based on an epsilon.\n    if (!kOnly) {\n      // compute k'(t) based on the interval before, and after it,\n      // to at least try to not introduce forward/backward pass bias.\n      const pk = utils.curvature(t - 0.001, d1, d2, _3d, true).k;\n      const nk = utils.curvature(t + 0.001, d1, d2, _3d, true).k;\n      dk = (nk - k + (k - pk)) / 2;\n      adk = (abs(nk - k) + abs(k - pk)) / 2;\n    }\n    return {\n      k: k,\n      r: r,\n      dk: dk,\n      adk: adk\n    };\n  },\n  inflections: function (points) {\n    if (points.length < 4) return [];\n\n    // FIXME: TODO: add in inflection abstraction for quartic+ curves?\n\n    const p = utils.align(points, {\n        p1: points[0],\n        p2: points.slice(-1)[0]\n      }),\n      a = p[2].x * p[1].y,\n      b = p[3].x * p[1].y,\n      c = p[1].x * p[2].y,\n      d = p[3].x * p[2].y,\n      v1 = 18 * (-3 * a + 2 * b + 3 * c - d),\n      v2 = 18 * (3 * a - b - 3 * c),\n      v3 = 18 * (c - a);\n    if (utils.approximately(v1, 0)) {\n      if (!utils.approximately(v2, 0)) {\n        let t = -v3 / v2;\n        if (0 <= t && t <= 1) return [t];\n      }\n      return [];\n    }\n    const d2 = 2 * v1;\n    if (utils.approximately(d2, 0)) return [];\n    const trm = v2 * v2 - 4 * v1 * v3;\n    if (trm < 0) return [];\n    const sq = Math.sqrt(trm);\n    return [(sq - v2) / d2, -(v2 + sq) / d2].filter(function (r) {\n      return 0 <= r && r <= 1;\n    });\n  },\n  bboxoverlap: function (b1, b2) {\n    const dims = [\"x\", \"y\"],\n      len = dims.length;\n    for (let i = 0, dim, l, t, d; i < len; i++) {\n      dim = dims[i];\n      l = b1[dim].mid;\n      t = b2[dim].mid;\n      d = (b1[dim].size + b2[dim].size) / 2;\n      if (abs(l - t) >= d) return false;\n    }\n    return true;\n  },\n  expandbox: function (bbox, _bbox) {\n    if (_bbox.x.min < bbox.x.min) {\n      bbox.x.min = _bbox.x.min;\n    }\n    if (_bbox.y.min < bbox.y.min) {\n      bbox.y.min = _bbox.y.min;\n    }\n    if (_bbox.z && _bbox.z.min < bbox.z.min) {\n      bbox.z.min = _bbox.z.min;\n    }\n    if (_bbox.x.max > bbox.x.max) {\n      bbox.x.max = _bbox.x.max;\n    }\n    if (_bbox.y.max > bbox.y.max) {\n      bbox.y.max = _bbox.y.max;\n    }\n    if (_bbox.z && _bbox.z.max > bbox.z.max) {\n      bbox.z.max = _bbox.z.max;\n    }\n    bbox.x.mid = (bbox.x.min + bbox.x.max) / 2;\n    bbox.y.mid = (bbox.y.min + bbox.y.max) / 2;\n    if (bbox.z) {\n      bbox.z.mid = (bbox.z.min + bbox.z.max) / 2;\n    }\n    bbox.x.size = bbox.x.max - bbox.x.min;\n    bbox.y.size = bbox.y.max - bbox.y.min;\n    if (bbox.z) {\n      bbox.z.size = bbox.z.max - bbox.z.min;\n    }\n  },\n  pairiteration: function (c1, c2, curveIntersectionThreshold) {\n    const c1b = c1.bbox(),\n      c2b = c2.bbox(),\n      r = 100000,\n      threshold = curveIntersectionThreshold || 0.5;\n    if (c1b.x.size + c1b.y.size < threshold && c2b.x.size + c2b.y.size < threshold) {\n      return [(r * (c1._t1 + c1._t2) / 2 | 0) / r + \"/\" + (r * (c2._t1 + c2._t2) / 2 | 0) / r];\n    }\n    let cc1 = c1.split(0.5),\n      cc2 = c2.split(0.5),\n      pairs = [{\n        left: cc1.left,\n        right: cc2.left\n      }, {\n        left: cc1.left,\n        right: cc2.right\n      }, {\n        left: cc1.right,\n        right: cc2.right\n      }, {\n        left: cc1.right,\n        right: cc2.left\n      }];\n    pairs = pairs.filter(function (pair) {\n      return utils.bboxoverlap(pair.left.bbox(), pair.right.bbox());\n    });\n    let results = [];\n    if (pairs.length === 0) return results;\n    pairs.forEach(function (pair) {\n      results = results.concat(utils.pairiteration(pair.left, pair.right, threshold));\n    });\n    results = results.filter(function (v, i) {\n      return results.indexOf(v) === i;\n    });\n    return results;\n  },\n  getccenter: function (p1, p2, p3) {\n    const dx1 = p2.x - p1.x,\n      dy1 = p2.y - p1.y,\n      dx2 = p3.x - p2.x,\n      dy2 = p3.y - p2.y,\n      dx1p = dx1 * cos(quart) - dy1 * sin(quart),\n      dy1p = dx1 * sin(quart) + dy1 * cos(quart),\n      dx2p = dx2 * cos(quart) - dy2 * sin(quart),\n      dy2p = dx2 * sin(quart) + dy2 * cos(quart),\n      // chord midpoints\n      mx1 = (p1.x + p2.x) / 2,\n      my1 = (p1.y + p2.y) / 2,\n      mx2 = (p2.x + p3.x) / 2,\n      my2 = (p2.y + p3.y) / 2,\n      // midpoint offsets\n      mx1n = mx1 + dx1p,\n      my1n = my1 + dy1p,\n      mx2n = mx2 + dx2p,\n      my2n = my2 + dy2p,\n      // intersection of these lines:\n      arc = utils.lli8(mx1, my1, mx1n, my1n, mx2, my2, mx2n, my2n),\n      r = utils.dist(arc, p1);\n\n    // arc start/end values, over mid point:\n    let s = atan2(p1.y - arc.y, p1.x - arc.x),\n      m = atan2(p2.y - arc.y, p2.x - arc.x),\n      e = atan2(p3.y - arc.y, p3.x - arc.x),\n      _;\n\n    // determine arc direction (cw/ccw correction)\n    if (s < e) {\n      // if s<m<e, arc(s, e)\n      // if m<s<e, arc(e, s + tau)\n      // if s<e<m, arc(e, s + tau)\n      if (s > m || m > e) {\n        s += tau;\n      }\n      if (s > e) {\n        _ = e;\n        e = s;\n        s = _;\n      }\n    } else {\n      // if e<m<s, arc(e, s)\n      // if m<e<s, arc(s, e + tau)\n      // if e<s<m, arc(s, e + tau)\n      if (e < m && m < s) {\n        _ = e;\n        e = s;\n        s = _;\n      } else {\n        e += tau;\n      }\n    }\n    // assign and done.\n    arc.s = s;\n    arc.e = e;\n    arc.r = r;\n    return arc;\n  },\n  numberSort: function (a, b) {\n    return a - b;\n  }\n};\nexport { utils };","import { utils } from \"./utils.js\";\n\n/**\n * Poly Bezier\n * @param {[type]} curves [description]\n */\nclass PolyBezier {\n  constructor(curves) {\n    this.curves = [];\n    this._3d = false;\n    if (!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  }\n  valueOf() {\n    return this.toString();\n  }\n  toString() {\n    return \"[\" + this.curves.map(function (curve) {\n      return utils.pointsToString(curve.points);\n    }).join(\", \") + \"]\";\n  }\n  addCurve(curve) {\n    this.curves.push(curve);\n    this._3d = this._3d || curve._3d;\n  }\n  length() {\n    return this.curves.map(function (v) {\n      return v.length();\n    }).reduce(function (a, b) {\n      return a + b;\n    });\n  }\n  curve(idx) {\n    return this.curves[idx];\n  }\n  bbox() {\n    const c = this.curves;\n    var bbox = c[0].bbox();\n    for (var i = 1; i < c.length; i++) {\n      utils.expandbox(bbox, c[i].bbox());\n    }\n    return bbox;\n  }\n  offset(d) {\n    const offset = [];\n    this.curves.forEach(function (v) {\n      offset.push(...v.offset(d));\n    });\n    return new PolyBezier(offset);\n  }\n}\nexport { PolyBezier };","/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n\n  This code is MIT licensed.\n**/\n\nimport { utils } from \"./utils.js\";\nimport { PolyBezier } from \"./poly-bezier.js\";\n\n// math-inlining.\nconst {\n  abs,\n  min,\n  max,\n  cos,\n  sin,\n  acos,\n  sqrt\n} = Math;\nconst pi = Math.PI;\n// a zero coordinate, which is surprisingly useful\nconst ZERO = {\n  x: 0,\n  y: 0,\n  z: 0\n};\n\n/**\n * Bezier curve constructor.\n *\n * ...docs pending...\n */\nclass Bezier {\n  constructor(coords) {\n    let args = coords && coords.forEach ? coords : Array.from(arguments).slice();\n    let coordlen = false;\n    if (typeof args[0] === \"object\") {\n      coordlen = args.length;\n      const newargs = [];\n      args.forEach(function (point) {\n        [\"x\", \"y\", \"z\"].forEach(function (d) {\n          if (typeof point[d] !== \"undefined\") {\n            newargs.push(point[d]);\n          }\n        });\n      });\n      args = newargs;\n    }\n    let higher = false;\n    const len = args.length;\n    if (coordlen) {\n      if (coordlen > 4) {\n        if (arguments.length !== 1) {\n          throw new Error(\"Only new Bezier(point[]) is accepted for 4th and higher order curves\");\n        }\n        higher = true;\n      }\n    } else {\n      if (len !== 6 && len !== 8 && len !== 9 && len !== 12) {\n        if (arguments.length !== 1) {\n          throw new Error(\"Only new Bezier(point[]) is accepted for 4th and higher order curves\");\n        }\n      }\n    }\n    const _3d = this._3d = !higher && (len === 9 || len === 12) || coords && coords[0] && typeof coords[0].z !== \"undefined\";\n    const points = this.points = [];\n    for (let idx = 0, step = _3d ? 3 : 2; idx < len; idx += step) {\n      var point = {\n        x: args[idx],\n        y: args[idx + 1]\n      };\n      if (_3d) {\n        point.z = args[idx + 2];\n      }\n      points.push(point);\n    }\n    const order = this.order = points.length - 1;\n    const dims = this.dims = [\"x\", \"y\"];\n    if (_3d) dims.push(\"z\");\n    this.dimlen = dims.length;\n\n    // is this curve, practically speaking, a straight line?\n    const aligned = utils.align(points, {\n      p1: points[0],\n      p2: points[order]\n    });\n    const baselength = utils.dist(points[0], points[order]);\n    this._linear = aligned.reduce((t, p) => t + abs(p.y), 0) < baselength / 50;\n    this._lut = [];\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  }\n  static quadraticFromPoints(p1, p2, p3, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    // shortcuts, although they're really dumb\n    if (t === 0) {\n      return new Bezier(p2, p2, p3);\n    }\n    if (t === 1) {\n      return new Bezier(p1, p2, p2);\n    }\n    // real fitting.\n    const abc = Bezier.getABC(2, p1, p2, p3, t);\n    return new Bezier(p1, abc.A, p3);\n  }\n  static cubicFromPoints(S, B, E, t, d1) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    const abc = Bezier.getABC(3, S, B, E, t);\n    if (typeof d1 === \"undefined\") {\n      d1 = utils.dist(B, abc.C);\n    }\n    const d2 = d1 * (1 - t) / t;\n    const selen = utils.dist(S, E),\n      lx = (E.x - S.x) / selen,\n      ly = (E.y - S.y) / selen,\n      bx1 = d1 * lx,\n      by1 = d1 * ly,\n      bx2 = d2 * lx,\n      by2 = d2 * ly;\n    // derivation of new hull coordinates\n    const e1 = {\n        x: B.x - bx1,\n        y: B.y - by1\n      },\n      e2 = {\n        x: B.x + bx2,\n        y: B.y + by2\n      },\n      A = abc.A,\n      v1 = {\n        x: A.x + (e1.x - A.x) / (1 - t),\n        y: A.y + (e1.y - A.y) / (1 - t)\n      },\n      v2 = {\n        x: A.x + (e2.x - A.x) / t,\n        y: A.y + (e2.y - A.y) / t\n      },\n      nc1 = {\n        x: S.x + (v1.x - S.x) / t,\n        y: S.y + (v1.y - S.y) / t\n      },\n      nc2 = {\n        x: E.x + (v2.x - E.x) / (1 - t),\n        y: E.y + (v2.y - E.y) / (1 - t)\n      };\n    // ...done\n    return new Bezier(S, nc1, nc2, E);\n  }\n  static getUtils() {\n    return utils;\n  }\n  getUtils() {\n    return Bezier.getUtils();\n  }\n  static get PolyBezier() {\n    return PolyBezier;\n  }\n  valueOf() {\n    return this.toString();\n  }\n  toString() {\n    return utils.pointsToString(this.points);\n  }\n  toSVG() {\n    if (this._3d) return false;\n    const p = this.points,\n      x = p[0].x,\n      y = p[0].y,\n      s = [\"M\", x, y, this.order === 2 ? \"Q\" : \"C\"];\n    for (let i = 1, last = p.length; i < last; i++) {\n      s.push(p[i].x);\n      s.push(p[i].y);\n    }\n    return s.join(\" \");\n  }\n  setRatios(ratios) {\n    if (ratios.length !== this.points.length) {\n      throw new Error(\"incorrect number of ratio values\");\n    }\n    this.ratios = ratios;\n    this._lut = []; //  invalidate any precomputed LUT\n  }\n  verify() {\n    const print = this.coordDigest();\n    if (print !== this._print) {\n      this._print = print;\n      this.update();\n    }\n  }\n  coordDigest() {\n    return this.points.map(function (c, pos) {\n      return \"\" + pos + c.x + c.y + (c.z ? c.z : 0);\n    }).join(\"\");\n  }\n  update() {\n    // invalidate any precomputed LUT\n    this._lut = [];\n    this.dpoints = utils.derive(this.points, this._3d);\n    this.computedirection();\n  }\n  computedirection() {\n    const points = this.points;\n    const angle = utils.angle(points[0], points[this.order], points[1]);\n    this.clockwise = angle > 0;\n  }\n  length() {\n    return utils.length(this.derivative.bind(this));\n  }\n  static getABC() {\n    let order = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n    let S = arguments.length > 1 ? arguments[1] : undefined;\n    let B = arguments.length > 2 ? arguments[2] : undefined;\n    let E = arguments.length > 3 ? arguments[3] : undefined;\n    let t = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0.5;\n    const u = utils.projectionratio(t, order),\n      um = 1 - u,\n      C = {\n        x: u * S.x + um * E.x,\n        y: u * S.y + um * E.y\n      },\n      s = utils.abcratio(t, order),\n      A = {\n        x: B.x + (B.x - C.x) / s,\n        y: B.y + (B.y - C.y) / s\n      };\n    return {\n      A,\n      B,\n      C,\n      S,\n      E\n    };\n  }\n  getABC(t, B) {\n    B = B || this.get(t);\n    let S = this.points[0];\n    let E = this.points[this.order];\n    return Bezier.getABC(this.order, S, B, E, t);\n  }\n  getLUT(steps) {\n    this.verify();\n    steps = steps || 100;\n    if (this._lut.length === steps + 1) {\n      return this._lut;\n    }\n    this._lut = [];\n    // n steps means n+1 points\n    steps++;\n    this._lut = [];\n    for (let i = 0, p, t; i < steps; i++) {\n      t = i / (steps - 1);\n      p = this.compute(t);\n      p.t = t;\n      this._lut.push(p);\n    }\n    return this._lut;\n  }\n  on(point, error) {\n    error = error || 5;\n    const lut = this.getLUT(),\n      hits = [];\n    for (let i = 0, c, t = 0; i < lut.length; i++) {\n      c = lut[i];\n      if (utils.dist(c, point) < error) {\n        hits.push(c);\n        t += i / lut.length;\n      }\n    }\n    if (!hits.length) return false;\n    return t /= hits.length;\n  }\n  project(point) {\n    // step 1: coarse check\n    const LUT = this.getLUT(),\n      l = LUT.length - 1,\n      closest = utils.closest(LUT, point),\n      mpos = closest.mpos,\n      t1 = (mpos - 1) / l,\n      t2 = (mpos + 1) / l,\n      step = 0.1 / l;\n\n    // step 2: fine check\n    let mdist = closest.mdist,\n      t = t1,\n      ft = t,\n      p;\n    mdist += 1;\n    for (let d; t < t2 + step; t += step) {\n      p = this.compute(t);\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        ft = t;\n      }\n    }\n    ft = ft < 0 ? 0 : ft > 1 ? 1 : ft;\n    p = this.compute(ft);\n    p.t = ft;\n    p.d = mdist;\n    return p;\n  }\n  get(t) {\n    return this.compute(t);\n  }\n  point(idx) {\n    return this.points[idx];\n  }\n  compute(t) {\n    if (this.ratios) {\n      return utils.computeWithRatios(t, this.points, this.ratios, this._3d);\n    }\n    return utils.compute(t, this.points, this._3d, this.ratios);\n  }\n  raise() {\n    const p = this.points,\n      np = [p[0]],\n      k = p.length;\n    for (let i = 1, pi, pim; i < k; i++) {\n      pi = p[i];\n      pim = p[i - 1];\n      np[i] = {\n        x: (k - i) / k * pi.x + i / k * pim.x,\n        y: (k - i) / k * pi.y + i / k * pim.y\n      };\n    }\n    np[k] = p[k - 1];\n    return new Bezier(np);\n  }\n  derivative(t) {\n    return utils.compute(t, this.dpoints[0], this._3d);\n  }\n  dderivative(t) {\n    return utils.compute(t, this.dpoints[1], this._3d);\n  }\n  align() {\n    let p = this.points;\n    return new Bezier(utils.align(p, {\n      p1: p[0],\n      p2: p[p.length - 1]\n    }));\n  }\n  curvature(t) {\n    return utils.curvature(t, this.dpoints[0], this.dpoints[1], this._3d);\n  }\n  inflections() {\n    return utils.inflections(this.points);\n  }\n  normal(t) {\n    return this._3d ? this.__normal3(t) : this.__normal2(t);\n  }\n  __normal2(t) {\n    const d = this.derivative(t);\n    const q = sqrt(d.x * d.x + d.y * d.y);\n    return {\n      t,\n      x: -d.y / q,\n      y: d.x / q\n    };\n  }\n  __normal3(t) {\n    // see http://stackoverflow.com/questions/25453159\n    const r1 = this.derivative(t),\n      r2 = this.derivative(t + 0.01),\n      q1 = sqrt(r1.x * r1.x + r1.y * r1.y + r1.z * r1.z),\n      q2 = sqrt(r2.x * r2.x + r2.y * r2.y + r2.z * r2.z);\n    r1.x /= q1;\n    r1.y /= q1;\n    r1.z /= q1;\n    r2.x /= q2;\n    r2.y /= q2;\n    r2.z /= q2;\n    // cross product\n    const c = {\n      x: r2.y * r1.z - r2.z * r1.y,\n      y: r2.z * r1.x - r2.x * r1.z,\n      z: r2.x * r1.y - r2.y * r1.x\n    };\n    const m = sqrt(c.x * c.x + c.y * c.y + c.z * c.z);\n    c.x /= m;\n    c.y /= m;\n    c.z /= m;\n    // rotation matrix\n    const R = [c.x * c.x, c.x * c.y - c.z, c.x * c.z + c.y, c.x * c.y + c.z, c.y * c.y, c.y * c.z - c.x, c.x * c.z - c.y, c.y * c.z + c.x, c.z * c.z];\n    // normal vector:\n    const n = {\n      t,\n      x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n      y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n      z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z\n    };\n    return n;\n  }\n  hull(t) {\n    let p = this.points,\n      _p = [],\n      q = [],\n      idx = 0;\n    q[idx++] = p[0];\n    q[idx++] = p[1];\n    q[idx++] = p[2];\n    if (this.order === 3) {\n      q[idx++] = p[3];\n    }\n    // we lerp between all points at each iteration, until we have 1 point left.\n    while (p.length > 1) {\n      _p = [];\n      for (let i = 0, pt, l = p.length - 1; i < l; i++) {\n        pt = utils.lerp(t, p[i], p[i + 1]);\n        q[idx++] = pt;\n        _p.push(pt);\n      }\n      p = _p;\n    }\n    return q;\n  }\n  split(t1, t2) {\n    // shortcuts\n    if (t1 === 0 && !!t2) {\n      return this.split(t2).left;\n    }\n    if (t2 === 1) {\n      return this.split(t1).right;\n    }\n\n    // no shortcut: use \"de Casteljau\" iteration.\n    const q = this.hull(t1);\n    const result = {\n      left: this.order === 2 ? new Bezier([q[0], q[3], q[5]]) : new Bezier([q[0], q[4], q[7], q[9]]),\n      right: this.order === 2 ? new Bezier([q[5], q[4], q[2]]) : new Bezier([q[9], q[8], q[6], q[3]]),\n      span: q\n    };\n\n    // make sure we bind _t1/_t2 information!\n    result.left._t1 = utils.map(0, 0, 1, this._t1, this._t2);\n    result.left._t2 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t1 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t2 = utils.map(1, 0, 1, this._t1, this._t2);\n\n    // if we have no t2, we're done\n    if (!t2) {\n      return result;\n    }\n\n    // if we have a t2, split again:\n    t2 = utils.map(t2, t1, 1, 0, 1);\n    return result.right.split(t2).left;\n  }\n  extrema() {\n    const result = {};\n    let roots = [];\n    this.dims.forEach(function (dim) {\n      let mfn = function (v) {\n        return v[dim];\n      };\n      let p = this.dpoints[0].map(mfn);\n      result[dim] = utils.droots(p);\n      if (this.order === 3) {\n        p = this.dpoints[1].map(mfn);\n        result[dim] = result[dim].concat(utils.droots(p));\n      }\n      result[dim] = result[dim].filter(function (t) {\n        return t >= 0 && t <= 1;\n      });\n      roots = roots.concat(result[dim].sort(utils.numberSort));\n    }.bind(this));\n    result.values = roots.sort(utils.numberSort).filter(function (v, idx) {\n      return roots.indexOf(v) === idx;\n    });\n    return result;\n  }\n  bbox() {\n    const extrema = this.extrema(),\n      result = {};\n    this.dims.forEach(function (d) {\n      result[d] = utils.getminmax(this, d, extrema[d]);\n    }.bind(this));\n    return result;\n  }\n  overlaps(curve) {\n    const lbbox = this.bbox(),\n      tbbox = curve.bbox();\n    return utils.bboxoverlap(lbbox, tbbox);\n  }\n  offset(t, d) {\n    if (typeof d !== \"undefined\") {\n      const c = this.get(t),\n        n = this.normal(t);\n      const ret = {\n        c: c,\n        n: n,\n        x: c.x + n.x * d,\n        y: c.y + n.y * d\n      };\n      if (this._3d) {\n        ret.z = c.z + n.z * d;\n      }\n      return ret;\n    }\n    if (this._linear) {\n      const nv = this.normal(0),\n        coords = this.points.map(function (p) {\n          const ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y\n          };\n          if (p.z && nv.z) {\n            ret.z = p.z + t * nv.z;\n          }\n          return ret;\n        });\n      return [new Bezier(coords)];\n    }\n    return this.reduce().map(function (s) {\n      if (s._linear) {\n        return s.offset(t)[0];\n      }\n      return s.scale(t);\n    });\n  }\n  simple() {\n    if (this.order === 3) {\n      const a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n      const a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n      if (a1 > 0 && a2 < 0 || a1 < 0 && a2 > 0) return false;\n    }\n    const n1 = this.normal(0);\n    const n2 = this.normal(1);\n    let s = n1.x * n2.x + n1.y * n2.y;\n    if (this._3d) {\n      s += n1.z * n2.z;\n    }\n    return abs(acos(s)) < pi / 3;\n  }\n  reduce() {\n    // TODO: examine these var types in more detail...\n    let i,\n      t1 = 0,\n      t2 = 0,\n      step = 0.01,\n      segment,\n      pass1 = [],\n      pass2 = [];\n    // first pass: split on extrema\n    let extrema = this.extrema().values;\n    if (extrema.indexOf(0) === -1) {\n      extrema = [0].concat(extrema);\n    }\n    if (extrema.indexOf(1) === -1) {\n      extrema.push(1);\n    }\n    for (t1 = extrema[0], i = 1; i < extrema.length; i++) {\n      t2 = extrema[i];\n      segment = this.split(t1, t2);\n      segment._t1 = t1;\n      segment._t2 = t2;\n      pass1.push(segment);\n      t1 = t2;\n    }\n\n    // second pass: further reduce these segments to simple segments\n    pass1.forEach(function (p1) {\n      t1 = 0;\n      t2 = 0;\n      while (t2 <= 1) {\n        for (t2 = t1 + step; t2 <= 1 + step; t2 += step) {\n          segment = p1.split(t1, t2);\n          if (!segment.simple()) {\n            t2 -= step;\n            if (abs(t1 - t2) < step) {\n              // we can never form a reduction\n              return [];\n            }\n            segment = p1.split(t1, t2);\n            segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n            segment._t2 = utils.map(t2, 0, 1, p1._t1, p1._t2);\n            pass2.push(segment);\n            t1 = t2;\n            break;\n          }\n        }\n      }\n      if (t1 < 1) {\n        segment = p1.split(t1, 1);\n        segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n        segment._t2 = p1._t2;\n        pass2.push(segment);\n      }\n    });\n    return pass2;\n  }\n  translate(v, d1, d2) {\n    d2 = typeof d2 === \"number\" ? d2 : d1;\n\n    // TODO: make this take curves with control points outside\n    //       of the start-end interval into account\n\n    const o = this.order;\n    let d = this.points.map((_, i) => (1 - i / o) * d1 + i / o * d2);\n    return new Bezier(this.points.map((p, i) => ({\n      x: p.x + v.x * d[i],\n      y: p.y + v.y * d[i]\n    })));\n  }\n  scale(d) {\n    const order = this.order;\n    let distanceFn = false;\n    if (typeof d === \"function\") {\n      distanceFn = d;\n    }\n    if (distanceFn && order === 2) {\n      return this.raise().scale(distanceFn);\n    }\n\n    // TODO: add special handling for non-linear degenerate curves.\n\n    const clockwise = this.clockwise;\n    const points = this.points;\n    if (this._linear) {\n      return this.translate(this.normal(0), distanceFn ? distanceFn(0) : d, distanceFn ? distanceFn(1) : d);\n    }\n    const r1 = distanceFn ? distanceFn(0) : d;\n    const r2 = distanceFn ? distanceFn(1) : d;\n    const v = [this.offset(0, 10), this.offset(1, 10)];\n    const np = [];\n    const o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n    if (!o) {\n      throw new Error(\"cannot scale this curve. Try reducing it first.\");\n    }\n\n    // move all points by distance 'd' wrt the origin 'o',\n    // and move end points by fixed distance along normal.\n    [0, 1].forEach(function (t) {\n      const p = np[t * order] = utils.copy(points[t * order]);\n      p.x += (t ? r2 : r1) * v[t].n.x;\n      p.y += (t ? r2 : r1) * v[t].n.y;\n    });\n    if (!distanceFn) {\n      // move control points to lie on the intersection of the offset\n      // derivative vector, and the origin-through-control vector\n      [0, 1].forEach(t => {\n        if (order === 2 && !!t) return;\n        const p = np[t * order];\n        const d = this.derivative(t);\n        const p2 = {\n          x: p.x + d.x,\n          y: p.y + d.y\n        };\n        np[t + 1] = utils.lli4(p, p2, o, points[t + 1]);\n      });\n      return new Bezier(np);\n    }\n\n    // move control points by \"however much necessary to\n    // ensure the correct tangent to endpoint\".\n    [0, 1].forEach(function (t) {\n      if (order === 2 && !!t) return;\n      var p = points[t + 1];\n      var ov = {\n        x: p.x - o.x,\n        y: p.y - o.y\n      };\n      var rc = distanceFn ? distanceFn((t + 1) / order) : d;\n      if (distanceFn && !clockwise) rc = -rc;\n      var m = sqrt(ov.x * ov.x + ov.y * ov.y);\n      ov.x /= m;\n      ov.y /= m;\n      np[t + 1] = {\n        x: p.x + rc * ov.x,\n        y: p.y + rc * ov.y\n      };\n    });\n    return new Bezier(np);\n  }\n  outline(d1, d2, d3, d4) {\n    d2 = d2 === undefined ? d1 : d2;\n    if (this._linear) {\n      // TODO: find the actual extrema, because they might\n      //       be before the start, or past the end.\n\n      const n = this.normal(0);\n      const start = this.points[0];\n      const end = this.points[this.points.length - 1];\n      let s, mid, e;\n      if (d3 === undefined) {\n        d3 = d1;\n        d4 = d2;\n      }\n      s = {\n        x: start.x + n.x * d1,\n        y: start.y + n.y * d1\n      };\n      e = {\n        x: end.x + n.x * d3,\n        y: end.y + n.y * d3\n      };\n      mid = {\n        x: (s.x + e.x) / 2,\n        y: (s.y + e.y) / 2\n      };\n      const fline = [s, mid, e];\n      s = {\n        x: start.x - n.x * d2,\n        y: start.y - n.y * d2\n      };\n      e = {\n        x: end.x - n.x * d4,\n        y: end.y - n.y * d4\n      };\n      mid = {\n        x: (s.x + e.x) / 2,\n        y: (s.y + e.y) / 2\n      };\n      const bline = [e, mid, s];\n      const ls = utils.makeline(bline[2], fline[0]);\n      const le = utils.makeline(fline[2], bline[0]);\n      const segments = [ls, new Bezier(fline), le, new Bezier(bline)];\n      return new PolyBezier(segments);\n    }\n    const reduced = this.reduce(),\n      len = reduced.length,\n      fcurves = [];\n    let bcurves = [],\n      p,\n      alen = 0,\n      tlen = this.length();\n    const graduated = typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\";\n    function linearDistanceFunction(s, e, tlen, alen, slen) {\n      return function (v) {\n        const f1 = alen / tlen,\n          f2 = (alen + slen) / tlen,\n          d = e - s;\n        return utils.map(v, 0, 1, s + f1 * d, s + f2 * d);\n      };\n    }\n\n    // form curve oulines\n    reduced.forEach(function (segment) {\n      const slen = segment.length();\n      if (graduated) {\n        fcurves.push(segment.scale(linearDistanceFunction(d1, d3, tlen, alen, slen)));\n        bcurves.push(segment.scale(linearDistanceFunction(-d2, -d4, tlen, alen, slen)));\n      } else {\n        fcurves.push(segment.scale(d1));\n        bcurves.push(segment.scale(-d2));\n      }\n      alen += slen;\n    });\n\n    // reverse the \"return\" outline\n    bcurves = bcurves.map(function (s) {\n      p = s.points;\n      if (p[3]) {\n        s.points = [p[3], p[2], p[1], p[0]];\n      } else {\n        s.points = [p[2], p[1], p[0]];\n      }\n      return s;\n    }).reverse();\n\n    // form the endcaps as lines\n    const fs = fcurves[0].points[0],\n      fe = fcurves[len - 1].points[fcurves[len - 1].points.length - 1],\n      bs = bcurves[len - 1].points[bcurves[len - 1].points.length - 1],\n      be = bcurves[0].points[0],\n      ls = utils.makeline(bs, fs),\n      le = utils.makeline(fe, be),\n      segments = [ls].concat(fcurves).concat([le]).concat(bcurves);\n    return new PolyBezier(segments);\n  }\n  outlineshapes(d1, d2, curveIntersectionThreshold) {\n    d2 = d2 || d1;\n    const outline = this.outline(d1, d2).curves;\n    const shapes = [];\n    for (let i = 1, len = outline.length; i < len / 2; i++) {\n      const shape = utils.makeshape(outline[i], outline[len - i], curveIntersectionThreshold);\n      shape.startcap.virtual = i > 1;\n      shape.endcap.virtual = i < len / 2 - 1;\n      shapes.push(shape);\n    }\n    return shapes;\n  }\n  intersects(curve, curveIntersectionThreshold) {\n    if (!curve) return this.selfintersects(curveIntersectionThreshold);\n    if (curve.p1 && curve.p2) {\n      return this.lineIntersects(curve);\n    }\n    if (curve instanceof Bezier) {\n      curve = curve.reduce();\n    }\n    return this.curveintersects(this.reduce(), curve, curveIntersectionThreshold);\n  }\n  lineIntersects(line) {\n    const mx = min(line.p1.x, line.p2.x),\n      my = min(line.p1.y, line.p2.y),\n      MX = max(line.p1.x, line.p2.x),\n      MY = max(line.p1.y, line.p2.y);\n    return utils.roots(this.points, line).filter(t => {\n      var p = this.get(t);\n      return utils.between(p.x, mx, MX) && utils.between(p.y, my, MY);\n    });\n  }\n  selfintersects(curveIntersectionThreshold) {\n    // \"simple\" curves cannot intersect with their direct\n    // neighbour, so for each segment X we check whether\n    // it intersects [0:x-2][x+2:last].\n\n    const reduced = this.reduce(),\n      len = reduced.length - 2,\n      results = [];\n    for (let i = 0, result, left, right; i < len; i++) {\n      left = reduced.slice(i, i + 1);\n      right = reduced.slice(i + 2);\n      result = this.curveintersects(left, right, curveIntersectionThreshold);\n      results.push(...result);\n    }\n    return results;\n  }\n  curveintersects(c1, c2, curveIntersectionThreshold) {\n    const pairs = [];\n    // step 1: pair off any overlapping segments\n    c1.forEach(function (l) {\n      c2.forEach(function (r) {\n        if (l.overlaps(r)) {\n          pairs.push({\n            left: l,\n            right: r\n          });\n        }\n      });\n    });\n    // step 2: for each pairing, run through the convergence algorithm.\n    let intersections = [];\n    pairs.forEach(function (pair) {\n      const result = utils.pairiteration(pair.left, pair.right, curveIntersectionThreshold);\n      if (result.length > 0) {\n        intersections = intersections.concat(result);\n      }\n    });\n    return intersections;\n  }\n  arcs(errorThreshold) {\n    errorThreshold = errorThreshold || 0.5;\n    return this._iterate(errorThreshold, []);\n  }\n  _error(pc, np1, s, e) {\n    const q = (e - s) / 4,\n      c1 = this.get(s + q),\n      c2 = this.get(e - q),\n      ref = utils.dist(pc, np1),\n      d1 = utils.dist(pc, c1),\n      d2 = utils.dist(pc, c2);\n    return abs(d1 - ref) + abs(d2 - ref);\n  }\n  _iterate(errorThreshold, circles) {\n    let t_s = 0,\n      t_e = 1,\n      safety;\n    // we do a binary search to find the \"good `t` closest to no-longer-good\"\n    do {\n      safety = 0;\n\n      // step 1: start with the maximum possible arc\n      t_e = 1;\n\n      // points:\n      let np1 = this.get(t_s),\n        np2,\n        np3,\n        arc,\n        prev_arc;\n\n      // booleans:\n      let curr_good = false,\n        prev_good = false,\n        done;\n\n      // numbers:\n      let t_m = t_e,\n        prev_e = 1,\n        step = 0;\n\n      // step 2: find the best possible arc\n      do {\n        prev_good = curr_good;\n        prev_arc = arc;\n        t_m = (t_s + t_e) / 2;\n        step++;\n        np2 = this.get(t_m);\n        np3 = this.get(t_e);\n        arc = utils.getccenter(np1, np2, np3);\n\n        //also save the t values\n        arc.interval = {\n          start: t_s,\n          end: t_e\n        };\n        let error = this._error(arc, np1, t_s, t_e);\n        curr_good = error <= errorThreshold;\n        done = prev_good && !curr_good;\n        if (!done) prev_e = t_e;\n\n        // this arc is fine: we can move 'e' up to see if we can find a wider arc\n        if (curr_good) {\n          // if e is already at max, then we're done for this arc.\n          if (t_e >= 1) {\n            // make sure we cap at t=1\n            arc.interval.end = prev_e = 1;\n            prev_arc = arc;\n            // if we capped the arc segment to t=1 we also need to make sure that\n            // the arc's end angle is correct with respect to the bezier end point.\n            if (t_e > 1) {\n              let d = {\n                x: arc.x + arc.r * cos(arc.e),\n                y: arc.y + arc.r * sin(arc.e)\n              };\n              arc.e += utils.angle({\n                x: arc.x,\n                y: arc.y\n              }, d, this.get(1));\n            }\n            break;\n          }\n          // if not, move it up by half the iteration distance\n          t_e = t_e + (t_e - t_s) / 2;\n        } else {\n          // this is a bad arc: we need to move 'e' down to find a good arc\n          t_e = t_m;\n        }\n      } while (!done && safety++ < 100);\n      if (safety >= 100) {\n        break;\n      }\n\n      // console.log(\"L835: [F] arc found\", t_s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);\n\n      prev_arc = prev_arc ? prev_arc : arc;\n      circles.push(prev_arc);\n      t_s = prev_e;\n    } while (t_e < 1);\n    return circles;\n  }\n}\nexport { Bezier };","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nvar index = function () {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keyAccessors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var multiItem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var flattenKeys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var keys = (keyAccessors instanceof Array ? keyAccessors.length ? keyAccessors : [undefined] : [keyAccessors]).map(function (key) {\n    return {\n      keyAccessor: key,\n      isProp: !(key instanceof Function)\n    };\n  });\n  var indexedResult = list.reduce(function (res, item) {\n    var iterObj = res;\n    var itemVal = item;\n    keys.forEach(function (_ref, idx) {\n      var keyAccessor = _ref.keyAccessor,\n        isProp = _ref.isProp;\n      var key;\n      if (isProp) {\n        var _itemVal = itemVal,\n          propVal = _itemVal[keyAccessor],\n          rest = _objectWithoutProperties(_itemVal, [keyAccessor].map(_toPropertyKey));\n        key = propVal;\n        itemVal = rest;\n      } else {\n        key = keyAccessor(itemVal, idx);\n      }\n      if (idx + 1 < keys.length) {\n        if (!iterObj.hasOwnProperty(key)) {\n          iterObj[key] = {};\n        }\n        iterObj = iterObj[key];\n      } else {\n        // Leaf key\n        if (multiItem) {\n          if (!iterObj.hasOwnProperty(key)) {\n            iterObj[key] = [];\n          }\n          iterObj[key].push(itemVal);\n        } else {\n          iterObj[key] = itemVal;\n        }\n      }\n    });\n    return res;\n  }, {});\n  if (multiItem instanceof Function) {\n    // Reduce leaf multiple values\n    (function reduce(node) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      if (level === keys.length) {\n        Object.keys(node).forEach(function (k) {\n          return node[k] = multiItem(node[k]);\n        });\n      } else {\n        Object.values(node).forEach(function (child) {\n          return reduce(child, level + 1);\n        });\n      }\n    })(indexedResult); // IIFE\n  }\n  var result = indexedResult;\n  if (flattenKeys) {\n    // flatten into array\n    result = [];\n    (function flatten(node) {\n      var accKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      if (accKeys.length === keys.length) {\n        result.push({\n          keys: accKeys,\n          vals: node\n        });\n      } else {\n        Object.entries(node).forEach(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            val = _ref3[1];\n          return flatten(val, [].concat(_toConsumableArray(accKeys), [key]));\n        });\n      }\n    })(indexedResult); //IIFE\n\n    if (keyAccessors instanceof Array && keyAccessors.length === 0 && result.length === 1) {\n      // clear keys if there's no key accessors (single result)\n      result[0].keys = [];\n    }\n  }\n  return result;\n};\nexport { index as default };","import colors from \"../colors.js\";\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");","export default function (specifier) {\n  var n = specifier.length / 6 | 0,\n    colors = new Array(n),\n    i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}","import { select } from 'd3-selection';\nimport { zoom, zoomTransform } from 'd3-zoom';\nimport { drag } from 'd3-drag';\nimport { min, max } from 'd3-array';\nimport { throttle } from 'lodash-es';\nimport * as TWEEN from '@tweenjs/tween.js';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport ColorTracker from 'canvas-color-tracker';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceRadial } from 'd3-force-3d';\nimport { Bezier } from 'bezier-js';\nimport indexBy from 'index-array-by';\nimport { scaleOrdinal } from 'd3-scale';\nimport { schemePaired } from 'd3-scale-chromatic';\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\nvar css_248z = \".force-graph-container canvas {\\n  display: block;\\n  user-select: none;\\n  outline: none;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.force-graph-container .graph-tooltip {\\n  position: absolute;\\n  top: 0;\\n  font-family: sans-serif;\\n  font-size: 16px;\\n  padding: 4px;\\n  border-radius: 3px;\\n  color: #eee;\\n  background: rgba(0,0,0,0.65);\\n  visibility: hidden; /* by default */\\n}\\n\\n.force-graph-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.force-graph-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.force-graph-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\";\nstyleInject(css_248z);\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nvar autoColorScale = scaleOrdinal(schemePaired);\n\n// Autoset attribute colorField by colorByAccessor property\n// If an object has already a color, don't set it\n// Objects can be nodes or links\nfunction autoColorObjects(objects, colorByAccessor, colorField) {\n  if (!colorByAccessor || typeof colorField !== 'string') return;\n  objects.filter(function (obj) {\n    return !obj[colorField];\n  }).forEach(function (obj) {\n    obj[colorField] = autoColorScale(colorByAccessor(obj));\n  });\n}\nfunction getDagDepths(_ref, idAccessor) {\n  var nodes = _ref.nodes,\n    links = _ref.links;\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    _ref2$nodeFilter = _ref2.nodeFilter,\n    nodeFilter = _ref2$nodeFilter === void 0 ? function () {\n      return true;\n    } : _ref2$nodeFilter,\n    _ref2$onLoopError = _ref2.onLoopError,\n    onLoopError = _ref2$onLoopError === void 0 ? function (loopIds) {\n      throw \"Invalid DAG structure! Found cycle in node path: \".concat(loopIds.join(' -> '), \".\");\n    } : _ref2$onLoopError;\n  // linked graph\n  var graph = {};\n  nodes.forEach(function (node) {\n    return graph[idAccessor(node)] = {\n      data: node,\n      out: [],\n      depth: -1,\n      skip: !nodeFilter(node)\n    };\n  });\n  links.forEach(function (_ref3) {\n    var source = _ref3.source,\n      target = _ref3.target;\n    var sourceId = getNodeId(source);\n    var targetId = getNodeId(target);\n    if (!graph.hasOwnProperty(sourceId)) throw \"Missing source node with id: \".concat(sourceId);\n    if (!graph.hasOwnProperty(targetId)) throw \"Missing target node with id: \".concat(targetId);\n    var sourceNode = graph[sourceId];\n    var targetNode = graph[targetId];\n    sourceNode.out.push(targetNode);\n    function getNodeId(node) {\n      return _typeof(node) === 'object' ? idAccessor(node) : node;\n    }\n  });\n  var foundLoops = [];\n  traverse(Object.values(graph));\n  var nodeDepths = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(graph).filter(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n      node = _ref5[1];\n    return !node.skip;\n  }).map(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n      id = _ref7[0],\n      node = _ref7[1];\n    return _defineProperty({}, id, node.depth);\n  }))));\n  return nodeDepths;\n  function traverse(nodes) {\n    var nodeStack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var currentDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var _loop = function _loop() {\n      var node = nodes[i];\n      if (nodeStack.indexOf(node) !== -1) {\n        var loop = [].concat(_toConsumableArray(nodeStack.slice(nodeStack.indexOf(node))), [node]).map(function (d) {\n          return idAccessor(d.data);\n        });\n        if (!foundLoops.some(function (foundLoop) {\n          return foundLoop.length === loop.length && foundLoop.every(function (id, idx) {\n            return id === loop[idx];\n          });\n        })) {\n          foundLoops.push(loop);\n          onLoopError(loop);\n        }\n        return 1; // continue\n      }\n      if (currentDepth > node.depth) {\n        // Don't unnecessarily revisit chunks of the graph\n        node.depth = currentDepth;\n        traverse(node.out, [].concat(_toConsumableArray(nodeStack), [node]), currentDepth + (node.skip ? 0 : 1));\n      }\n    };\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      if (_loop()) continue;\n    }\n  }\n}\n\n//\n\nvar DAG_LEVEL_NODE_RATIO = 2;\n\n// whenever styling props are changed that require a canvas redraw\nvar notifyRedraw = function notifyRedraw(_, state) {\n  return state.onNeedsRedraw && state.onNeedsRedraw();\n};\nvar updDataPhotons = function updDataPhotons(_, state) {\n  if (!state.isShadow) {\n    // Add photon particles\n    var linkParticlesAccessor = accessorFn(state.linkDirectionalParticles);\n    state.graphData.links.forEach(function (link) {\n      var numPhotons = Math.round(Math.abs(linkParticlesAccessor(link)));\n      if (numPhotons) {\n        link.__photons = _toConsumableArray(Array(numPhotons)).map(function () {\n          return {};\n        });\n      } else {\n        delete link.__photons;\n      }\n    });\n  }\n};\nvar CanvasForceGraph = Kapsule({\n  props: {\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(_, state) {\n        state.engineRunning = false; // Pause simulation\n        updDataPhotons(_, state);\n      }\n    },\n    dagMode: {\n      onChange: function onChange(dagMode, state) {\n        // td, bu, lr, rl, radialin, radialout\n        !dagMode && (state.graphData.nodes || []).forEach(function (n) {\n          return n.fx = n.fy = undefined;\n        }); // unfix nodes when disabling dag mode\n      }\n    },\n    dagLevelDistance: {},\n    dagNodeFilter: {\n      \"default\": function _default(node) {\n        return true;\n      }\n    },\n    onDagError: {\n      triggerUpdate: false\n    },\n    nodeRelSize: {\n      \"default\": 4,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    // area per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeColor: {\n      \"default\": 'color',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeAutoColorBy: {},\n    nodeCanvasObject: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    nodeVisibility: {\n      \"default\": true,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkVisibility: {\n      \"default\": true,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkColor: {\n      \"default\": 'color',\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkAutoColorBy: {},\n    linkLineDash: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkWidth: {\n      \"default\": 1,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCurvature: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCanvasObject: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowLength: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowColor: {\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5,\n      triggerUpdate: false,\n      onChange: notifyRedraw\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalParticles: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: updDataPhotons\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01,\n      triggerUpdate: false\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    linkDirectionalParticleColor: {\n      triggerUpdate: false\n    },\n    globalScale: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    d3AlphaMin: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228,\n      triggerUpdate: false,\n      onChange: function onChange(alphaDecay, state) {\n        state.forceLayout.alphaDecay(alphaDecay);\n      }\n    },\n    d3AlphaTarget: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: function onChange(alphaTarget, state) {\n        state.forceLayout.alphaTarget(alphaTarget);\n      }\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4,\n      triggerUpdate: false,\n      onChange: function onChange(velocityDecay, state) {\n        state.forceLayout.velocityDecay(velocityDecay);\n      }\n    },\n    warmupTicks: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      \"default\": Infinity,\n      triggerUpdate: false\n    },\n    cooldownTime: {\n      \"default\": 15000,\n      triggerUpdate: false\n    },\n    // ms\n    onUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineTick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineStop: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNeedsRedraw: {\n      triggerUpdate: false\n    },\n    isShadow: {\n      \"default\": false,\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    // Expose d3 forces for external manipulation\n    d3Force: function d3Force(state, forceName, forceFn) {\n      if (forceFn === undefined) {\n        return state.forceLayout.force(forceName); // Force getter\n      }\n      state.forceLayout.force(forceName, forceFn); // Force setter\n      return this;\n    },\n    d3ReheatSimulation: function d3ReheatSimulation(state) {\n      state.forceLayout.alpha(1);\n      this.resetCountdown();\n      return this;\n    },\n    // reset cooldown state\n    resetCountdown: function resetCountdown(state) {\n      state.cntTicks = 0;\n      state.startTickTime = new Date();\n      state.engineRunning = true;\n      return this;\n    },\n    isEngineRunning: function isEngineRunning(state) {\n      return !!state.engineRunning;\n    },\n    tickFrame: function tickFrame(state) {\n      !state.isShadow && layoutTick();\n      paintLinks();\n      !state.isShadow && paintArrows();\n      !state.isShadow && paintPhotons();\n      paintNodes();\n      return this;\n\n      //\n\n      function layoutTick() {\n        if (state.engineRunning) {\n          if (++state.cntTicks > state.cooldownTicks || new Date() - state.startTickTime > state.cooldownTime || state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin) {\n            state.engineRunning = false; // Stop ticking graph\n            state.onEngineStop();\n          } else {\n            state.forceLayout.tick(); // Tick it\n            state.onEngineTick();\n          }\n        }\n      }\n      function paintNodes() {\n        var getVisibility = accessorFn(state.nodeVisibility);\n        var getVal = accessorFn(state.nodeVal);\n        var getColor = accessorFn(state.nodeColor);\n        var getNodeCanvasObjectMode = accessorFn(state.nodeCanvasObjectMode);\n        var ctx = state.ctx;\n\n        // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n        var padAmount = state.isShadow / state.globalScale;\n        var visibleNodes = state.graphData.nodes.filter(getVisibility);\n        ctx.save();\n        visibleNodes.forEach(function (node) {\n          var nodeCanvasObjectMode = getNodeCanvasObjectMode(node);\n          if (state.nodeCanvasObject && (nodeCanvasObjectMode === 'before' || nodeCanvasObjectMode === 'replace')) {\n            // Custom node before/replace paint\n            state.nodeCanvasObject(node, ctx, state.globalScale);\n            if (nodeCanvasObjectMode === 'replace') {\n              ctx.restore();\n              return;\n            }\n          }\n\n          // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n          var r = Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize + padAmount;\n          ctx.beginPath();\n          ctx.arc(node.x, node.y, r, 0, 2 * Math.PI, false);\n          ctx.fillStyle = getColor(node) || 'rgba(31, 120, 180, 0.92)';\n          ctx.fill();\n          if (state.nodeCanvasObject && nodeCanvasObjectMode === 'after') {\n            // Custom node after paint\n            state.nodeCanvasObject(node, state.ctx, state.globalScale);\n          }\n        });\n        ctx.restore();\n      }\n      function paintLinks() {\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkColor);\n        var getWidth = accessorFn(state.linkWidth);\n        var getLineDash = accessorFn(state.linkLineDash);\n        var getCurvature = accessorFn(state.linkCurvature);\n        var getLinkCanvasObjectMode = accessorFn(state.linkCanvasObjectMode);\n        var ctx = state.ctx;\n\n        // Draw wider lines by 2px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n        var padAmount = state.isShadow * 2;\n        var visibleLinks = state.graphData.links.filter(getVisibility);\n        visibleLinks.forEach(calcLinkControlPoints); // calculate curvature control points for all visible links\n\n        var beforeCustomLinks = [],\n          afterCustomLinks = [],\n          defaultPaintLinks = visibleLinks;\n        if (state.linkCanvasObject) {\n          var replaceCustomLinks = [],\n            otherCustomLinks = [];\n          visibleLinks.forEach(function (d) {\n            return ({\n              before: beforeCustomLinks,\n              after: afterCustomLinks,\n              replace: replaceCustomLinks\n            }[getLinkCanvasObjectMode(d)] || otherCustomLinks).push(d);\n          });\n          defaultPaintLinks = [].concat(_toConsumableArray(beforeCustomLinks), afterCustomLinks, otherCustomLinks);\n          beforeCustomLinks = beforeCustomLinks.concat(replaceCustomLinks);\n        }\n\n        // Custom link before paints\n        ctx.save();\n        beforeCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore();\n\n        // Bundle strokes per unique color/width/dash for performance optimization\n        var linksPerColor = indexBy(defaultPaintLinks, [getColor, getWidth, getLineDash]);\n        ctx.save();\n        Object.entries(linksPerColor).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n            color = _ref2[0],\n            linksPerWidth = _ref2[1];\n          var lineColor = !color || color === 'undefined' ? 'rgba(0,0,0,0.15)' : color;\n          Object.entries(linksPerWidth).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n              width = _ref4[0],\n              linesPerLineDash = _ref4[1];\n            var lineWidth = (width || 1) / state.globalScale + padAmount;\n            Object.entries(linesPerLineDash).forEach(function (_ref5) {\n              var _ref6 = _slicedToArray(_ref5, 2);\n              _ref6[0];\n              var links = _ref6[1];\n              var lineDashSegments = getLineDash(links[0]);\n              ctx.beginPath();\n              links.forEach(function (link) {\n                var start = link.source;\n                var end = link.target;\n                if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n                ctx.moveTo(start.x, start.y);\n                var controlPoints = link.__controlPoints;\n                if (!controlPoints) {\n                  // Straight line\n                  ctx.lineTo(end.x, end.y);\n                } else {\n                  // Use quadratic curves for regular lines and bezier for loops\n                  ctx[controlPoints.length === 2 ? 'quadraticCurveTo' : 'bezierCurveTo'].apply(ctx, _toConsumableArray(controlPoints).concat([end.x, end.y]));\n                }\n              });\n              ctx.strokeStyle = lineColor;\n              ctx.lineWidth = lineWidth;\n              ctx.setLineDash(lineDashSegments || []);\n              ctx.stroke();\n            });\n          });\n        });\n        ctx.restore();\n\n        // Custom link after paints\n        ctx.save();\n        afterCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore();\n\n        //\n\n        function calcLinkControlPoints(link) {\n          var curvature = getCurvature(link);\n          if (!curvature) {\n            // straight line\n            link.__controlPoints = null;\n            return;\n          }\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var l = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2)); // line length\n\n          if (l > 0) {\n            var a = Math.atan2(end.y - start.y, end.x - start.x); // line angle\n            var d = l * curvature; // control point distance\n\n            var cp = {\n              // control point\n              x: (start.x + end.x) / 2 + d * Math.cos(a - Math.PI / 2),\n              y: (start.y + end.y) / 2 + d * Math.sin(a - Math.PI / 2)\n            };\n            link.__controlPoints = [cp.x, cp.y];\n          } else {\n            // Same point, draw a loop\n            var _d = curvature * 70;\n            link.__controlPoints = [end.x, end.y - _d, end.x + _d, end.y];\n          }\n        }\n      }\n      function paintArrows() {\n        var ARROW_WH_RATIO = 1.6;\n        var ARROW_VLEN_RATIO = 0.2;\n        var getLength = accessorFn(state.linkDirectionalArrowLength);\n        var getRelPos = accessorFn(state.linkDirectionalArrowRelPos);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalArrowColor || state.linkColor);\n        var getNodeVal = accessorFn(state.nodeVal);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var arrowLength = getLength(link);\n          if (!arrowLength || arrowLength < 0) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var startR = Math.sqrt(Math.max(0, getNodeVal(start) || 1)) * state.nodeRelSize;\n          var endR = Math.sqrt(Math.max(0, getNodeVal(end) || 1)) * state.nodeRelSize;\n          var arrowRelPos = Math.min(1, Math.max(0, getRelPos(link)));\n          var arrowColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          var arrowHalfWidth = arrowLength / ARROW_WH_RATIO / 2;\n\n          // Construct bezier for curved lines\n          var bzLine = link.__controlPoints && _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y]));\n          var getCoordsAlongLine = bzLine ? function (t) {\n            return bzLine.get(t);\n          } // get position along bezier line\n          : function (t) {\n            return {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * t || 0,\n              y: start.y + (end.y - start.y) * t || 0\n            };\n          };\n          var lineLen = bzLine ? bzLine.length() : Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n          var posAlongLine = startR + arrowLength + (lineLen - startR - endR - arrowLength) * arrowRelPos;\n          var arrowHead = getCoordsAlongLine(posAlongLine / lineLen);\n          var arrowTail = getCoordsAlongLine((posAlongLine - arrowLength) / lineLen);\n          var arrowTailVertex = getCoordsAlongLine((posAlongLine - arrowLength * (1 - ARROW_VLEN_RATIO)) / lineLen);\n          var arrowTailAngle = Math.atan2(arrowHead.y - arrowTail.y, arrowHead.x - arrowTail.x) - Math.PI / 2;\n          ctx.beginPath();\n          ctx.moveTo(arrowHead.x, arrowHead.y);\n          ctx.lineTo(arrowTail.x + arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y + arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.lineTo(arrowTailVertex.x, arrowTailVertex.y);\n          ctx.lineTo(arrowTail.x - arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y - arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.fillStyle = arrowColor;\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n      function paintPhotons() {\n        var getNumPhotons = accessorFn(state.linkDirectionalParticles);\n        var getSpeed = accessorFn(state.linkDirectionalParticleSpeed);\n        var getDiameter = accessorFn(state.linkDirectionalParticleWidth);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalParticleColor || state.linkColor);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var numCyclePhotons = getNumPhotons(link);\n          if (!link.hasOwnProperty('__photons') || !link.__photons.length) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var particleSpeed = getSpeed(link);\n          var photons = link.__photons || [];\n          var photonR = Math.max(0, getDiameter(link) / 2) / Math.sqrt(state.globalScale);\n          var photonColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          ctx.fillStyle = photonColor;\n\n          // Construct bezier for curved lines\n          var bzLine = link.__controlPoints ? _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y])) : null;\n          var cyclePhotonIdx = 0;\n          var needsCleanup = false; // whether some photons need to be removed from list\n          photons.forEach(function (photon) {\n            var singleHop = !!photon.__singleHop;\n            if (!photon.hasOwnProperty('__progressRatio')) {\n              photon.__progressRatio = singleHop ? 0 : cyclePhotonIdx / numCyclePhotons;\n            }\n            !singleHop && cyclePhotonIdx++; // increase regular photon index\n\n            photon.__progressRatio += particleSpeed;\n            if (photon.__progressRatio >= 1) {\n              if (!singleHop) {\n                photon.__progressRatio = photon.__progressRatio % 1;\n              } else {\n                needsCleanup = true;\n                return;\n              }\n            }\n            var photonPosRatio = photon.__progressRatio;\n            var coords = bzLine ? bzLine.get(photonPosRatio) // get position along bezier line\n            : {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * photonPosRatio || 0,\n              y: start.y + (end.y - start.y) * photonPosRatio || 0\n            };\n            ctx.beginPath();\n            ctx.arc(coords.x, coords.y, photonR, 0, 2 * Math.PI, false);\n            ctx.fill();\n          });\n          if (needsCleanup) {\n            // remove expired single hop photons\n            link.__photons = link.__photons.filter(function (photon) {\n              return !photon.__singleHop || photon.__progressRatio <= 1;\n            });\n          }\n        });\n        ctx.restore();\n      }\n    },\n    emitParticle: function emitParticle(state, link) {\n      if (link) {\n        !link.__photons && (link.__photons = []);\n        link.__photons.push({\n          __singleHop: true\n        }); // add a single hop particle\n      }\n      return this;\n    }\n  },\n  stateInit: function stateInit() {\n    return {\n      forceLayout: forceSimulation().force('link', forceLink()).force('charge', forceManyBody()).force('center', forceCenter()).force('dagRadial', null).stop(),\n      engineRunning: false\n    };\n  },\n  init: function init(canvasCtx, state) {\n    // Main canvas object to manipulate\n    state.ctx = canvasCtx;\n  },\n  update: function update(state) {\n    state.engineRunning = false; // Pause simulation\n    state.onUpdate();\n    if (state.nodeAutoColorBy !== null) {\n      // Auto add color to uncolored nodes\n      autoColorObjects(state.graphData.nodes, accessorFn(state.nodeAutoColorBy), state.nodeColor);\n    }\n    if (state.linkAutoColorBy !== null) {\n      // Auto add color to uncolored links\n      autoColorObjects(state.graphData.links, accessorFn(state.linkAutoColorBy), state.linkColor);\n    }\n\n    // parse links\n    state.graphData.links.forEach(function (link) {\n      link.source = link[state.linkSource];\n      link.target = link[state.linkTarget];\n    });\n\n    // Feed data to force-directed layout\n    state.forceLayout.stop().alpha(1) // re-heat the simulation\n    .nodes(state.graphData.nodes);\n\n    // add links (if link force is still active)\n    var linkForce = state.forceLayout.force('link');\n    if (linkForce) {\n      linkForce.id(function (d) {\n        return d[state.nodeId];\n      }).links(state.graphData.links);\n    }\n\n    // setup dag force constraints\n    var nodeDepths = state.dagMode && getDagDepths(state.graphData, function (node) {\n      return node[state.nodeId];\n    }, {\n      nodeFilter: state.dagNodeFilter,\n      onLoopError: state.onDagError || undefined\n    });\n    var maxDepth = Math.max.apply(Math, _toConsumableArray(Object.values(nodeDepths || [])));\n    var dagLevelDistance = state.dagLevelDistance || state.graphData.nodes.length / (maxDepth || 1) * DAG_LEVEL_NODE_RATIO * (['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? 0.7 : 1);\n\n    // Fix nodes to x,y for dag mode\n    if (state.dagMode) {\n      var getFFn = function getFFn(fix, invert) {\n        return function (node) {\n          return !fix ? undefined : (nodeDepths[node[state.nodeId]] - maxDepth / 2) * dagLevelDistance * (invert ? -1 : 1);\n        };\n      };\n      var fxFn = getFFn(['lr', 'rl'].indexOf(state.dagMode) !== -1, state.dagMode === 'rl');\n      var fyFn = getFFn(['td', 'bu'].indexOf(state.dagMode) !== -1, state.dagMode === 'bu');\n      state.graphData.nodes.filter(state.dagNodeFilter).forEach(function (node) {\n        node.fx = fxFn(node);\n        node.fy = fyFn(node);\n      });\n    }\n\n    // Use radial force for radial dags\n    state.forceLayout.force('dagRadial', ['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? forceRadial(function (node) {\n      var nodeDepth = nodeDepths[node[state.nodeId]] || -1;\n      return (state.dagMode === 'radialin' ? maxDepth - nodeDepth : nodeDepth) * dagLevelDistance;\n    }).strength(function (node) {\n      return state.dagNodeFilter(node) ? 1 : 0;\n    }) : null);\n    for (var i = 0; i < state.warmupTicks && !(state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin); i++) {\n      state.forceLayout.tick();\n    } // Initial ticks before starting to render\n\n    this.resetCountdown();\n    state.onFinishUpdate();\n  }\n});\nfunction linkKapsule(kapsulePropNames, kapsuleType) {\n  var propNames = kapsulePropNames instanceof Array ? kapsulePropNames : [kapsulePropNames];\n  var dummyK = new kapsuleType(); // To extract defaults\n  dummyK._destructor && dummyK._destructor();\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          propNames.forEach(function (propName) {\n            return state[propName][prop](v);\n          });\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        var returnVals = [];\n        propNames.forEach(function (propName) {\n          var kapsuleInstance = state[propName];\n          var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n          if (returnVal !== kapsuleInstance) {\n            returnVals.push(returnVal);\n          }\n        });\n        return returnVals.length ? returnVals[0] : this; // chain based on the parent object, not the inner kapsule\n      };\n    }\n  };\n}\nvar HOVER_CANVAS_THROTTLE_DELAY = 800; // ms to throttle shadow canvas updates for perf improvement\nvar ZOOM2NODES_FACTOR = 4;\n\n// Expose config from forceGraph\nvar bindFG = linkKapsule('forceGraph', CanvasForceGraph);\nvar bindBoth = linkKapsule(['forceGraph', 'shadowGraph'], CanvasForceGraph);\nvar linkedProps = Object.assign.apply(Object, _toConsumableArray(['nodeColor', 'nodeAutoColorBy', 'nodeCanvasObject', 'nodeCanvasObjectMode', 'linkColor', 'linkAutoColorBy', 'linkLineDash', 'linkWidth', 'linkCanvasObject', 'linkCanvasObjectMode', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'd3AlphaMin', 'd3AlphaDecay', 'd3VelocityDecay', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})).concat(_toConsumableArray(['nodeRelSize', 'nodeId', 'nodeVal', 'nodeVisibility', 'linkSource', 'linkTarget', 'linkVisibility', 'linkCurvature'].map(function (p) {\n  return _defineProperty({}, p, bindBoth.linkProp(p));\n}))));\nvar linkedMethods = Object.assign.apply(Object, _toConsumableArray(['d3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\nfunction adjustCanvasSize(state) {\n  if (state.canvas) {\n    var curWidth = state.canvas.width;\n    var curHeight = state.canvas.height;\n    if (curWidth === 300 && curHeight === 150) {\n      // Default canvas dimensions\n      curWidth = curHeight = 0;\n    }\n    var pxScale = window.devicePixelRatio; // 2 on retina displays\n    curWidth /= pxScale;\n    curHeight /= pxScale;\n\n    // Resize canvases\n    [state.canvas, state.shadowCanvas].forEach(function (canvas) {\n      // Element size\n      canvas.style.width = \"\".concat(state.width, \"px\");\n      canvas.style.height = \"\".concat(state.height, \"px\");\n\n      // Memory size (scaled to avoid blurriness)\n      canvas.width = state.width * pxScale;\n      canvas.height = state.height * pxScale;\n\n      // Normalize coordinate system to use css pixels (on init only)\n      if (!curWidth && !curHeight) {\n        canvas.getContext('2d').scale(pxScale, pxScale);\n      }\n    });\n\n    // Relative center panning based on 0,0\n    var k = zoomTransform(state.canvas).k;\n    state.zoom.translateBy(state.zoom.__baseElem, (state.width - curWidth) / 2 / k, (state.height - curHeight) / 2 / k);\n    state.needsRedraw = true;\n  }\n}\nfunction resetTransform(ctx) {\n  var pxRatio = window.devicePixelRatio;\n  ctx.setTransform(pxRatio, 0, 0, pxRatio, 0, 0);\n}\nfunction clearCanvas(ctx, width, height) {\n  ctx.save();\n  resetTransform(ctx); // reset transform\n  ctx.clearRect(0, 0, width, height);\n  ctx.restore(); //restore transforms\n}\n\n//\n\nvar forceGraph = Kapsule({\n  props: _objectSpread2({\n    width: {\n      \"default\": window.innerWidth,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    height: {\n      \"default\": window.innerHeight,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(d, state) {\n        [{\n          type: 'Node',\n          objs: d.nodes\n        }, {\n          type: 'Link',\n          objs: d.links\n        }].forEach(hexIndex);\n        state.forceGraph.graphData(d);\n        state.shadowGraph.graphData(d);\n        function hexIndex(_ref4) {\n          var type = _ref4.type,\n            objs = _ref4.objs;\n          objs.filter(function (d) {\n            if (!d.hasOwnProperty('__indexColor')) return true;\n            var cur = state.colorTracker.lookup(d.__indexColor);\n            return !cur || !cur.hasOwnProperty('d') || cur.d !== d;\n          }).forEach(function (d) {\n            // store object lookup color\n            d.__indexColor = state.colorTracker.register({\n              type: type,\n              d: d\n            });\n          });\n        }\n      },\n      triggerUpdate: false\n    },\n    backgroundColor: {\n      onChange: function onChange(color, state) {\n        state.canvas && color && (state.canvas.style.background = color);\n      },\n      triggerUpdate: false\n    },\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    nodePointerAreaPaint: {\n      onChange: function onChange(paintFn, state) {\n        state.shadowGraph.nodeCanvasObject(!paintFn ? null : function (node, ctx, globalScale) {\n          return paintFn(node, node.__indexColor, ctx, globalScale);\n        });\n        state.flushShadowCanvas && state.flushShadowCanvas();\n      },\n      triggerUpdate: false\n    },\n    linkPointerAreaPaint: {\n      onChange: function onChange(paintFn, state) {\n        state.shadowGraph.linkCanvasObject(!paintFn ? null : function (link, ctx, globalScale) {\n          return paintFn(link, link.__indexColor, ctx, globalScale);\n        });\n        state.flushShadowCanvas && state.flushShadowCanvas();\n      },\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    minZoom: {\n      \"default\": 0.01,\n      onChange: function onChange(minZoom, state) {\n        state.zoom.scaleExtent([minZoom, state.zoom.scaleExtent()[1]]);\n      },\n      triggerUpdate: false\n    },\n    maxZoom: {\n      \"default\": 1000,\n      onChange: function onChange(maxZoom, state) {\n        state.zoom.scaleExtent([state.zoom.scaleExtent()[0], maxZoom]);\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enableZoomInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enablePanInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enableZoomPanInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    // to be deprecated\n    enablePointerInteraction: {\n      \"default\": true,\n      onChange: function onChange(_, state) {\n        state.hoverObj = null;\n      },\n      triggerUpdate: false\n    },\n    autoPauseRedraw: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    },\n    onZoom: {\n      triggerUpdate: false\n    },\n    onZoomEnd: {\n      triggerUpdate: false\n    },\n    onRenderFramePre: {\n      triggerUpdate: false\n    },\n    onRenderFramePost: {\n      triggerUpdate: false\n    }\n  }, linkedProps),\n  aliases: {\n    // Prop names supported for backwards compatibility\n    stopAnimation: 'pauseAnimation'\n  },\n  methods: _objectSpread2({\n    graph2ScreenCoords: function graph2ScreenCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: x * t.k + t.x,\n        y: y * t.k + t.y\n      };\n    },\n    screen2GraphCoords: function screen2GraphCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: (x - t.x) / t.k,\n        y: (y - t.y) / t.k\n      };\n    },\n    centerAt: function centerAt(state, x, y, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n\n      // setter\n      if (x !== undefined || y !== undefined) {\n        var finalPos = Object.assign({}, x !== undefined ? {\n          x: x\n        } : {}, y !== undefined ? {\n          y: y\n        } : {});\n        if (!transitionDuration) {\n          // no animation\n          setCenter(finalPos);\n        } else {\n          new TWEEN.Tween(getCenter()).to(finalPos, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setCenter).start();\n        }\n        return this;\n      }\n\n      // getter\n      return getCenter();\n\n      //\n\n      function getCenter() {\n        var t = zoomTransform(state.canvas);\n        return {\n          x: (state.width / 2 - t.x) / t.k,\n          y: (state.height / 2 - t.y) / t.k\n        };\n      }\n      function setCenter(_ref5) {\n        var x = _ref5.x,\n          y = _ref5.y;\n        state.zoom.translateTo(state.zoom.__baseElem, x === undefined ? getCenter().x : x, y === undefined ? getCenter().y : y);\n        state.needsRedraw = true;\n      }\n    },\n    zoom: function zoom(state, k, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n\n      // setter\n      if (k !== undefined) {\n        if (!transitionDuration) {\n          // no animation\n          setZoom(k);\n        } else {\n          new TWEEN.Tween({\n            k: getZoom()\n          }).to({\n            k: k\n          }, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(function (_ref6) {\n            var k = _ref6.k;\n            return setZoom(k);\n          }).start();\n        }\n        return this;\n      }\n\n      // getter\n      return getZoom();\n\n      //\n\n      function getZoom() {\n        return zoomTransform(state.canvas).k;\n      }\n      function setZoom(k) {\n        state.zoom.scaleTo(state.zoom.__baseElem, k);\n        state.needsRedraw = true;\n      }\n    },\n    zoomToFit: function zoomToFit(state) {\n      var transitionDuration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n      var bbox = this.getGraphBbox.apply(this, bboxArgs);\n      if (bbox) {\n        var center = {\n          x: (bbox.x[0] + bbox.x[1]) / 2,\n          y: (bbox.y[0] + bbox.y[1]) / 2\n        };\n        var zoomK = Math.max(1e-12, Math.min(1e12, (state.width - padding * 2) / (bbox.x[1] - bbox.x[0]), (state.height - padding * 2) / (bbox.y[1] - bbox.y[0])));\n        this.centerAt(center.x, center.y, transitionDuration);\n        this.zoom(zoomK, transitionDuration);\n      }\n      return this;\n    },\n    getGraphBbox: function getGraphBbox(state) {\n      var nodeFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n        return true;\n      };\n      var getVal = accessorFn(state.nodeVal);\n      var getR = function getR(node) {\n        return Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize;\n      };\n      var nodesPos = state.graphData.nodes.filter(nodeFilter).map(function (node) {\n        return {\n          x: node.x,\n          y: node.y,\n          r: getR(node)\n        };\n      });\n      return !nodesPos.length ? null : {\n        x: [min(nodesPos, function (node) {\n          return node.x - node.r;\n        }), max(nodesPos, function (node) {\n          return node.x + node.r;\n        })],\n        y: [min(nodesPos, function (node) {\n          return node.y - node.r;\n        }), max(nodesPos, function (node) {\n          return node.y + node.r;\n        })]\n      };\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (!state.animationFrameRequestId) {\n        this._animationCycle();\n      }\n      return this;\n    },\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedMethods),\n  stateInit: function stateInit() {\n    return {\n      lastSetZoom: 1,\n      zoom: zoom(),\n      forceGraph: new CanvasForceGraph(),\n      shadowGraph: new CanvasForceGraph().cooldownTicks(0).nodeColor('__indexColor').linkColor('__indexColor').isShadow(true),\n      colorTracker: new ColorTracker() // indexed objects for rgb lookup\n    };\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n    // Wipe DOM\n    domNode.innerHTML = '';\n\n    // Container anchor for canvas and tooltip\n    var container = document.createElement('div');\n    container.classList.add('force-graph-container');\n    container.style.position = 'relative';\n    domNode.appendChild(container);\n    state.canvas = document.createElement('canvas');\n    if (state.backgroundColor) state.canvas.style.background = state.backgroundColor;\n    container.appendChild(state.canvas);\n    state.shadowCanvas = document.createElement('canvas');\n\n    // Show shadow canvas\n    //state.shadowCanvas.style.position = 'absolute';\n    //state.shadowCanvas.style.top = '0';\n    //state.shadowCanvas.style.left = '0';\n    //container.appendChild(state.shadowCanvas);\n\n    var ctx = state.canvas.getContext('2d');\n    var shadowCtx = state.shadowCanvas.getContext('2d', {\n      willReadFrequently: true\n    });\n    var pointerPos = {\n      x: -1e12,\n      y: -1e12\n    };\n    var getObjUnderPointer = function getObjUnderPointer() {\n      var obj = null;\n      var pxScale = window.devicePixelRatio;\n      var px = pointerPos.x > 0 && pointerPos.y > 0 ? shadowCtx.getImageData(pointerPos.x * pxScale, pointerPos.y * pxScale, 1, 1) : null;\n      // Lookup object per pixel color\n      px && (obj = state.colorTracker.lookup(px.data));\n      return obj;\n    };\n\n    // Setup node drag interaction\n    select(state.canvas).call(drag().subject(function () {\n      if (!state.enableNodeDrag) {\n        return null;\n      }\n      var obj = getObjUnderPointer();\n      return obj && obj.type === 'Node' ? obj.d : null; // Only drag nodes\n    }).on('start', function (ev) {\n      var obj = ev.subject;\n      obj.__initialDragPos = {\n        x: obj.x,\n        y: obj.y,\n        fx: obj.fx,\n        fy: obj.fy\n      };\n\n      // keep engine running at low intensity throughout drag\n      if (!ev.active) {\n        obj.fx = obj.x;\n        obj.fy = obj.y; // Fix points\n      }\n\n      // drag cursor\n      state.canvas.classList.add('grabbable');\n    }).on('drag', function (ev) {\n      var obj = ev.subject;\n      var initPos = obj.__initialDragPos;\n      var dragPos = ev;\n      var k = zoomTransform(state.canvas).k;\n      var translate = {\n        x: initPos.x + (dragPos.x - initPos.x) / k - obj.x,\n        y: initPos.y + (dragPos.y - initPos.y) / k - obj.y\n      };\n\n      // Move fx/fy (and x/y) of nodes based on the scaled drag distance since the drag start\n      ['x', 'y'].forEach(function (c) {\n        return obj[\"f\".concat(c)] = obj[c] = initPos[c] + (dragPos[c] - initPos[c]) / k;\n      });\n\n      // prevent freeze while dragging\n      state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n      .resetCountdown(); // prevent freeze while dragging\n\n      state.isPointerDragging = true;\n      obj.__dragged = true;\n      state.onNodeDrag(obj, translate);\n    }).on('end', function (ev) {\n      var obj = ev.subject;\n      var initPos = obj.__initialDragPos;\n      var translate = {\n        x: obj.x - initPos.x,\n        y: obj.y - initPos.y\n      };\n      if (initPos.fx === undefined) {\n        obj.fx = undefined;\n      }\n      if (initPos.fy === undefined) {\n        obj.fy = undefined;\n      }\n      delete obj.__initialDragPos;\n      if (state.forceGraph.d3AlphaTarget()) {\n        state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n        .resetCountdown(); // let the engine readjust after releasing fixed nodes\n      }\n\n      // drag cursor\n      state.canvas.classList.remove('grabbable');\n      state.isPointerDragging = false;\n      if (obj.__dragged) {\n        delete obj.__dragged;\n        state.onNodeDragEnd(obj, translate);\n      }\n    }));\n\n    // Setup zoom / pan interaction\n    state.zoom(state.zoom.__baseElem = select(state.canvas)); // Attach controlling elem for easy access\n\n    state.zoom.__baseElem.on('dblclick.zoom', null); // Disable double-click to zoom\n\n    state.zoom.filter(function (ev) {\n      return (\n        // disable zoom interaction\n        !ev.button && state.enableZoomPanInteraction && (state.enableZoomInteraction || ev.type !== 'wheel') && (state.enablePanInteraction || ev.type === 'wheel')\n      );\n    }).on('zoom', function (ev) {\n      var t = ev.transform;\n      [ctx, shadowCtx].forEach(function (c) {\n        resetTransform(c);\n        c.translate(t.x, t.y);\n        c.scale(t.k, t.k);\n      });\n      state.onZoom && state.onZoom(_objectSpread2(_objectSpread2({}, t), _this.centerAt())); // report x,y coordinates relative to canvas center\n      state.needsRedraw = true;\n    }).on('end', function (ev) {\n      return state.onZoomEnd && state.onZoomEnd(_objectSpread2(_objectSpread2({}, ev.transform), _this.centerAt()));\n    });\n    adjustCanvasSize(state);\n    state.forceGraph.onNeedsRedraw(function () {\n      return state.needsRedraw = true;\n    }).onFinishUpdate(function () {\n      // re-zoom, if still in default position (not user modified)\n      if (zoomTransform(state.canvas).k === state.lastSetZoom && state.graphData.nodes.length) {\n        state.zoom.scaleTo(state.zoom.__baseElem, state.lastSetZoom = ZOOM2NODES_FACTOR / Math.cbrt(state.graphData.nodes.length));\n        state.needsRedraw = true;\n      }\n    });\n\n    // Setup tooltip\n    var toolTipElem = document.createElement('div');\n    toolTipElem.classList.add('graph-tooltip');\n    container.appendChild(toolTipElem);\n\n    // Capture pointer coords on move or touchstart\n    ['pointermove', 'pointerdown'].forEach(function (evType) {\n      return container.addEventListener(evType, function (ev) {\n        if (evType === 'pointerdown') {\n          state.isPointerPressed = true; // track click state\n          state.pointerDownEvent = ev;\n        }\n\n        // detect pointer drag on canvas pan\n        !state.isPointerDragging && ev.type === 'pointermove' && state.onBackgroundClick // only bother detecting drags this way if background clicks are enabled (so they don't trigger accidentally on canvas panning)\n        && (ev.pressure > 0 || state.isPointerPressed) // ev.pressure always 0 on Safari, so we use the isPointerPressed tracker\n        && (ev.pointerType !== 'touch' || ev.movementX === undefined || [ev.movementX, ev.movementY].some(function (m) {\n          return Math.abs(m) > 1;\n        })) // relax drag trigger sensitivity on touch events\n        && (state.isPointerDragging = true);\n\n        // update the pointer pos\n        var offset = getOffset(container);\n        pointerPos.x = ev.pageX - offset.left;\n        pointerPos.y = ev.pageY - offset.top;\n\n        // Move tooltip\n        toolTipElem.style.top = \"\".concat(pointerPos.y, \"px\");\n        toolTipElem.style.left = \"\".concat(pointerPos.x, \"px\");\n\n        // adjust horizontal position to not exceed canvas boundaries\n        toolTipElem.style.transform = \"translate(-\".concat(pointerPos.x / state.width * 100, \"%, \").concat(\n        // flip to above if near bottom\n        state.height - pointerPos.y < 100 ? 'calc(-100% - 8px)' : '21px', \")\");\n\n        //\n\n        function getOffset(el) {\n          var rect = el.getBoundingClientRect(),\n            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n            scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n          return {\n            top: rect.top + scrollTop,\n            left: rect.left + scrollLeft\n          };\n        }\n      }, {\n        passive: true\n      });\n    });\n\n    // Handle click/touch events on nodes/links\n    container.addEventListener('pointerup', function (ev) {\n      state.isPointerPressed = false;\n      if (state.isPointerDragging) {\n        state.isPointerDragging = false;\n        return; // don't trigger click events after pointer drag (pan / node drag functionality)\n      }\n      var cbEvents = [ev, state.pointerDownEvent];\n      requestAnimationFrame(function () {\n        // trigger click events asynchronously, to allow hoverObj to be set (on frame)\n        if (ev.button === 0) {\n          // mouse left-click or touch\n          if (state.hoverObj) {\n            var fn = state[\"on\".concat(state.hoverObj.type, \"Click\")];\n            fn && fn.apply(void 0, [state.hoverObj.d].concat(cbEvents));\n          } else {\n            state.onBackgroundClick && state.onBackgroundClick.apply(state, cbEvents);\n          }\n        }\n        if (ev.button === 2) {\n          // mouse right-click\n          if (state.hoverObj) {\n            var _fn = state[\"on\".concat(state.hoverObj.type, \"RightClick\")];\n            _fn && _fn.apply(void 0, [state.hoverObj.d].concat(cbEvents));\n          } else {\n            state.onBackgroundRightClick && state.onBackgroundRightClick.apply(state, cbEvents);\n          }\n        }\n      });\n    }, {\n      passive: true\n    });\n    container.addEventListener('contextmenu', function (ev) {\n      if (!state.onBackgroundRightClick && !state.onNodeRightClick && !state.onLinkRightClick) return true; // default contextmenu behavior\n      ev.preventDefault();\n      return false;\n    });\n    state.forceGraph(ctx);\n    state.shadowGraph(shadowCtx);\n\n    //\n\n    var refreshShadowCanvas = throttle(function () {\n      // wipe canvas\n      clearCanvas(shadowCtx, state.width, state.height);\n\n      // Adjust link hover area\n      state.shadowGraph.linkWidth(function (l) {\n        return accessorFn(state.linkWidth)(l) + state.linkHoverPrecision;\n      });\n\n      // redraw\n      var t = zoomTransform(state.canvas);\n      state.shadowGraph.globalScale(t.k).tickFrame();\n    }, HOVER_CANVAS_THROTTLE_DELAY);\n    state.flushShadowCanvas = refreshShadowCanvas.flush; // hook to immediately invoke shadow canvas paint\n\n    // Kick-off renderer\n    (this._animationCycle = function animate() {\n      // IIFE\n      var doRedraw = !state.autoPauseRedraw || !!state.needsRedraw || state.forceGraph.isEngineRunning() || state.graphData.links.some(function (d) {\n        return d.__photons && d.__photons.length;\n      });\n      state.needsRedraw = false;\n      if (state.enablePointerInteraction) {\n        // Update tooltip and trigger onHover events\n        var obj = !state.isPointerDragging ? getObjUnderPointer() : null; // don't hover during drag\n        if (obj !== state.hoverObj) {\n          var prevObj = state.hoverObj;\n          var prevObjType = prevObj ? prevObj.type : null;\n          var objType = obj ? obj.type : null;\n          if (prevObjType && prevObjType !== objType) {\n            // Hover out\n            var fn = state[\"on\".concat(prevObjType, \"Hover\")];\n            fn && fn(null, prevObj.d);\n          }\n          if (objType) {\n            // Hover in\n            var _fn2 = state[\"on\".concat(objType, \"Hover\")];\n            _fn2 && _fn2(obj.d, prevObjType === objType ? prevObj.d : null);\n          }\n          var tooltipContent = obj ? accessorFn(state[\"\".concat(obj.type.toLowerCase(), \"Label\")])(obj.d) || '' : '';\n          toolTipElem.style.visibility = tooltipContent ? 'visible' : 'hidden';\n          toolTipElem.innerHTML = tooltipContent;\n\n          // set pointer if hovered object is clickable\n          state.canvas.classList[obj && state[\"on\".concat(objType, \"Click\")] || !obj && state.onBackgroundClick ? 'add' : 'remove']('clickable');\n          state.hoverObj = obj;\n        }\n        doRedraw && refreshShadowCanvas();\n      }\n      if (doRedraw) {\n        // Wipe canvas\n        clearCanvas(ctx, state.width, state.height);\n\n        // Frame cycle\n        var globalScale = zoomTransform(state.canvas).k;\n        state.onRenderFramePre && state.onRenderFramePre(ctx, globalScale);\n        state.forceGraph.globalScale(globalScale).tickFrame();\n        state.onRenderFramePost && state.onRenderFramePost(ctx, globalScale);\n      }\n      TWEEN.update(); // update canvas animation tweens\n\n      state.animationFrameRequestId = requestAnimationFrame(animate);\n    })();\n  },\n  update: function updateFn(state) {}\n});\nexport { forceGraph as default };","import constant from \"./constant.js\";\nexport default function (radius, x, y, z) {\n  var nodes,\n    nDim,\n    strength = constant(0.1),\n    strengths,\n    radiuses;\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n        dx = node.x - x || 1e-6,\n        dy = (node.y || 0) - y || 1e-6,\n        dz = (node.z || 0) - z || 1e-6,\n        r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n        k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      if (nDim > 1) {\n        node.vy += dy * k;\n      }\n      if (nDim > 2) {\n        node.vz += dz * k;\n      }\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n  force.initialize = function (initNodes) {\n    nodes = initNodes;\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n  force.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n  force.x = function (_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n  force.y = function (_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n  force.z = function (_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n  return force;\n}","/**\n * @version 0.3.0\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? t(exports, require(\"d3-color\"), require(\"d3-force\"), require(\"d3-scale\"), require(\"force-graph\")) : \"function\" == typeof define && define.amd ? define([\"exports\", \"d3-color\", \"d3-force\", \"d3-scale\", \"force-graph\"], t) : t((e = \"undefined\" != typeof globalThis ? globalThis : e || self).NOTE_GRAPH = {}, e.d3, e.d3, e.d3, e.ForceGraph);\n}(this, function (e, t, i, o, n) {\n  \"use strict\";\n\n  function r(e) {\n    return e && \"object\" == typeof e && \"default\" in e ? e : {\n      default: e\n    };\n  }\n  var s = r(n);\n  var h = {};\n  function d(e, t, i, o) {\n    var n,\n      r = !1,\n      s = 0;\n    function h() {\n      n && clearTimeout(n);\n    }\n    function d() {\n      for (var d = arguments.length, a = new Array(d), l = 0; l < d; l++) a[l] = arguments[l];\n      var c = this,\n        u = Date.now() - s;\n      function g() {\n        s = Date.now(), i.apply(c, a);\n      }\n      function f() {\n        n = void 0;\n      }\n      r || (o && !n && g(), h(), void 0 === o && u > e ? g() : !0 !== t && (n = setTimeout(o ? f : g, void 0 === o ? e - u : e)));\n    }\n    return \"boolean\" != typeof t && (o = i, i = t, t = void 0), d.cancel = function () {\n      h(), r = !0;\n    }, d;\n  }\n  Object.defineProperty(h, \"__esModule\", {\n    value: !0\n  });\n  var a = h.debounce = function (e, t, i) {\n    return void 0 === i ? d(e, t, !1) : d(e, i, !1 !== t);\n  };\n  h.throttle = d;\n  const l = function (e) {\n      for (var _len = arguments.length, t = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        t[_key - 1] = arguments[_key];\n      }\n      if (!t.length) return e;\n      const i = t.shift();\n      return void 0 === i ? e : (c(e) && c(i) && Object.keys(i).forEach(function (t) {\n        c(i[t]) ? (e[t] || (e[t] = {}), l(e[t], i[t])) : e[t] = i[t];\n      }), l(e, ...t));\n    },\n    c = e => (e => null !== e && \"object\" == typeof e)(e) && !Array.isArray(e);\n  function u(e, t, i) {\n    return getComputedStyle(e).getPropertyValue(t) || i;\n  }\n  function g() {\n    let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const t = e.container || document.body,\n      i = u(t, \"--notegraph-highlighted-foreground-color\", \"#f9c74f\");\n    return {\n      background: u(t, \"--notegraph-background\", \"#f7f7f7\"),\n      fontSize: parseInt(u(t, \"--notegraph-font-size\", 12)),\n      highlightedForeground: i,\n      node: {\n        note: {\n          regular: u(t, \"--notegraph-note-color-regular\", \"#5f76e7\")\n        },\n        unknown: u(t, \"--notegraph-unkown-node-color\", \"#f94144\")\n      },\n      link: {\n        regular: u(t, \"--notegraph-link-color-regular\", \"#ccc\"),\n        highlighted: u(t, \"--notegraph-link-color-highlighted\", i)\n      },\n      hoverNodeLink: {\n        highlightedDirection: {\n          inbound: \"#3078cd\",\n          outbound: i\n        }\n      }\n    };\n  }\n  const f = e => ({\n    circle: function (t, i, o, n) {\n      return e.beginPath(), e.arc(t, i, o, 0, 2 * Math.PI, !1), e.fillStyle = n, e.fill(), e.closePath(), this;\n    },\n    text: function (t, i, o, n, r) {\n      return e.font = `${n}px Sans-Serif`, e.textAlign = \"center\", e.textBaseline = \"top\", e.fillStyle = r, e.fillText(t, i, o), this;\n    }\n  });\n  e.NoteGraphModel = class {\n    constructor(e) {\n      this.subscribers = [], this.notes = e, this.updateCache();\n    }\n    updateCache() {\n      const e = [],\n        t = [],\n        i = {},\n        o = new Map();\n      this.notes.forEach(n => {\n        e.push({\n          id: n.id,\n          data: {\n            note: n\n          }\n        });\n        const r = {\n          title: n.title,\n          linkIds: [],\n          neighbors: []\n        };\n        n.linkTo && n.linkTo.forEach(e => {\n          const i = {\n            id: this.formLinkId(n.id, e),\n            source: n.id,\n            target: e\n          };\n          t.push(i), o.set(i.id, i), r.linkIds.push(i.id), r.neighbors.push(e);\n        }), n.referencedBy && n.referencedBy.forEach(e => {\n          r.linkIds.push(this.formLinkId(e, n.id)), r.neighbors.push(e);\n        }), i[n.id] = r;\n      });\n      const n = this.cache || {};\n      n.nodeInfos = i, n.links = t, n.linkMap = o, this.cache = n;\n    }\n    getNodeInfoById(e) {\n      return this.cache.nodeInfos[e];\n    }\n    getLinkById(e) {\n      return this.cache.linkMap.get(e);\n    }\n    formLinkId(e, t) {\n      return `${e}-${t}`;\n    }\n    toGraphViewData() {\n      return {\n        graphData: {\n          nodes: this.notes,\n          links: this.cache.links\n        },\n        nodeInfos: this.cache.nodeInfos\n      };\n    }\n    publishChange() {\n      this.subscribers.forEach(e => {\n        e(this);\n      });\n    }\n    subscribe(e) {\n      return this.subscribers.push(e), () => {\n        const t = this.subscribers.indexOf(e);\n        t > -1 && this.subscribers.splice(t, 1);\n      };\n    }\n  }, e.NoteGraphView = class {\n    constructor(e) {\n      this.hasEngineStopped = !1, this.engineStopSizingFn = null, this.sizeScaler = o.scaleLinear().domain([0, 20]).range([1, 4]).clamp(!0), this.labelAlphaScaler = o.scaleLinear().domain([1.2, 2]).range([0, 1]).clamp(!0), this.interactionCallbacks = {}, this.hasInitialZoomToFit = !1, this.actions = {\n        selectNode(e, t, i) {\n          i || e.selectedNodes.clear(), null != t && e.selectedNodes.add(t);\n        },\n        highlightNode(e, t) {\n          e.hoverNode = t;\n        }\n      }, this.shouldDebugColor = !1, this.options = e, this.container = e.container, this.model = {\n        graphData: {\n          nodes: [],\n          links: []\n        },\n        nodeInfos: {},\n        selectedNodes: new Set(),\n        focusNodes: new Set(),\n        focusLinks: new Set(),\n        hoverNode: null\n      }, this.initStyle(), e.graphModel && (this.linkWithGraphModel(e.graphModel), e.lazyInitView || this.initView());\n    }\n    initStyle() {\n      this.style || (this.style = g({\n        container: this.container\n      })), l(this.style, this.options.style);\n    }\n    updateStyle(e) {\n      this.options.style = l(this.options.style || {}, e), this.initStyle(), this.refreshByStyle();\n    }\n    refreshByStyle() {\n      if (!this.forceGraph) return;\n      const e = t.rgb(this.style.background),\n        i = (i, o) => {\n          const n = o.nodeInfos[i],\n            r = this.style.node.note,\n            s = this.style.node.note[n.type || \"regular\"] || this.style.node.unknown;\n          switch (this.shouldDebugColor && console.log(\"node fill\", s), this.getNodeState(i, o)) {\n            case \"regular\":\n              return {\n                fill: s,\n                border: s\n              };\n            case \"lessened\":\n              let o = r.lessened;\n              if (!o) {\n                o = function (e, i) {\n                  let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : .5;\n                  const n = e.r * o + i.r * (1 - o),\n                    r = e.g * o + i.g * (1 - o),\n                    s = e.b * o + i.b * (1 - o);\n                  return t.rgb(n, r, s);\n                }(t.rgb(s), e, .2);\n              }\n              return {\n                fill: o,\n                border: o\n              };\n            case \"highlighted\":\n              return {\n                fill: s,\n                border: this.style.highlightedForeground\n              };\n            default:\n              throw new Error(`Unknown type for node ${i}`);\n          }\n        };\n      this.forceGraph.backgroundColor(this.style.background).nodeCanvasObject((e, o, n) => {\n        if (!e.id) return;\n        const r = this.model.nodeInfos[e.id],\n          s = this.sizeScaler(r.neighbors ? r.neighbors.length : 1),\n          {\n            fill: h,\n            border: d\n          } = i(e.id, this.model),\n          a = this.style.fontSize / n;\n        let l = t.rgb(h);\n        const c = this.getNodeState(e.id, this.model),\n          u = this.labelAlphaScaler(n);\n        l.opacity = \"highlighted\" === c ? 1 : \"lessened\" === c ? Math.min(.2, u) : u;\n        const g = r.title;\n        f(o).circle(e.x, e.y, s + .5, d).circle(e.x, e.y, s, h).text(g, e.x, e.y + s + 1, a, l);\n      }).linkColor(e => this.getLinkColor(e, this.model));\n    }\n    linkWithGraphModel(e) {\n      this.currentDataModelEntry && this.currentDataModelEntry.unsub(), this.updateViewData(e.toGraphViewData());\n      const t = e.subscribe(() => {\n        this.updateViewData(e.toGraphViewData());\n      });\n      this.currentDataModelEntry = {\n        graphModel: e,\n        unsub: t\n      };\n    }\n    getColorOnContainer(e, t) {\n      return getComputedStyle(this.container).getPropertyValue(e) || t;\n    }\n    updateViewData(e) {\n      Object.assign(this.model, e), e.focusedNode && (this.model.hoverNode = e.focusedNode);\n    }\n    updateCanvasSize(e) {\n      this.forceGraph && (\"width\" in e && this.forceGraph.width(e.width), \"height\" in e && this.forceGraph.height(e.height));\n    }\n    initView() {\n      const {\n          options: e,\n          model: t,\n          actions: o\n        } = this,\n        n = s.default || window.ForceGraph,\n        r = this.forceGraph || n(),\n        h = e.width || window.innerWidth - this.container.offsetLeft - 20,\n        d = e.height || window.innerHeight - this.container.offsetTop - 20;\n      r(this.container).height(d).width(h).graphData(t.graphData).linkHoverPrecision(8).enableNodeDrag(!!e.enableNodeDrag).cooldownTime(200).d3Force(\"x\", i.forceX()).d3Force(\"y\", i.forceY()).d3Force(\"collide\", i.forceCollide(r.nodeRelSize())).linkWidth(1).linkDirectionalParticles(1).linkDirectionalParticleWidth(e => \"highlighted\" === this.getLinkState(e, t) ? 2 : 0).onEngineStop(() => {\n        this.hasEngineStopped = !0, this.engineStopSizingFn ? this.engineStopSizingFn() : this.hasInitialZoomToFit || (this.hasInitialZoomToFit = !0, r.zoomToFit(1e3, 20));\n      }).onNodeHover(e => {\n        o.highlightNode(this.model, e ? e.id : null), this.updateViewModeInteractiveState();\n      }).onNodeClick((e, t) => {\n        o.selectNode(this.model, e.id, t.getModifierState(\"Shift\")), this.updateViewModeInteractiveState(), this.fireInteraction(\"nodeClick\", {\n          node: e,\n          event: t\n        });\n      }).onLinkClick((e, t) => {\n        this.fireInteraction(\"linkClick\", {\n          link: e,\n          event: t\n        });\n      }).onBackgroundClick(e => {\n        o.selectNode(this.model, null, e.getModifierState(\"Shift\")), this.updateViewModeInteractiveState(), this.fireInteraction(\"backgroundClick\", {\n          event: e\n        });\n      }).onBackgroundRightClick(e => {\n        r.zoomToFit(1e3, 20), this.fireInteraction(\"backgroundRightClick\", {\n          event: e\n        });\n      }), !1 !== e.enableSmartZooming && this.initGraphSmartZooming(r), this.forceGraph = r, this.refreshByStyle();\n    }\n    initGraphSmartZooming(e) {\n      let t = !1;\n      const i = a(200, e => {\n        if (t) return;\n        const {\n            x: i,\n            y: o\n          } = this.forceGraph.getGraphBbox(),\n          {\n            k: n,\n            x: r,\n            y: s\n          } = e,\n          h = n * i[0],\n          d = n * i[1],\n          a = n * o[0],\n          l = n * o[1],\n          c = this.forceGraph.width(),\n          u = this.forceGraph.height(),\n          g = this.forceGraph.centerAt();\n        let f, p;\n        d + r < 0 ? (t = !1, f = i[1]) : h + r > c && (f = i[0]), a + s > u ? p = o[0] : l + s < 0 && (p = o[1]), \"number\" != typeof f && \"number\" != typeof p || this.forceGraph.centerAt(void 0 !== f ? f : g.x, void 0 !== p ? p : g.y, 2e3);\n      });\n      e.onZoom(e => {\n        this.hasInitialZoomToFit && i(e);\n      }).onZoomEnd(() => {\n        setTimeout(() => {\n          t = !1;\n        }, 20);\n      });\n    }\n    getLinkNodeId(e) {\n      const t = typeof e;\n      return \"string\" === t || \"number\" === t ? e : e.id;\n    }\n    getNodeState(e) {\n      let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.model;\n      return t.selectedNodes.has(e) || t.hoverNode === e ? \"highlighted\" : 0 === t.focusNodes.size || t.focusNodes.has(e) ? \"regular\" : \"lessened\";\n    }\n    getLinkState(e) {\n      let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.model;\n      return 0 === t.focusNodes.size ? \"regular\" : t.focusLinks.has(e.id) ? \"highlighted\" : \"lessened\";\n    }\n    getLinkColor(e, i) {\n      var o, n;\n      const r = this.style,\n        s = r.link;\n      switch (this.getLinkState(e, i)) {\n        case \"regular\":\n          return s.regular;\n        case \"highlighted\":\n          let h;\n          const d = r.hoverNodeLink;\n          return i.hoverNode === this.getLinkNodeId(e.source) ? h = null === (o = d.highlightedDirection) || void 0 === o ? void 0 : o.outbound : i.hoverNode === this.getLinkNodeId(e.target) && (h = null === (n = d.highlightedDirection) || void 0 === n ? void 0 : n.inbound), h || s.highlighted || r.highlightedForeground;\n        case \"lessened\":\n          let a = s.lessened;\n          if (!a) {\n            const e = t.hsl(r.node.note.lessened);\n            e.opacity = .2, a = e;\n          }\n          return a;\n        default:\n          throw new Error(`Unknown type for link ${e}`);\n      }\n    }\n    updateViewModeInteractiveState() {\n      var e, t;\n      const {\n          model: i\n        } = this,\n        o = new Set(),\n        n = new Set();\n      if (i.hoverNode) {\n        o.add(i.hoverNode);\n        const r = i.nodeInfos[i.hoverNode];\n        null === (e = r.neighbors) || void 0 === e || e.forEach(e => o.add(e)), null === (t = r.linkIds) || void 0 === t || t.forEach(e => n.add(e));\n      }\n      i.selectedNodes && i.selectedNodes.forEach(e => {\n        var t, r;\n        o.add(e);\n        const s = i.nodeInfos[e];\n        null === (t = s.neighbors) || void 0 === t || t.forEach(e => o.add(e)), null === (r = s.linkIds) || void 0 === r || r.forEach(e => n.add(e));\n      }), i.focusNodes = o, i.focusLinks = n;\n    }\n    setSelectedNodes(e) {\n      let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      const {\n        isAppend: i,\n        shouldZoomToFit: o\n      } = t;\n      if (i || this.model.selectedNodes.clear(), e.forEach(e => this.actions.selectNode(this.model, e, !0)), this.updateViewModeInteractiveState(), o) {\n        const e = () => {\n          this.forceGraph.zoomToFit(1e3, 20, e => this.model.focusNodes.has(e.id));\n        };\n        this.hasEngineStopped ? e() : this.engineStopSizingFn = () => {\n          e(), this.engineStopSizingFn = null;\n        };\n      }\n    }\n    onInteraction(e, t) {\n      this.interactionCallbacks[e] || (this.interactionCallbacks[e] = []);\n      const i = this.interactionCallbacks[e];\n      return i.push(t), () => {\n        const e = i.indexOf(t);\n        e > -1 && i.splice(e, 1);\n      };\n    }\n    fireInteraction(e, t) {\n      const i = this.interactionCallbacks[e];\n      i && i.forEach(e => e(t));\n    }\n    dispose() {\n      this.forceGraph && this.forceGraph.pauseAnimation();\n    }\n  }, e.getColorOnContainer = u, e.getDefaultColorOf = g, Object.defineProperty(e, \"__esModule\", {\n    value: !0\n  });\n});","import { useMemo } from \"react\";\nimport { useStaticQuery, graphql } from \"gatsby\";\n\nexport const useGraphData = (tagsGroups) => {\n  const data = useStaticQuery(graphql`\n    {\n      allMdx {\n        nodes {\n          fields {\n            title\n            slug\n          }\n          inboundReferences {\n            ... on Mdx {\n              fields {\n                title\n                slug\n              }\n            }\n          }\n          outboundReferences {\n            ... on Mdx {\n              fields {\n                title\n                slug\n              }\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  const { notesMap } = useMemo(() => {\n    const notesMap = new Map();\n    // add latest page\n    const latestNote = {\n      id: \"/latest/\",\n      title: `Latest`,\n      url: \"/latest/\",\n      linkTo: [],\n      referencedBy: [],\n    };\n    notesMap.set(latestNote.id, latestNote);\n    tagsGroups.forEach((tagGroup) => {\n      if (tagGroup.items) {\n        const note = {\n          id: tagGroup.url,\n          title: `#${tagGroup.title}`,\n          url: tagGroup.url,\n          linkTo: [],\n          referencedBy: [],\n        };\n        tagGroup.items.forEach((node) => {\n          note.linkTo.push(node.url);\n        });\n\n        notesMap.set(note.id, note);\n      }\n    });\n    data.allMdx.nodes.forEach((node) => {\n      if (!node.fields || !node.fields.slug) {\n        return;\n      }\n\n      const note = {\n        id: node.fields.slug,\n        title: node.fields.title,\n        url: node.fields.slug,\n        linkTo: [],\n        referencedBy: [],\n      };\n\n      node.inboundReferences.forEach((x) => {\n        note.referencedBy && note.referencedBy.push(x.fields.slug);\n      });\n\n      node.outboundReferences.forEach((x) => {\n        note.linkTo && note.linkTo.push(x.fields.slug);\n      });\n      notesMap.set(note.id, note);\n    });\n    return { notesMap };\n  }, [data, tagsGroups]);\n\n  return { notesMap };\n};\n","/**\n * Returns the owner document of a given element.\n * \n * @param node the element\n */\nexport default function ownerDocument(node) {\n  return node && node.ownerDocument || document;\n}","import ownerDocument from './ownerDocument';\n/**\n * Returns the actively focused element safely.\n *\n * @param doc the document to check\n */\n\nexport default function activeElement(doc) {\n  if (doc === void 0) {\n    doc = ownerDocument();\n  }\n\n  // Support: IE 9 only\n  // IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\n  try {\n    var active = doc.activeElement; // IE11 returns a seemingly empty object in some cases when accessing\n    // document.activeElement from an <iframe>\n\n    if (!active || !active.nodeName) return null;\n    return active;\n  } catch (e) {\n    /* ie throws if no active element */\n    return doc.body;\n  }\n}","/* eslint-disable no-bitwise, no-cond-assign */\n\n/**\n * Checks if an element contains another given element.\n * \n * @param context the context element\n * @param node the element to check\n */\nexport default function contains(context, node) {\n  // HTML DOM and SVG DOM may have different support levels,\n  // so we need to check on context instead of a document root element.\n  if (context.contains) return context.contains(node);\n  if (context.compareDocumentPosition) return context === node || !!(context.compareDocumentPosition(node) & 16);\n}","export default !!(typeof window !== 'undefined' && window.document && window.document.createElement);","/* eslint-disable no-return-assign */\nimport canUseDOM from './canUseDOM';\nexport var optionsSupported = false;\nexport var onceSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      return optionsSupported = true;\n    },\n\n    get once() {\n      // eslint-disable-next-line no-multi-assign\n      return onceSupported = optionsSupported = true;\n    }\n\n  };\n\n  if (canUseDOM) {\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, true);\n  }\n} catch (e) {\n  /* */\n}\n\n/**\n * An `addEventListener` ponyfill, supports the `once` option\n * \n * @param node the element\n * @param eventName the event name\n * @param handle the handler\n * @param options event options\n */\nfunction addEventListener(node, eventName, handler, options) {\n  if (options && typeof options !== 'boolean' && !onceSupported) {\n    var once = options.once,\n        capture = options.capture;\n    var wrappedHandler = handler;\n\n    if (!onceSupported && once) {\n      wrappedHandler = handler.__once || function onceHandler(event) {\n        this.removeEventListener(eventName, onceHandler, capture);\n        handler.call(this, event);\n      };\n\n      handler.__once = wrappedHandler;\n    }\n\n    node.addEventListener(eventName, wrappedHandler, optionsSupported ? options : capture);\n  }\n\n  node.addEventListener(eventName, handler, options);\n}\n\nexport default addEventListener;","/**\n * A `removeEventListener` ponyfill\n * \n * @param node the element\n * @param eventName the event name\n * @param handle the handler\n * @param options event options\n */\nfunction removeEventListener(node, eventName, handler, options) {\n  var capture = options && typeof options !== 'boolean' ? options.capture : options;\n  node.removeEventListener(eventName, handler, capture);\n\n  if (handler.__once) {\n    node.removeEventListener(eventName, handler.__once, capture);\n  }\n}\n\nexport default removeEventListener;","import addEventListener from './addEventListener';\nimport removeEventListener from './removeEventListener';\n\nfunction listen(node, eventName, handler, options) {\n  addEventListener(node, eventName, handler, options);\n  return function () {\n    removeEventListener(node, eventName, handler, options);\n  };\n}\n\nexport default listen;","import useUpdatedRef from './useUpdatedRef';\nimport { useEffect } from 'react';\n\n/**\n * Attach a callback that fires when a component unmounts\n *\n * @param fn Handler to run when the component unmounts\n * @category effects\n */\nexport default function useWillUnmount(fn) {\n  const onUnmount = useUpdatedRef(fn);\n  useEffect(() => () => onUnmount.current(), []);\n}","import { useRef } from 'react';\n\n/**\n * Returns a ref that is immediately updated with the new value\n *\n * @param value The Ref value\n * @category refs\n */\nexport default function useUpdatedRef(value) {\n  const valueRef = useRef(value);\n  valueRef.current = value;\n  return valueRef;\n}","import { useEffect, useRef } from 'react';\n\n/**\n * Creates a `Ref` whose value is updated in an effect, ensuring the most recent\n * value is the one rendered with. Generally only required for Concurrent mode usage\n * where previous work in `render()` may be discarded before being used.\n *\n * This is safe to access in an event handler.\n *\n * @param value The `Ref` value\n */\nfunction useCommittedRef(value) {\n  const ref = useRef(value);\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref;\n}\nexport default useCommittedRef;","import { useCallback } from 'react';\nimport useCommittedRef from './useCommittedRef';\nexport default function useEventCallback(fn) {\n  const ref = useCommittedRef(fn);\n  return useCallback(function () {\n    return ref.current && ref.current(...arguments);\n  }, [ref]);\n}","import hasClass from './hasClass';\n/**\n * Adds a CSS class to a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n/**\n * Removes a CSS class from a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","import ownerWindow from './ownerWindow';\n/**\n * Returns one or all computed style properties of an element.\n * \n * @param node the element\n * @param psuedoElement the style property\n */\n\nexport default function getComputedStyle(node, psuedoElement) {\n  return ownerWindow(node).getComputedStyle(node, psuedoElement);\n}","import ownerDocument from './ownerDocument';\n/**\n * Returns the owner window of a given element.\n * \n * @param node the element\n */\n\nexport default function ownerWindow(node) {\n  var doc = ownerDocument(node);\n  return doc && doc.defaultView || window;\n}","var rUpper = /([A-Z])/g;\nexport default function hyphenate(string) {\n  return string.replace(rUpper, '-$1').toLowerCase();\n}","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n * https://github.com/facebook/react/blob/2aeb8a2a6beb00617a4217f7f8284924fa2ad819/src/vendor/core/hyphenateStyleName.js\n */\nimport hyphenate from './hyphenate';\nvar msPattern = /^ms-/;\nexport default function hyphenateStyleName(string) {\n  return hyphenate(string).replace(msPattern, '-ms-');\n}","var supportedTransforms = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;\nexport default function isTransform(value) {\n  return !!(value && supportedTransforms.test(value));\n}","import getComputedStyle from './getComputedStyle';\nimport hyphenate from './hyphenateStyle';\nimport isTransform from './isTransform';\n\nfunction style(node, property) {\n  var css = '';\n  var transforms = '';\n\n  if (typeof property === 'string') {\n    return node.style.getPropertyValue(hyphenate(property)) || getComputedStyle(node).getPropertyValue(hyphenate(property));\n  }\n\n  Object.keys(property).forEach(function (key) {\n    var value = property[key];\n\n    if (!value && value !== 0) {\n      node.style.removeProperty(hyphenate(key));\n    } else if (isTransform(key)) {\n      transforms += key + \"(\" + value + \") \";\n    } else {\n      css += hyphenate(key) + \": \" + value + \";\";\n    }\n  });\n\n  if (transforms) {\n    css += \"transform: \" + transforms + \";\";\n  }\n\n  node.style.cssText += \";\" + css;\n}\n\nexport default style;","import canUseDOM from './canUseDOM';\nvar size;\nexport default function scrollbarSize(recalc) {\n  if (!size && size !== 0 || recalc) {\n    if (canUseDOM) {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n      document.body.appendChild(scrollDiv);\n      size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n\n  return size;\n}","import isDocument from './isDocument';\nexport default function isWindow(node) {\n  if ('window' in node && node.window === node) return node;\n  if (isDocument(node)) return node.defaultView || false;\n  return false;\n}","export default function isDocument(element) {\n  return 'nodeType' in element && element.nodeType === document.DOCUMENT_NODE;\n}","import isWindow from 'dom-helpers/isWindow';\nimport ownerDocument from 'dom-helpers/ownerDocument';\nfunction isBody(node) {\n  return node && node.tagName.toLowerCase() === 'body';\n}\nfunction bodyIsOverflowing(node) {\n  var doc = isWindow(node) ? ownerDocument() : ownerDocument(node);\n  var win = isWindow(node) || doc.defaultView;\n  return doc.body.clientWidth < win.innerWidth;\n}\nexport default function isOverflowing(container) {\n  var win = isWindow(container);\n  return win || isBody(container) ? bodyIsOverflowing(container) : container.scrollHeight > container.clientHeight;\n}","var BLACKLIST = ['template', 'script', 'style'];\nvar isHidable = function isHidable(_ref) {\n  var nodeType = _ref.nodeType,\n    tagName = _ref.tagName;\n  return nodeType === 1 && BLACKLIST.indexOf(tagName.toLowerCase()) === -1;\n};\nvar siblings = function siblings(container, exclude, cb) {\n  [].forEach.call(container.children, function (node) {\n    if (exclude.indexOf(node) === -1 && isHidable(node)) {\n      cb(node);\n    }\n  });\n};\nexport function ariaHidden(hide, node) {\n  if (!node) return;\n  if (hide) {\n    node.setAttribute('aria-hidden', 'true');\n  } else {\n    node.removeAttribute('aria-hidden');\n  }\n}\nexport function hideSiblings(container, _ref2) {\n  var dialog = _ref2.dialog,\n    backdrop = _ref2.backdrop;\n  siblings(container, [dialog, backdrop], function (node) {\n    return ariaHidden(true, node);\n  });\n}\nexport function showSiblings(container, _ref3) {\n  var dialog = _ref3.dialog,\n    backdrop = _ref3.backdrop;\n  siblings(container, [dialog, backdrop], function (node) {\n    return ariaHidden(false, node);\n  });\n}","import addClass from 'dom-helpers/addClass';\nimport removeClass from 'dom-helpers/removeClass';\nimport css from 'dom-helpers/css';\nimport getScrollbarSize from 'dom-helpers/scrollbarSize';\nimport isOverflowing from './isOverflowing';\nimport { ariaHidden, hideSiblings, showSiblings } from './manageAriaHidden';\nfunction findIndexOf(arr, cb) {\n  var idx = -1;\n  arr.some(function (d, i) {\n    if (cb(d, i)) {\n      idx = i;\n      return true;\n    }\n    return false;\n  });\n  return idx;\n}\n\n/**\n * Proper state management for containers and the modals in those containers.\n *\n * @internal Used by the Modal to ensure proper styling of containers.\n */\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      _ref$hideSiblingNodes = _ref.hideSiblingNodes,\n      hideSiblingNodes = _ref$hideSiblingNodes === void 0 ? true : _ref$hideSiblingNodes,\n      _ref$handleContainerO = _ref.handleContainerOverflow,\n      handleContainerOverflow = _ref$handleContainerO === void 0 ? true : _ref$handleContainerO;\n    this.hideSiblingNodes = void 0;\n    this.handleContainerOverflow = void 0;\n    this.modals = void 0;\n    this.containers = void 0;\n    this.data = void 0;\n    this.scrollbarSize = void 0;\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.handleContainerOverflow = handleContainerOverflow;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n    this.scrollbarSize = getScrollbarSize();\n  }\n  var _proto = ModalManager.prototype;\n  _proto.isContainerOverflowing = function isContainerOverflowing(modal) {\n    var data = this.data[this.containerIndexFromModal(modal)];\n    return data && data.overflowing;\n  };\n  _proto.containerIndexFromModal = function containerIndexFromModal(modal) {\n    return findIndexOf(this.data, function (d) {\n      return d.modals.indexOf(modal) !== -1;\n    });\n  };\n  _proto.setContainerStyle = function setContainerStyle(containerState, container) {\n    var style = {\n      overflow: 'hidden'\n    }; // we are only interested in the actual `style` here\n    // because we will override it\n\n    containerState.style = {\n      overflow: container.style.overflow,\n      paddingRight: container.style.paddingRight\n    };\n    if (containerState.overflowing) {\n      // use computed style, here to get the real padding\n      // to add our scrollbar width\n      style.paddingRight = parseInt(css(container, 'paddingRight') || '0', 10) + this.scrollbarSize + \"px\";\n    }\n    css(container, style);\n  };\n  _proto.removeContainerStyle = function removeContainerStyle(containerState, container) {\n    Object.assign(container.style, containerState.style);\n  };\n  _proto.add = function add(modal, container, className) {\n    var modalIdx = this.modals.indexOf(modal);\n    var containerIdx = this.containers.indexOf(container);\n    if (modalIdx !== -1) {\n      return modalIdx;\n    }\n    modalIdx = this.modals.length;\n    this.modals.push(modal);\n    if (this.hideSiblingNodes) {\n      hideSiblings(container, modal);\n    }\n    if (containerIdx !== -1) {\n      this.data[containerIdx].modals.push(modal);\n      return modalIdx;\n    }\n    var data = {\n      modals: [modal],\n      // right now only the first modal of a container will have its classes applied\n      classes: className ? className.split(/\\s+/) : [],\n      overflowing: isOverflowing(container)\n    };\n    if (this.handleContainerOverflow) {\n      this.setContainerStyle(data, container);\n    }\n    data.classes.forEach(addClass.bind(null, container));\n    this.containers.push(container);\n    this.data.push(data);\n    return modalIdx;\n  };\n  _proto.remove = function remove(modal) {\n    var modalIdx = this.modals.indexOf(modal);\n    if (modalIdx === -1) {\n      return;\n    }\n    var containerIdx = this.containerIndexFromModal(modal);\n    var data = this.data[containerIdx];\n    var container = this.containers[containerIdx];\n    data.modals.splice(data.modals.indexOf(modal), 1);\n    this.modals.splice(modalIdx, 1); // if that was the last modal in a container,\n    // clean up the container\n\n    if (data.modals.length === 0) {\n      data.classes.forEach(removeClass.bind(null, container));\n      if (this.handleContainerOverflow) {\n        this.removeContainerStyle(data, container);\n      }\n      if (this.hideSiblingNodes) {\n        showSiblings(container, modal);\n      }\n      this.containers.splice(containerIdx, 1);\n      this.data.splice(containerIdx, 1);\n    } else if (this.hideSiblingNodes) {\n      // otherwise make sure the next top modal is visible to a SR\n      var _data$modals = data.modals[data.modals.length - 1],\n        backdrop = _data$modals.backdrop,\n        dialog = _data$modals.dialog;\n      ariaHidden(false, dialog);\n      ariaHidden(false, backdrop);\n    }\n  };\n  _proto.isTopModal = function isTopModal(modal) {\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n  };\n  return ModalManager;\n}();\nexport default ModalManager;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\n/* eslint-disable @typescript-eslint/no-use-before-define, react/prop-types */\nimport activeElement from 'dom-helpers/activeElement';\nimport contains from 'dom-helpers/contains';\nimport canUseDOM from 'dom-helpers/canUseDOM';\nimport listen from 'dom-helpers/listen';\nimport React, { useState, useRef, useCallback, useImperativeHandle, forwardRef, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport useMounted from '@restart/hooks/useMounted';\nimport useWillUnmount from '@restart/hooks/useWillUnmount';\nimport usePrevious from '@restart/hooks/usePrevious';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport ModalManager from './ModalManager';\nimport useWaitForDOMRef from './useWaitForDOMRef';\nvar manager;\nfunction getManager() {\n  if (!manager) manager = new ModalManager();\n  return manager;\n}\nfunction useModalManager(provided) {\n  var modalManager = provided || getManager();\n  var modal = useRef({\n    dialog: null,\n    backdrop: null\n  });\n  return Object.assign(modal.current, {\n    add: function add(container, className) {\n      return modalManager.add(modal.current, container, className);\n    },\n    remove: function remove() {\n      return modalManager.remove(modal.current);\n    },\n    isTopModal: function isTopModal() {\n      return modalManager.isTopModal(modal.current);\n    },\n    setDialogRef: useCallback(function (ref) {\n      modal.current.dialog = ref;\n    }, []),\n    setBackdropRef: useCallback(function (ref) {\n      modal.current.backdrop = ref;\n    }, [])\n  });\n}\nvar Modal = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$show = _ref.show,\n    show = _ref$show === void 0 ? false : _ref$show,\n    _ref$role = _ref.role,\n    role = _ref$role === void 0 ? 'dialog' : _ref$role,\n    className = _ref.className,\n    style = _ref.style,\n    children = _ref.children,\n    _ref$backdrop = _ref.backdrop,\n    backdrop = _ref$backdrop === void 0 ? true : _ref$backdrop,\n    _ref$keyboard = _ref.keyboard,\n    keyboard = _ref$keyboard === void 0 ? true : _ref$keyboard,\n    onBackdropClick = _ref.onBackdropClick,\n    onEscapeKeyDown = _ref.onEscapeKeyDown,\n    transition = _ref.transition,\n    backdropTransition = _ref.backdropTransition,\n    _ref$autoFocus = _ref.autoFocus,\n    autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,\n    _ref$enforceFocus = _ref.enforceFocus,\n    enforceFocus = _ref$enforceFocus === void 0 ? true : _ref$enforceFocus,\n    _ref$restoreFocus = _ref.restoreFocus,\n    restoreFocus = _ref$restoreFocus === void 0 ? true : _ref$restoreFocus,\n    restoreFocusOptions = _ref.restoreFocusOptions,\n    renderDialog = _ref.renderDialog,\n    _ref$renderBackdrop = _ref.renderBackdrop,\n    renderBackdrop = _ref$renderBackdrop === void 0 ? function (props) {\n      return /*#__PURE__*/React.createElement(\"div\", props);\n    } : _ref$renderBackdrop,\n    providedManager = _ref.manager,\n    containerRef = _ref.container,\n    containerClassName = _ref.containerClassName,\n    onShow = _ref.onShow,\n    _ref$onHide = _ref.onHide,\n    onHide = _ref$onHide === void 0 ? function () {} : _ref$onHide,\n    onExit = _ref.onExit,\n    onExited = _ref.onExited,\n    onExiting = _ref.onExiting,\n    onEnter = _ref.onEnter,\n    onEntering = _ref.onEntering,\n    onEntered = _ref.onEntered,\n    rest = _objectWithoutPropertiesLoose(_ref, [\"show\", \"role\", \"className\", \"style\", \"children\", \"backdrop\", \"keyboard\", \"onBackdropClick\", \"onEscapeKeyDown\", \"transition\", \"backdropTransition\", \"autoFocus\", \"enforceFocus\", \"restoreFocus\", \"restoreFocusOptions\", \"renderDialog\", \"renderBackdrop\", \"manager\", \"container\", \"containerClassName\", \"onShow\", \"onHide\", \"onExit\", \"onExited\", \"onExiting\", \"onEnter\", \"onEntering\", \"onEntered\"]);\n  var container = useWaitForDOMRef(containerRef);\n  var modal = useModalManager(providedManager);\n  var isMounted = useMounted();\n  var prevShow = usePrevious(show);\n  var _useState = useState(!show),\n    exited = _useState[0],\n    setExited = _useState[1];\n  var lastFocusRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return modal;\n  }, [modal]);\n  if (canUseDOM && !prevShow && show) {\n    lastFocusRef.current = activeElement();\n  }\n  if (!transition && !show && !exited) {\n    setExited(true);\n  } else if (show && exited) {\n    setExited(false);\n  }\n  var handleShow = useEventCallback(function () {\n    modal.add(container, containerClassName);\n    removeKeydownListenerRef.current = listen(document, 'keydown', handleDocumentKeyDown);\n    removeFocusListenerRef.current = listen(document, 'focus',\n    // the timeout is necessary b/c this will run before the new modal is mounted\n    // and so steals focus from it\n    function () {\n      return setTimeout(handleEnforceFocus);\n    }, true);\n    if (onShow) {\n      onShow();\n    } // autofocus after onShow to not trigger a focus event for previous\n    // modals before this one is shown.\n\n    if (autoFocus) {\n      var currentActiveElement = activeElement(document);\n      if (modal.dialog && currentActiveElement && !contains(modal.dialog, currentActiveElement)) {\n        lastFocusRef.current = currentActiveElement;\n        modal.dialog.focus();\n      }\n    }\n  });\n  var handleHide = useEventCallback(function () {\n    modal.remove();\n    removeKeydownListenerRef.current == null ? void 0 : removeKeydownListenerRef.current();\n    removeFocusListenerRef.current == null ? void 0 : removeFocusListenerRef.current();\n    if (restoreFocus) {\n      var _lastFocusRef$current;\n\n      // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n      (_lastFocusRef$current = lastFocusRef.current) == null ? void 0 : _lastFocusRef$current.focus == null ? void 0 : _lastFocusRef$current.focus(restoreFocusOptions);\n      lastFocusRef.current = null;\n    }\n  }); // TODO: try and combine these effects: https://github.com/react-bootstrap/react-overlays/pull/794#discussion_r409954120\n  // Show logic when:\n  //  - show is `true` _and_ `container` has resolved\n\n  useEffect(function () {\n    if (!show || !container) return;\n    handleShow();\n  }, [show, container, /* should never change: */\n  handleShow]); // Hide cleanup logic when:\n  //  - `exited` switches to true\n  //  - component unmounts;\n\n  useEffect(function () {\n    if (!exited) return;\n    handleHide();\n  }, [exited, handleHide]);\n  useWillUnmount(function () {\n    handleHide();\n  }); // --------------------------------\n\n  var handleEnforceFocus = useEventCallback(function () {\n    if (!enforceFocus || !isMounted() || !modal.isTopModal()) {\n      return;\n    }\n    var currentActiveElement = activeElement();\n    if (modal.dialog && currentActiveElement && !contains(modal.dialog, currentActiveElement)) {\n      modal.dialog.focus();\n    }\n  });\n  var handleBackdropClick = useEventCallback(function (e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n    onBackdropClick == null ? void 0 : onBackdropClick(e);\n    if (backdrop === true) {\n      onHide();\n    }\n  });\n  var handleDocumentKeyDown = useEventCallback(function (e) {\n    if (keyboard && e.keyCode === 27 && modal.isTopModal()) {\n      onEscapeKeyDown == null ? void 0 : onEscapeKeyDown(e);\n      if (!e.defaultPrevented) {\n        onHide();\n      }\n    }\n  });\n  var removeFocusListenerRef = useRef();\n  var removeKeydownListenerRef = useRef();\n  var handleHidden = function handleHidden() {\n    setExited(true);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    onExited == null ? void 0 : onExited.apply(void 0, args);\n  };\n  var Transition = transition;\n  if (!container || !(show || Transition && !exited)) {\n    return null;\n  }\n  var dialogProps = _extends({\n    role: role,\n    ref: modal.setDialogRef,\n    // apparently only works on the dialog role element\n    'aria-modal': role === 'dialog' ? true : undefined\n  }, rest, {\n    style: style,\n    className: className,\n    tabIndex: -1\n  });\n  var dialog = renderDialog ? renderDialog(dialogProps) : /*#__PURE__*/React.createElement(\"div\", dialogProps, /*#__PURE__*/React.cloneElement(children, {\n    role: 'document'\n  }));\n  if (Transition) {\n    dialog = /*#__PURE__*/React.createElement(Transition, {\n      appear: true,\n      unmountOnExit: true,\n      \"in\": !!show,\n      onExit: onExit,\n      onExiting: onExiting,\n      onExited: handleHidden,\n      onEnter: onEnter,\n      onEntering: onEntering,\n      onEntered: onEntered\n    }, dialog);\n  }\n  var backdropElement = null;\n  if (backdrop) {\n    var BackdropTransition = backdropTransition;\n    backdropElement = renderBackdrop({\n      ref: modal.setBackdropRef,\n      onClick: handleBackdropClick\n    });\n    if (BackdropTransition) {\n      backdropElement = /*#__PURE__*/React.createElement(BackdropTransition, {\n        appear: true,\n        \"in\": !!show\n      }, backdropElement);\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/React.createElement(React.Fragment, null, backdropElement, dialog), container));\n});\nModal.displayName = 'Modal';\nexport default Object.assign(Modal, {\n  Manager: ModalManager\n});","import ownerDocument from 'dom-helpers/ownerDocument';\nimport { useState, useEffect } from 'react';\nexport var resolveContainerRef = function resolveContainerRef(ref) {\n  var _ref;\n  if (typeof document === 'undefined') return null;\n  if (ref == null) return ownerDocument().body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if ((_ref = ref) != null && _ref.nodeType) return ref || null;\n  return null;\n};\nexport default function useWaitForDOMRef(ref, onResolved) {\n  var _useState = useState(function () {\n      return resolveContainerRef(ref);\n    }),\n    resolvedRef = _useState[0],\n    setRef = _useState[1];\n  if (!resolvedRef) {\n    var earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n  useEffect(function () {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  useEffect(function () {\n    var nextRef = resolveContainerRef(ref);\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}","import { useRef, useEffect } from 'react';\n\n/**\n * Track whether a component is current mounted. Generally less preferable than\n * properlly canceling effects so they don't run after a component is unmounted,\n * but helpful in cases where that isn't feasible, such as a `Promise` resolution.\n *\n * @returns a function that returns the current isMounted state of the component\n *\n * ```ts\n * const [data, setData] = useState(null)\n * const isMounted = useMounted()\n *\n * useEffect(() => {\n *   fetchdata().then((newData) => {\n *      if (isMounted()) {\n *        setData(newData);\n *      }\n *   })\n * })\n * ```\n */\nexport default function useMounted() {\n  const mounted = useRef(true);\n  const isMounted = useRef(() => mounted.current);\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n  return isMounted.current;\n}","import { useEffect, useRef } from 'react';\n\n/**\n * Store the last of some value. Tracked via a `Ref` only updating it\n * after the component renders.\n *\n * Helpful if you need to compare a prop value to it's previous value during render.\n *\n * ```ts\n * function Component(props) {\n *   const lastProps = usePrevious(props)\n *\n *   if (lastProps.foo !== props.foo)\n *     resetValueFromProps(props.foo)\n * }\n * ```\n *\n * @param value the value to track\n */\nexport default function usePrevious(value) {\n  const ref = useRef(null);\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}","import React, { useRef, useEffect } from \"react\";\nimport { NoteGraphView, NoteGraphModel } from \"note-graph\";\nimport { navigate } from \"gatsby\";\nimport { useGraphData } from \"../use-note-graph-data\";\nimport { useWindowSize } from \"../use-window-size\";\nimport { Box, ButtonOutline } from \"@primer/components\";\nimport { Modal } from \"react-overlays\";\nimport styled from \"styled-components\";\nimport { XIcon } from \"@primer/octicons-react\";\n\nconst CloseButton = styled(ButtonOutline)`\n  position: absolute;\n  bottom: -60px;\n  z-index: 98;\n  cursor: pointer;\n  left: 50%;\n  transform: translate(-50%, 0);\n  background: none;\n  color: white;\n`;\nconst CloseIcon = styled(XIcon)`\n  position: relative;\n  top: -2px;\n  margin-right: 6px;\n`;\nconst RESULTS_WIDTH = 0;\nconst Backdrop = styled(\"div\")`\n  position: fixed;\n  z-index: 98;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #000;\n  opacity: 0.5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nconst renderBackdrop = (props) => <Backdrop {...props} />;\nconst StyledModal = styled(Modal)`\n  z-index: 98;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\nexport default function GraphView({\n  setIsOpen,\n  isOpen,\n  currentSlug,\n  tagsGroups,\n}) {\n  const { notesMap } = useGraphData(tagsGroups);\n  const windowSize = useWindowSize();\n  const graphContainer = useRef(null);\n  const notes = Array.from(notesMap.values());\n\n  useEffect(() => {\n    if (!graphContainer.current || !isOpen) {\n      return;\n    }\n\n    const graphModel = new NoteGraphModel(notes);\n    const modalSize = {\n      width: Math.min(windowSize.width - 40, 1400),\n      height: Math.min(windowSize.height - 150, 800),\n    };\n    const noteGraphView = new NoteGraphView({\n      container: graphContainer.current,\n      graphModel,\n      width: modalSize.width - RESULTS_WIDTH,\n      height: modalSize.height,\n    });\n\n    noteGraphView.onInteraction(\"nodeClick\", ({ node }) => {\n      if (node.url) {\n        navigate(node.url);\n      }\n    });\n\n    if (currentSlug) {\n      const currentNoteInfo = graphModel.getNodeInfoById(currentSlug);\n      const shouldZoomToFit =\n        currentNoteInfo && Boolean(currentNoteInfo.neighbors?.length);\n      noteGraphView.setSelectedNodes([currentSlug], { shouldZoomToFit });\n    }\n\n    return () => {\n      noteGraphView.dispose();\n    };\n  }, [notes, isOpen, currentSlug, windowSize]);\n  if (!isOpen) {\n    return null;\n  }\n\n  return (\n    <StyledModal\n      show={isOpen}\n      onHide={(e) => {\n        setIsOpen(false);\n      }}\n      renderBackdrop={renderBackdrop}\n      aria-labelledby=\"modal-label\"\n    >\n      <Box position=\"relative\">\n        <CloseButton\n          onClick={() => {\n            setIsOpen(false);\n          }}\n        >\n          <CloseIcon size={16}></CloseIcon>\n          CLOSE\n        </CloseButton>\n\n        <Box\n          display=\"flex\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          onClick={(ev) => {\n            ev.preventDefault();\n          }}\n        >\n          <div ref={graphContainer} id=\"graph-container\"></div>\n        </Box>\n      </Box>\n    </StyledModal>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nexport function useWindowSize() {\n  const isClient = typeof window === \"object\";\n\n  function getSize() {\n    return {\n      width: isClient ? window.innerWidth : undefined,\n      height: isClient ? window.innerHeight : undefined,\n    };\n  }\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient) {\n      return false;\n    }\n\n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  // Empty array ensures that effect is only run on mount and unmount\n\n  return windowSize;\n}\n"],"names":["max","values","valueof","undefined","value","index","min","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","this","rgb","formatHex","color_formatRgb","formatRgb","color","format","m","l","trim","toLowerCase","exec","length","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","NaN","n","r","g","b","a","rgbConvert","o","opacity","arguments","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","Math","round","toString","h","s","Hsl","hslConvert","hsl","clamph","clampt","hsl2rgb","m1","m2","copy","channels","Object","assign","constructor","displayable","formatHex8","formatHsl","k","pow","clamp","factory","prototype","extend","parent","definition","create","key","radians","PI","degrees","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","x","z","rgb2lrgb","y","xyz2lab","lab","t","lab2xyz","lrgb2rgb","hclConvert","c","atan2","sqrt","lch","hcl","cos","sin","A","B","C","D","E","ED","EB","BC_DA","cubehelix","Cubehelix","bl","cubehelixConvert","cosh","sinh","noop","dispatch","i","_","test","Error","Dispatch","get","type","name","set","callback","slice","concat","push","on","typename","types","T","split","map","indexOf","call","that","args","Array","apply","nodes","strength","force","node","sx","sy","initialize","random","d","vx","vy","radius","radii","iterations","tree","xi","yi","ri","ri2","quadtree","visitAfter","prepare","visit","quad","x0","y0","x1","y1","data","rj","jiggle","constant","_nodes","_random","find","nodeById","nodeId","links","strengths","distances","count","bias","id","link","source","target","distance","alpha","Map","initializeStrength","initializeDistance","initialRadius","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","timer","step","event","lcg","tick","stop","forEach","fx","fy","initializeNodes","angle","initializeForce","restart","randomSource","delete","dx","dy","d2","closest","Infinity","distanceMin2","distanceMax2","theta2","accumulate","q","weight","abs","next","x2","w","distanceMin","distanceMax","theta","radiuses","xz","yz","basis","v0","v1","v2","v3","linear","gamma","nogamma","exponential","rgbGamma","start","end","rgbSpline","spline","colors","floor","reA","reB","am","bm","bs","bi","lastIndex","one","zero","join","xm","ym","xp","yp","right","bottom","j","_root","leaf","_x0","_y0","_x1","_y1","_x","_y","defaultX","defaultY","Quadtree","addAll","leaf_copy","treeProto","child","pop","add","cover","extent","y2","x3","y3","quads","remove","retainer","previous","removeAll","root","size","band","bandwidth","scale","ordinal","unknown","domain","ordinalRange","range","r0","r1","paddingInner","paddingOuter","align","rescale","reverse","ceil","rangeRound","padding","init","pointish","point","e10","e5","e2","tickSpec","power","log10","error","factor","i1","i2","inc","ticks","tickIncrement","tickStep","ascending","descending","bisector","f","compare1","compare2","delta","left","lo","hi","mid","center","ascendingBisect","bisectRight","genericArray","nb","na","Date","setTime","string","date","ArrayBuffer","isView","DataView","isArray","valueOf","object","unit","identity","normalize","bimap","interpolate","d0","d1","polymap","bisect","transformer","transform","untransform","piecewise","output","input","clamper","invert","from","u","continuous","prefixExponent","re","formatSpecifier","specifier","match","FormatSpecifier","fill","sign","symbol","width","comma","precision","formatDecimalParts","p","toExponential","coefficient","exponent","toFixed","toLocaleString","replace","toPrecision","formatRounded","toUpperCase","formatPrefix","prefixes","locale","grouping","thousands","group","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i0","formatTrim","charCodeAt","e","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","maxIter","interval","transformLog","log","transformExp","exp","transformLogn","transformExpn","pow10","isFinite","reflect","loggish","logs","pows","base","log2","logp","powp","v","transformSymlog","log1p","transformSymexp","expm1","symlogish","symlog","transformPow","transformSqrt","transformSquare","powish","square","radial","squared","unsquare","compareDefined","compare","TypeError","array","sd","swap","quantile","Float64Array","numbers","value0","subarray","quantileSorted","thresholds","invertExtent","sort","quantiles","quantize","threshold","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","timeInterval","floori","offseti","field","offset","filter","every","millisecond","second","getMilliseconds","getUTCSeconds","timeMinute","getSeconds","getMinutes","utcMinute","setUTCSeconds","getUTCMinutes","timeHour","getHours","utcHour","setUTCMinutes","getUTCHours","timeDay","setHours","setDate","getDate","getTimezoneOffset","utcDay","setUTCHours","setUTCDate","getUTCDate","unixDay","timeWeekday","getDay","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","timeMonth","setMonth","getMonth","getFullYear","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","timeYear","setFullYear","utcYear","setUTCFullYear","ticker","year","month","week","day","hour","minute","tickIntervals","tickInterval","_ref","utcTicks","utcTickInterval","timeTicks","timeTickInterval","localDate","H","M","S","L","utcDate","UTC","newDate","timeFormat","utcFormat","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","dISO","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","time","utcTime","k10","interpolator","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","k21","r2","I","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","parse","X","utcParse","formatLocale","initRange","initInterpolator","InternMap","entries","keyof","super","defineProperties","_intern","_key","intern_get","has","intern_set","intern_delete","_ref2","_ref3","implicit","Symbol","taskHead","taskTail","frame","timeout","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","window","requestAnimationFrame","bind","setTimeout","clearNow","Timer","_call","_time","_next","delay","wake","timerFlush","sleep","nap","poke","clearTimeout","clearInterval","setInterval","none","selector","querySelector","empty","querySelectorAll","arrayAll","select","matches","childMatcher","childFirst","firstElementChild","children","update","EnterNode","datum","ownerDocument","namespaceURI","_parent","__data__","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","appendChild","insertBefore","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","document","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","removeEventListener","listener","options","onAdd","contextListener","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","splice","contains","Selection","groups","parents","_groups","_parents","selection","subgroups","subnode","subgroup","selectAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","enterGroup","updateGroup","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","context","groups0","groups1","m0","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","each","attr","getAttributeNS","property","classed","text","html","creator","insert","before","deep","typenames","parseTypenames","iterator","nonpassive","passive","nonpassivecapture","capture","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","zoomRho","rho","rho2","rho4","zoom","p0","p1","ux0","uy0","w0","ux1","uy1","w1","b0","b1","coshr0","tanh","duration","SQRT2","_1","_2","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","top","clientTop","pageX","pageY","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","timing","schedules","__transition","self","tween","schedule","state","ease","active","svgNode","translateX","translateY","rotate","skewX","scaleX","scaleY","atan","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","number","translate","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","value1","string00","interpolate0","string1","string0","string10","attrTweenNS","attrInterpolateNS","_value","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Transition","_name","newId","selection_prototype","inherit","id0","id1","on0","on1","sit","onFunction","styleTween","styleNull","listener0","styleMaybeRemove","styleInterpolate","textTween","textInterpolate","removeFunction","easeConstant","easeVarying","Promise","resolve","reject","cancel","interrupt","defaultTiming","ZoomEvent","enumerable","configurable","Transform","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","__zoom","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","hasAttribute","viewBox","height","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","navigator","maxTouchPoints","defaultConstrain","translateExtent","dx0","dx1","dy0","dy1","touchstarting","touchfirst","touchending","constrain","wheelDelta","touchable","scaleExtent","listeners","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","clean","__zooming","Gesture","taps","_len","pointer","wheel","mouse","_len2","_key2","moved","_len3","_key3","changedTouches","k1","shiftKey","_len4","_key4","started","touches","identifier","touch0","touch1","_len5","_key5","l0","l1","dp","dl","_len6","_key6","hypot","collection","scaleBy","scaleTo","translateBy","translateTo","emit","clickDistance","DragEvent","subject","defaultContainer","defaultSubject","freeSelf","Function","reWhitespace","reTrimStart","objectProto","nativeObjectToString","symToStringTag","toStringTag","isOwn","tag","unmasked","result","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","isBinary","nativeMax","nativeMin","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","flush","Easing","freeze","Linear","None","amount","In","Out","InOut","Quadratic","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce","generatePow","EPSILON","Group","_tweens","_tweensAddedDuringUpdate","getAll","_this","keys","tweenId","getId","preserve","tweenIds","autoStart","Interpolation","fn","Utils","Bezier","pw","bn","Bernstein","CatmullRom","fc","Factorial","p2","p3","Sequence","nextId","_nextId","mainGroup","Tween","_object","_group","_isPaused","_pauseStart","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_isDynamic","_initialRepeat","_repeat","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallbackFired","_onEveryStartCallbackFired","_isChainStopped","_propertiesAreSetUp","_goToEnd","isPlaying","isPaused","to","dynamic","overrideStartingValues","_swapEndStartRepeatValues","tmp","prop","_setupProperties","startFromCurrentValues","startValue","startValueIsArray","propType","isInterpolationList","endValues","temp","_handleRelativeValue","console","warn","nestedObject","stopChainedTweens","_onStopCallback","pause","resume","numChainedTweens","repeat","times","repeatDelay","_repeatDelayTime","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","tweens","_i","onStart","_onStartCallback","onEveryStart","_onEveryStartCallback","onUpdate","_onUpdateCallback","onRepeat","_onRepeatCallback","onComplete","_onCompleteCallback","onStop","endTime","_updateProperties","parseFloat","startIsArray","endIsArray","endValue","TWEEN","_defineProperties","props","descriptor","writable","defineProperty","arg","hint","prim","toPrimitive","res","_toPrimitive","_createClass","Constructor","protoProps","staticProps","_slicedToArray","arr","_arrayWithHoles","done","return","_iterableToArrayLimit","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","len","arr2","Prop","_ref$default","defaultVal","_ref$triggerUpdate","triggerUpdate","_ref$onChange","onChange","newVal","instance","_classCallCheck","_ref2$stateInit","stateInit","_ref2$props","rawProps","_ref2$methods","methods","_ref2$aliases","aliases","_ref2$init","initFn","_ref2$update","updateFn","propName","initialised","changedProps","comp","nodeElement","initStatic","digest","_ref3$triggerUpdate","redigest","_ref3$onChange","_ref3$defaultVal","curVal","val","getSetProp","methodName","_methods$methodName","_ref4","_ref5","alias","resetProps","_rerender","obj","_typeof","trimLeft","trimRight","tinycolor","opts","ok","matchers","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","substr","convertToPercentage","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","pad2","rgbaToArgbHex","convertDecimalToHex","_desaturate","toHsl","clamp01","_saturate","_greyscale","desaturate","_lighten","_brighten","toRgb","_darken","_spin","hue","_complement","polyad","_splitcomplement","_analogous","results","slices","part","ret","_monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","_applyModification","lighten","brighten","darken","saturate","greyscale","spin","_applyCombination","analogous","complement","monochromatic","splitcomplement","triad","tetrad","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","parms","level","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","burntsienna","flipped","flip","isOnePointZero","processPercent","isPercentage","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","rgb2Int","checksum","csBits","_default","registry","num","idx","cs","padStart","_tinyColor$toRgb","initialAngleRoll","initialAngleYaw","numDimensions","nDim","fz","vz","cbrt","rollAngle","yawAngle","dz","shift","includes","binarytree","Binarytree","halves","zm","zp","z0","_z0","z1","_z1","_z","defaultZ","octree","Octree","treeNode","numChildren","arg1","arg2","arg3","sz","zz","z2","z3","octs","acos","crt","pi","tau","quart","nMax","MAX_SAFE_INTEGER","nMin","MIN_SAFE_INTEGER","ZERO","utils","Tvalues","Cvalues","arcfn","derivativeFn","compute","points","_3d","mt","mt2","dCpts","JSON","stringify","computeWithRatios","ratios","f1","f2","f3","f4","derive","dpoints","dpt","between","approximately","sum","ds","de","ts","te","lerp","pointToString","pointsToString","dx2","dy2","pos","dist","LUT","mpos","mdist","abcratio","projectionratio","lli8","x4","y4","lli4","p4","lli","makeline","findbbox","sections","mx","my","MX","MY","bbox","shapeintersections","s1","bbox1","s2","bbox2","curveIntersectionThreshold","bboxoverlap","intersections","a1","startcap","forward","back","endcap","a2","virtual","l2","iss","intersects","makeshape","bpl","fpl","shape","getminmax","curve","line","tx","ty","roots","aligned","reduce","pa","pb","pc","q2","discriminant","u1","mp3","phi","droots","curvature","kOnly","dnm","adk","dk","dd","qdsum","pk","nk","inflections","trm","sq","b2","dims","dim","expandbox","_bbox","pairiteration","c1b","c2b","_t1","_t2","cc1","cc2","pairs","pair","getccenter","dx1p","dy1p","dx2p","dy2p","mx1","my1","mx2","my2","mx1n","my1n","mx2n","my2n","arc","numberSort","PolyBezier","curves","addCurve","coords","coordlen","newargs","higher","dimlen","baselength","_linear","_lut","quadraticFromPoints","abc","getABC","cubicFromPoints","selen","lx","ly","bx1","by1","bx2","by2","e1","nc1","nc2","getUtils","toSVG","last","setRatios","verify","print","coordDigest","_print","computedirection","clockwise","derivative","um","getLUT","steps","lut","hits","project","ft","np","pim","dderivative","normal","__normal3","__normal2","q1","R","hull","_p","pt","span","extrema","mfn","overlaps","lbbox","tbbox","nv","simple","n1","n2","segment","pass1","pass2","distanceFn","ov","rc","outline","d3","d4","fline","bline","ls","le","segments","reduced","fcurves","bcurves","alen","tlen","graduated","linearDistanceFunction","slen","fs","fe","be","outlineshapes","shapes","lineIntersects","curveintersects","selfintersects","arcs","errorThreshold","_iterate","_error","np1","ref","circles","safety","t_s","t_e","np2","np3","prev_arc","curr_good","prev_good","t_m","prev_e","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_s","_e","_arr","_n","_d","err","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","_setPrototypeOf","setPrototypeOf","__proto__","_construct","Parent","Class","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct","css","insertAt","head","getElementsByTagName","styleSheet","cssText","createTextNode","styleInject","autoColorScale","autoColorObjects","objects","colorByAccessor","colorField","notifyRedraw","onNeedsRedraw","updDataPhotons","isShadow","linkParticlesAccessor","linkDirectionalParticles","graphData","numPhotons","__photons","CanvasForceGraph","engineRunning","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeVal","nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","nodeVisibility","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCurvature","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","globalScale","d3AlphaMin","d3AlphaDecay","forceLayout","d3AlphaTarget","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onFinishUpdate","onEngineTick","onEngineStop","d3Force","forceName","forceFn","d3ReheatSimulation","resetCountdown","cntTicks","startTickTime","isEngineRunning","tickFrame","getLength","getRelPos","getVisibility","getColor","getNodeVal","ctx","getWidth","getLineDash","getCurvature","getLinkCanvasObjectMode","padAmount","visibleLinks","__controlPoints","cp","beforeCustomLinks","afterCustomLinks","defaultPaintLinks","replaceCustomLinks","otherCustomLinks","after","save","restore","linksPerColor","keyAccessors","multiItem","flattenKeys","keyAccessor","isProp","indexedResult","item","iterObj","itemVal","_itemVal","propVal","rest","flatten","accKeys","vals","linksPerWidth","lineColor","linesPerLineDash","lineWidth","_ref6","lineDashSegments","beginPath","moveTo","controlPoints","lineTo","strokeStyle","setLineDash","stroke","paintLinks","arrowLength","startR","endR","arrowRelPos","arrowColor","arrowHalfWidth","bzLine","getCoordsAlongLine","lineLen","posAlongLine","arrowHead","arrowTail","arrowTailVertex","arrowTailAngle","fillStyle","getNumPhotons","getSpeed","getDiameter","numCyclePhotons","particleSpeed","photons","photonR","photonColor","cyclePhotonIdx","needsCleanup","photon","singleHop","__singleHop","__progressRatio","photonPosRatio","paintPhotons","getVal","getNodeCanvasObjectMode","visibleNodes","paintNodes","emitParticle","canvasCtx","linkForce","nodeDepths","idAccessor","_ref2$nodeFilter","nodeFilter","_ref2$onLoopError","onLoopError","loopIds","graph","depth","skip","sourceId","getNodeId","targetId","sourceNode","targetNode","foundLoops","traverse","nodeStack","currentDepth","_loop","loop","some","foundLoop","_ref7","getDagDepths","maxDepth","getFFn","fix","fxFn","fyFn","initNodes","nodeDepth","linkKapsule","kapsulePropNames","kapsuleType","propNames","dummyK","_destructor","linkProp","linkMethod","method","returnVals","kapsuleInstance","returnVal","bindFG","bindBoth","linkedProps","linkedMethods","adjustCanvasSize","canvas","curWidth","curHeight","pxScale","devicePixelRatio","shadowCanvas","getContext","__baseElem","needsRedraw","resetTransform","pxRatio","setTransform","clearCanvas","clearRect","forceGraph","innerWidth","innerHeight","objs","cur","colorTracker","lookup","__indexColor","register","shadowGraph","backgroundColor","background","nodeLabel","nodePointerAreaPaint","paintFn","flushShadowCanvas","linkPointerAreaPaint","linkLabel","linkHoverPrecision","minZoom","maxZoom","enableNodeDrag","enableZoomInteraction","enablePanInteraction","enableZoomPanInteraction","enablePointerInteraction","hoverObj","autoPauseRedraw","onNodeDrag","onNodeDragEnd","onNodeClick","onNodeRightClick","onNodeHover","onLinkClick","onLinkRightClick","onLinkHover","onBackgroundClick","onBackgroundRightClick","onZoom","onZoomEnd","onRenderFramePre","onRenderFramePost","stopAnimation","graph2ScreenCoords","screen2GraphCoords","centerAt","transitionDuration","finalPos","getCenter","setCenter","getZoom","setZoom","zoomToFit","bboxArgs","getGraphBbox","zoomK","getR","nodesPos","pauseAnimation","animationFrameRequestId","cancelAnimationFrame","resumeAnimation","_animationCycle","lastSetZoom","domNode","container","position","shadowCtx","willReadFrequently","pointerPos","getObjUnderPointer","px","getImageData","mousedownx","mousedowny","mousemoving","gestures","drag","beforestart","mousemoved","mouseupped","nodrag","touch","ev","__initialDragPos","initPos","dragPos","isPointerDragging","__dragged","toolTipElem","evType","isPointerPressed","pointerDownEvent","pressure","pointerType","movementX","movementY","scrollLeft","scrollTop","pageXOffset","pageYOffset","cbEvents","_fn","refreshShadowCanvas","animate","doRedraw","prevObj","prevObjType","objType","_fn2","tooltipContent","visibility","default","debounce","throttle","body","fontSize","highlightedForeground","note","regular","highlighted","hoverNodeLink","highlightedDirection","inbound","outbound","circle","closePath","font","textAlign","textBaseline","fillText","NoteGraphModel","subscribers","notes","updateCache","title","linkIds","neighbors","linkTo","formLinkId","referencedBy","cache","nodeInfos","linkMap","getNodeInfoById","getLinkById","toGraphViewData","publishChange","subscribe","NoteGraphView","hasEngineStopped","engineStopSizingFn","sizeScaler","scaleLinear","labelAlphaScaler","interactionCallbacks","hasInitialZoomToFit","actions","selectNode","selectedNodes","clear","highlightNode","hoverNode","shouldDebugColor","model","Set","focusNodes","focusLinks","initStyle","graphModel","linkWithGraphModel","lazyInitView","initView","updateStyle","refreshByStyle","getNodeState","border","lessened","getLinkColor","currentDataModelEntry","unsub","updateViewData","getColorOnContainer","focusedNode","updateCanvasSize","ForceGraph","offsetLeft","offsetTop","forceX","forceY","forceCollide","getLinkState","updateViewModeInteractiveState","getModifierState","fireInteraction","enableSmartZooming","initGraphSmartZooming","getLinkNodeId","setSelectedNodes","isAppend","shouldZoomToFit","onInteraction","dispose","getDefaultColorOf","exports","useGraphData","tagsGroups","useStaticQuery","notesMap","useMemo","latestNote","url","tagGroup","items","allMdx","fields","slug","inboundReferences","outboundReferences","activeElement","doc","nodeName","optionsSupported","onceSupported","once","canUseDOM","eventName","handler","wrappedHandler","__once","onceHandler","useWillUnmount","onUnmount","valueRef","useRef","current","useUpdatedRef","useEffect","useEventCallback","useCallback","addClass","element","className","hasClass","replaceClassName","origClass","classToRemove","removeClass","psuedoElement","ownerWindow","rUpper","msPattern","hyphenateStyleName","hyphenate","supportedTransforms","transforms","isTransform","isWindow","nodeType","DOCUMENT_NODE","isOverflowing","tagName","win","bodyIsOverflowing","scrollHeight","BLACKLIST","siblings","exclude","cb","ariaHidden","hide","manager","ModalManager","_temp","_ref$hideSiblingNodes","hideSiblingNodes","_ref$handleContainerO","handleContainerOverflow","modals","containers","scrollbarSize","recalc","scrollDiv","overflow","offsetWidth","_proto","isContainerOverflowing","modal","containerIndexFromModal","overflowing","setContainerStyle","containerState","paddingRight","removeContainerStyle","modalIdx","containerIdx","dialog","backdrop","hideSiblings","classes","showSiblings","_data$modals","isTopModal","resolveContainerRef","useModalManager","provided","modalManager","setDialogRef","setBackdropRef","Modal","forwardRef","_ref$show","show","_ref$role","role","_ref$backdrop","_ref$keyboard","keyboard","onBackdropClick","onEscapeKeyDown","backdropTransition","_ref$autoFocus","autoFocus","_ref$enforceFocus","enforceFocus","_ref$restoreFocus","restoreFocus","restoreFocusOptions","renderDialog","_ref$renderBackdrop","renderBackdrop","providedManager","containerRef","containerClassName","onShow","_ref$onHide","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered","onResolved","_useState","useState","resolvedRef","setRef","earlyRef","nextRef","useWaitForDOMRef","isMounted","mounted","useMounted","prevShow","usePrevious","exited","setExited","lastFocusRef","useImperativeHandle","handleShow","removeKeydownListenerRef","handleDocumentKeyDown","removeFocusListenerRef","handleEnforceFocus","currentActiveElement","focus","handleHide","_lastFocusRef$current","handleBackdropClick","keyCode","defaultPrevented","dialogProps","tabIndex","appear","unmountOnExit","backdropElement","BackdropTransition","onClick","displayName","Manager","CloseButton","styled","ButtonOutline","withConfig","componentId","CloseIcon","XIcon","RESULTS_WIDTH","Backdrop","React","StyledModal","GraphView","setIsOpen","isOpen","currentSlug","windowSize","isClient","getSize","setWindowSize","handleResize","useWindowSize","graphContainer","modalSize","noteGraphView","navigate","_currentNoteInfo$neig","currentNoteInfo","Box","display","justifyContent","alignItems"],"sourceRoot":""}